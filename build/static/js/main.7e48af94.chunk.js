(this["webpackJsonpcrime-maps"]=this["webpackJsonpcrime-maps"]||[]).push([[0],{126:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),i=a(63),l=a(42),s=a(170),u=a(38),m=a(172),p=a(26),d=a(171),f=a(151),g=a(81),b=a.n(g),E=Object(f.a)((function(e){return{root:{width:360,flexShrink:0},rootPaper:{width:360},header:{position:"relative",height:200,backgroundImage:"url(".concat(b.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"},searchContainer:{display:"flex",justifyContent:"space-between",margin:e.spacing(3),padding:"5px 10px",backgroundColor:"#fff",borderRadius:2*e.shape.borderRadius,border:"1px solid #ccc"},search:{width:"86%"},darkBG:{paddingTop:1,height:"100%",backgroundColor:"rgba(0, 0, 0, .5)"}}})),h=a(55),v=a.n(h),O=a(23),x=a(48),C=a(154),j=a(156),k=a(56),y=Object(f.a)((function(e){return Object(k.a)({root:{display:"flex",alignItems:"center",overflowX:"hidden",margin:e.spacing(1)},cityName:{marginLeft:e.spacing(1),color:e.palette.text},emblemContainer:{display:"none"},grow:{flexGrow:1},changeCityButton:{color:e.palette.text}},e.breakpoints.up("md"),{root:{margin:e.spacing(3)},cityName:{color:"#fff"},emblemContainer:{display:"flex",justifyContent:"center",alignItems:"center",width:40,height:40,background:"#fff",borderRadius:"50%"},emblem:{height:30},changeCityButton:{color:"#fff"}})})),N=a(85),w=a.n(N),B=function(){return{type:"FETCH_CITIES"}},I=function(e){return{type:"MODAL",isOpen:e}},R=function(e){return{type:"ERROR",error:e}};var S=Object(l.b)((function(e){return{loading:e.cities.loading}}),(function(e){return Object(O.b)({fetchCities:B,setModal:I},e)}))((function(e){var t=e.fetchCities,a=e.setModal,c=e.loading,o=y();return Object(n.useEffect)((function(){c&&t()}),[c,t]),r.a.createElement("div",{className:o.root},r.a.createElement("div",{className:o.emblemContainer},r.a.createElement("img",{className:o.emblem,src:w.a,alt:"\u041d\u043e\u0432\u043e\u0441\u0438\u0431\u0438\u0440\u0441\u043a"})),r.a.createElement(x.a,{variant:"h6",className:o.cityName},"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433"),r.a.createElement("div",{className:o.grow}),r.a.createElement(C.a,{onClick:function(){return a(!0)}},r.a.createElement(j.a,{className:o.changeCityButton})))}));var M=function(){var e=E();return r.a.createElement(m.a,{smDown:!0,implementation:"css"},r.a.createElement(p.a,{variant:"permanent",className:e.root,classes:{paper:e.rootPaper}},r.a.createElement("div",{className:e.header},r.a.createElement("div",{className:e.darkBG},r.a.createElement("div",{className:e.searchContainer},r.a.createElement("img",{src:v.a,alt:"",height:"35px"}),r.a.createElement(d.a,{className:e.search,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e Crime Maps..."})),r.a.createElement(S,null)))))},D=a(88),T=a(157),L=a(176),z=a(158),A=a(159),G=Object(f.a)((function(e){return{openButton:{position:"absolute",top:e.spacing(1),left:e.spacing(1),zIndex:1e3},root:{width:"80%",zIndex:1001},header:{display:"flex",alignItems:"center",padding:e.spacing(2),paddingRight:e.spacing(0),background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)"},title:{marginLeft:e.spacing(1),color:"#fff"},logo:{height:30},grow:{flexGrow:1},closeMenuButton:{color:"#fff"}}}));var F=function(){var e=G(),t=Object(n.useState)(!1),a=Object(D.a)(t,2),c=a[0],o=a[1],i=function(e){return o(e)};return r.a.createElement(m.a,{mdUp:!0,implementation:"css"},r.a.createElement(T.a,{className:e.openButton,onClick:function(){return i(!0)}},r.a.createElement(z.a,null)),r.a.createElement(L.a,{open:c,onOpen:function(){return i(!0)},onClose:function(){return i(!1)},className:e.root,classes:{paper:e.root}},r.a.createElement("div",{className:e.header},r.a.createElement("img",{src:v.a,alt:"",className:e.logo}),r.a.createElement(x.a,{variant:"h6",className:e.title},"Crime Maps"),r.a.createElement("div",{className:e.grow}),r.a.createElement(C.a,{className:e.closeMenuButton,onClick:function(){return i(!1)}},r.a.createElement(A.a,null))),r.a.createElement(S,null)))};var P=function(){return r.a.createElement("nav",null,r.a.createElement(M,null),r.a.createElement(F,null))},W=a(175),Z=a(174),_=a(160),H=a(177);var J=function(){return r.a.createElement(W.a,{center:[54.983376,82.892057],zoom:15,maxZoom:100,attributionControl:!0,zoomControl:!1,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:!0,animate:!0,easeLinearity:.35},r.a.createElement(Z.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),r.a.createElement(_.a,{position:[54.983376,82.892057]},r.a.createElement(H.a,null,"Popup for any custom information.")))},U=a(161),X=a(162),$=a(164),q=a(166),K=a(173),Q=a(167),V=a(168),Y=a(169),ee=a(163),te=a(165),ae=Object(f.a)((function(e){return{title:{position:"relative",backgroundColor:"#eee",borderBottom:"1px solid #cecece"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},loadingText:{display:"flex",justifyContent:"center",alignItems:"center"},rotate:{animation:"$rotate 1s infinite"},"@keyframes rotate":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(-360deg)"}},actions:{backgroundColor:"#eee",borderTop:"1px solid #cecece"}}}));var ne=Object(l.b)((function(e){var t=e.cities;return{isOpen:t.isSelectorOpen,cities:t.data,loading:t.loading,error:t.error}}),(function(e){return Object(O.b)({setModal:I},e)}))((function(e){var t=ae(),a=e.isOpen,n=e.loading,c=e.setModal,o=e.cities;return r.a.createElement(U.a,{open:a,onClose:function(){return c(!1)},maxWidth:"sm",fullWidth:!0},r.a.createElement(X.a,{className:t.title},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",r.a.createElement(C.a,{onClick:function(){return c(!1)},className:t.closeButton},r.a.createElement(ee.a,null))),r.a.createElement($.a,null,n&&r.a.createElement(x.a,{variant:"h6",color:"textSecondary",className:t.loadingText},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043f\u0438\u0441\u043a\u0430 \u0433\u043e\u0440\u043e\u0434\u043e\u0432",r.a.createElement(te.a,{className:t.rotate})),!n&&r.a.createElement(q.a,{component:"nav"},o.map((function(e){return r.a.createElement(K.a,{button:!0,key:e.id},r.a.createElement(Q.a,null,e.name))})))),r.a.createElement(V.a,{className:t.actions},r.a.createElement(Y.a,null,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c")))})),re=Object(f.a)((function(e){return{root:{display:"flex",height:"100%"}}}));var ce=function(){var e=re();return r.a.createElement("div",{className:e.root},r.a.createElement(P,null),r.a.createElement(J,null),r.a.createElement(ne,null))};var oe=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(s.a,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:ce})))},ie=a(89),le=a(47),se={data:[],isSelectorOpen:!1,error:!1,loading:!0};var ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":return Object(le.a)({},e,{data:t.cities});case"MODAL":return Object(le.a)({},e,{isSelectorOpen:t.isOpen});case"ERROR":return Object(le.a)({},e,{error:t.error});case"LOADING":return Object(le.a)({},e,{loading:t.loading});default:return e}},me=Object(O.c)({cities:ue}),pe=a(39),de=a.n(pe),fe=a(35),ge=a(87),be=a.n(ge),Ee=de.a.mark(ve),he=de.a.mark(Oe);function ve(){var e,t;return de.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(fe.b)(be.a.get,"/api/cities/");case 3:return e=a.sent,t=e.data,a.next=7,Object(fe.c)({type:"ADD",cities:t});case 7:return a.next=9,Object(fe.c)(R(!1));case 9:return a.next=11,Object(fe.c)({type:"LOADING",loading:!1});case 11:a.next=18;break;case 13:return a.prev=13,a.t0=a.catch(0),console.error(a.t0.message),a.next=18,Object(fe.c)(R(!0));case 18:case"end":return a.stop()}}),Ee,null,[[0,13]])}function Oe(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.d)("FETCH_CITIES",ve);case 2:case"end":return e.stop()}}),he)}var xe=de.a.mark(Ce);function Ce(){return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.a)([Oe()]);case 2:case"end":return e.stop()}}),xe)}var je=Ce,ke=Object(ie.a)(),ye=Object(O.e)(me,Object(O.a)(ke));window.getState=ye.getState,ke.run(je);var Ne=ye;a(126);o.a.render(r.a.createElement(i.a,null,r.a.createElement(l.a,{store:Ne},r.a.createElement(oe,null))),document.getElementById("root"))},55:function(e,t,a){e.exports=a.p+"static/media/logo_dark.6ea33164.svg"},81:function(e,t,a){e.exports=a.p+"static/media/novosibirsk.3223fede.jpg"},85:function(e,t,a){e.exports=a.p+"static/media/novosibirsk-gerb.f2328259.svg"},98:function(e,t,a){e.exports=a(127)}},[[98,1,2]]]);
//# sourceMappingURL=main.7e48af94.chunk.js.map