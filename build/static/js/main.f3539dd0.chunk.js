(this["webpackJsonpcrime-maps"]=this["webpackJsonpcrime-maps"]||[]).push([[0],{111:function(e,t,a){e.exports=a.p+"static/media/novosibirsk.3223fede.jpg"},112:function(e,t,a){e.exports=a.p+"static/media/krasnoyarsk.aaf9cd5c.jpg"},113:function(e,t,a){e.exports=a.p+"static/media/novosibirsk.f2328259.svg"},114:function(e,t,a){e.exports=a.p+"static/media/krasnoyarsk.0bba5569.svg"},117:function(e,t,a){e.exports=a.p+"static/media/user.ed058a81.svg"},118:function(e,t,a){e.exports=a.p+"static/media/car_theft.f15135e1.svg"},119:function(e,t,a){e.exports=a.p+"static/media/fire.4faaaf86.svg"},120:function(e,t,a){e.exports=a.p+"static/media/accident.75476a82.svg"},121:function(e,t,a){e.exports=a.p+"static/media/animal.80e28ec9.svg"},122:function(e,t,a){e.exports=a.p+"static/media/violence.4e158945.svg"},123:function(e,t,a){e.exports=a.p+"static/media/bad_services.78eacfc8.svg"},124:function(e,t,a){e.exports=a.p+"static/media/death.25eac115.svg"},125:function(e,t,a){e.exports=a.p+"static/media/dtp.741b1766.svg"},126:function(e,t,a){e.exports=a.p+"static/media/lost_man.9db9caf4.svg"},127:function(e,t,a){e.exports=a.p+"static/media/protest.a4a6d874.svg"},128:function(e,t,a){e.exports=a.p+"static/media/theft.2d127463.svg"},141:function(e,t,a){e.exports=a(170)},169:function(e,t,a){},170:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),c=a.n(i),s=a(34),o=a(18),l=a(129),u=a(247),d=a(20),m=a(246),p=a(54),g=a(218),f=a(236),b=a(173),E=a(235),h=a(237),v=a(238),x=a(249),O=a(40),N=a(254),k=a(110),w=a.n(k),C=a(19),j=a(207),y=a(111),I=a.n(y),T=a(112),S=a.n(T),_={novosibirsk:{backgroundImage:"url(".concat(I.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"},krasnoyarsk:{backgroundImage:"url(".concat(S.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}},A=Object(j.a)((function(e){return Object(C.a)({},_,{root:{width:360,flexShrink:0},rootPaper:{width:360},header:{position:"relative",height:200},searchContainer:{display:"flex",justifyContent:"space-between",margin:e.spacing(3),padding:"5px 10px",backgroundColor:"#fff",borderRadius:2*e.shape.borderRadius,border:"1px solid #ccc"},search:{width:"86%"},darkBG:{paddingTop:1,height:"100%",backgroundColor:"rgba(0, 0, 0, .5)"}})})),D=a(50),U=a.n(D),P=a(68),L=a(253),R=a(172),B=a(213),M=a(29),z=Object(j.a)((function(e){return Object(M.a)({root:{display:"flex",alignItems:"center",overflowX:"hidden",margin:e.spacing(1)},cityName:{marginLeft:e.spacing(1),color:e.palette.text},emblemContainer:{display:"none"},grow:{flexGrow:1},changeCityButton:{color:e.palette.text}},e.breakpoints.up("md"),{root:{margin:e.spacing(3)},cityName:{color:"#fff"},emblemContainer:{display:"flex",justifyContent:"center",alignItems:"center",width:40,height:40,background:"#fff",borderRadius:"50%"},emblem:{height:30},changeCityButton:{color:"#fff"}})})),G=a(113),F=a.n(G),Z=a(114),H=a.n(Z),W={novosibirsk:F.a,krasnoyarsk:H.a};var Q=function(e){var t=e.fetchCities,a=e.setModal,i=e.loading,c=e.city,s=e.titleCity,o=z();return Object(n.useEffect)((function(){i&&t()}),[i,t]),r.a.createElement("div",{className:o.root},r.a.createElement("div",{className:o.emblemContainer},r.a.createElement("img",{className:o.emblem,src:W[s],alt:""})),r.a.createElement(P.a,{variant:"h6",className:o.cityName},c),r.a.createElement("div",{className:o.grow}),r.a.createElement(L.a,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434"},r.a.createElement(R.a,{onClick:function(){return a(!0)}},r.a.createElement(B.a,{className:o.changeCityButton}))))},Y=a(255),J=a(214),V=a(215),q=a(216),K="linear-gradient(45deg, #f64b11 30%, #ffbc00 90%)",$=Object(j.a)((function(e){return{root:{marginTop:"auto"},link:{textDecoration:"none"},button:{borderRadius:0,color:"#f64b11",borderColor:"#f64b11",borderLeft:"none",borderRight:"none"},userContainer:{display:"flex",alignItems:"center",padding:e.spacing(1),borderTop:"1px solid #ccc"},avatar:{marginRight:e.spacing(1),width:e.spacing(4),height:e.spacing(4),backgroundColor:"#f64b11"},userButtons:{marginLeft:"auto"}}})),X=function(e){return{type:"LOGIN_USER",user:e}},ee=function(){return{type:"LOGOUT_USER_REQUEST"}},te=function(e){return{type:"SET_USER",user:e}};function ae(e){var t=e.isAuth,a=e.name,n=e.avatar,i=e.logout,c=$();return r.a.createElement("div",{className:c.root},!t&&r.a.createElement(s.b,{to:"/sign-in",className:c.link},r.a.createElement(b.a,{variant:"outlined",size:"large",fullWidth:!0,className:c.button,startIcon:r.a.createElement(J.a,null)},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f")),t&&r.a.createElement("div",{className:c.userContainer},r.a.createElement(Y.a,{alt:a,src:n||null,className:c.avatar},a[0]),r.a.createElement(P.a,{variant:"subtitle1"},a),r.a.createElement("div",{className:c.userButtons},r.a.createElement(L.a,{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},r.a.createElement(s.b,{to:"/settings"},r.a.createElement(R.a,{size:"small"},r.a.createElement(V.a,null)))),r.a.createElement(L.a,{title:"\u0412\u044b\u0445\u043e\u0434"},r.a.createElement(R.a,{size:"small",onClick:i},r.a.createElement(q.a,null))))))}ae.defaultProps={name:null,id:null,avatar:null};var ne=Object(o.c)((function(e){var t=e.user;return{isAuth:t.isAuth,name:t.name,id:t.id,avatar:t.avatar}}),(function(e){return Object(d.b)({logout:ee},e)}))(ae);var re=function(e){var t=e.selectedCity,a=e.loading,n=e.fetchCities,i=e.setModal,c=A();return r.a.createElement(x.a,{smDown:!0,implementation:"css"},r.a.createElement(O.a,{variant:"permanent",className:c.root,classes:{paper:c.rootPaper}},r.a.createElement("div",{className:w()(c.header,c[t.title])},r.a.createElement("div",{className:c.darkBG},r.a.createElement("div",{className:c.searchContainer},r.a.createElement("img",{src:U.a,alt:"",height:"35px"}),r.a.createElement(N.a,{className:c.search,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e Crime Maps..."})),r.a.createElement(Q,{loading:a,fetchCities:n,setModal:i,titleCity:t.title,city:t.name}))),r.a.createElement(ne,null)))},ie=a(85),ce=a(257),se=a(219),oe=a(220),le=Object(j.a)((function(e){return{openButton:{position:"absolute",top:e.spacing(1),left:e.spacing(1),zIndex:1e3},root:{width:"80%",zIndex:1001},header:{display:"flex",alignItems:"center",padding:e.spacing(2),paddingRight:e.spacing(0),background:K},title:{marginLeft:e.spacing(1),color:"#fff"},logo:{height:30},grow:{flexGrow:1},closeMenuButton:{color:"#fff"}}}));var ue=function(e){var t=e.loading,a=e.fetchCities,i=e.setModal,c=e.selectedCity,s=le(),o=Object(n.useState)(!1),l=Object(ie.a)(o,2),u=l[0],d=l[1],m=function(e){return d(e)};return r.a.createElement(x.a,{mdUp:!0,implementation:"css"},r.a.createElement(g.a,{className:s.openButton,onClick:function(){return m(!0)}},r.a.createElement(se.a,null)),r.a.createElement(ce.a,{open:u,onOpen:function(){return m(!0)},onClose:function(){return m(!1)},className:s.root,classes:{paper:s.root}},r.a.createElement("div",{className:s.header},r.a.createElement("img",{src:U.a,alt:"",className:s.logo}),r.a.createElement(P.a,{variant:"h6",className:s.title},"Crime Maps"),r.a.createElement("div",{className:s.grow}),r.a.createElement(R.a,{className:s.closeMenuButton,onClick:function(){return m(!1)}},r.a.createElement(oe.a,null))),r.a.createElement(Q,{loading:t,fetchCities:a,setModal:i,titleCity:c.title,city:c.name}),r.a.createElement(ne,null)))},de=function(){return{type:"FETCH_CITIES"}},me=function(e){return{type:"MODAL",isOpen:e}},pe=function(e){return{type:"ERROR",error:e}},ge=function(e){return{type:"CHANGE_CITY",id:e}},fe=function(e){return{type:"CHANGE_SELECTED_CITY",id:e}};var be=Object(o.c)((function(e){var t=e.cities;return{selectedCityId:t.selectedCity,citiesList:t.data,loading:t.loading}}),(function(e){return Object(d.b)({fetchCities:de,setModal:me},e)}))((function(e){var t=e.fetchCities,a=e.setModal,n=e.selectedCityId,i=e.citiesList,c=e.loading,s=i.find((function(e){return e.id===n}));return r.a.createElement("nav",null,r.a.createElement(re,{selectedCity:s,loading:c,fetchCities:t,setModal:a}),r.a.createElement(ue,{selectedCity:s,loading:c,fetchCities:t,setModal:a}))})),Ee=a(252),he=a(256),ve=a(221),xe=function(e,t){return{type:"CHANGE_COORDINATES",lat:e,lng:t}},Oe=function(e){return{type:"SET_ZOOM",zoom:e}},Ne=function(){return{type:"INCREMENT_ZOOM"}},ke=function(){return{type:"DECREMENT_ZOOM"}},we=function(e){return{type:"OPEN_INCIDENT",incident:e}},Ce=function(){return{type:"CLOSE_INCIDENT"}},je=a(30),ye=a.n(je),Ie=a(117),Te=a.n(Ie),Se=a(118),_e=a.n(Se),Ae=a(119),De=a.n(Ae),Ue=a(120),Pe=a.n(Ue),Le=a(121),Re=a.n(Le),Be=a(122),Me=a.n(Be),ze=a(123),Ge=a.n(ze),Fe=a(124),Ze=a.n(Fe),He=a(125),We=a.n(He),Qe=a(126),Ye=a.n(Qe),Je=a(127),Ve=a.n(Je),qe=a(128),Ke=a.n(qe);function $e(e){var t;switch(e){case 0:t=_e.a;break;case 1:t=De.a;break;case 2:t=Pe.a;break;case 3:t=Re.a;break;case 4:t=Me.a;break;case 5:t=Ge.a;break;case 6:t=Ze.a;break;case 7:t=We.a;break;case 8:t=Ye.a;break;case 9:t=Ve.a;break;case 10:t=Ke.a;break;default:t=Te.a}return new ye.a.Icon({iconUrl:t,iconSize:new ye.a.Point(40,60),iconAnchor:[20,60]})}var Xe=Object(o.c)((function(e){var t=e.map,a=e.geodata,n=e.incidents;return{lat:t.lat,lng:t.lng,zoom:t.zoom,geodata:a.geodata,incidents:n.data}}),(function(e){return Object(d.b)({changeCoordinates:xe,changeZoom:Oe,openIncident:we},e)}))((function(e){var t=e.lat,a=e.lng,n=e.zoom,i=e.geodata,c=e.changeCoordinates,s=e.changeZoom,o=e.incidents,l=e.openIncident;return r.a.createElement(Ee.a,{center:[t,a],zoom:n,maxZoom:17,minZoom:5,attributionControl:!0,zoomControl:!1,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:!0,animate:!0,easeLinearity:.35,onDragEnd:function(e){var t=e.target.getCenter(),a=t.lat,n=t.lng;c(a,n)},onZoomEnd:function(e){return s(e.target.getZoom())}},r.a.createElement(he.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),i?r.a.createElement(ve.a,{position:[i.coords.latitude,i.coords.longitude],icon:$e()}):null,o.map((function(e){return r.a.createElement(ve.a,{key:e.id,position:e.coords,icon:$e(e.type),onClick:function(){return l(e)}})})))})),et=a(222),tt=a(223),at=a(225),nt=a(227),rt=a(228),it=a(229),ct=a(230),st=a(232),ot=a(224),lt=a(226),ut=a(231),dt=Object(j.a)((function(e){return{title:{position:"relative",backgroundColor:"#eee",borderBottom:"1px solid #cecece"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},loadingText:{display:"flex",justifyContent:"center",alignItems:"center"},rotate:{animation:"$rotate 1s infinite"},"@keyframes rotate":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(-360deg)"}},actions:{backgroundColor:"#eee",borderTop:"1px solid #cecece"}}}));var mt=Object(o.c)((function(e){var t=e.cities;return{isOpen:t.isSelectorOpen,cities:t.data,loading:t.loading,error:t.error}}),(function(e){return Object(d.b)({setModal:me,changeCity:ge,changeCoordinates:xe},e)}))((function(e){var t=Object(n.useState)(null),a=Object(ie.a)(t,2),i=a[0],c=a[1],s=dt(),l=e.isOpen,u=e.loading,d=e.setModal,m=e.cities,p=e.changeCity,g=e.changeCoordinates;return r.a.createElement(et.a,{open:l,onClose:function(){return d(!1)},maxWidth:"sm",fullWidth:!0},r.a.createElement(tt.a,{className:s.title},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",r.a.createElement(R.a,{onClick:function(){return d(!1)},className:s.closeButton},r.a.createElement(ot.a,null))),r.a.createElement(at.a,null,u&&r.a.createElement(P.a,{variant:"h6",color:"textSecondary",className:s.loadingText},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043f\u0438\u0441\u043a\u0430 \u0433\u043e\u0440\u043e\u0434\u043e\u0432",r.a.createElement(lt.a,{className:s.rotate})),!u&&r.a.createElement(nt.a,{component:"nav"},m.map((function(e){return r.a.createElement(rt.a,{button:!0,key:e.id,selected:e.id===i,onClick:function(){return c(e.id)}},r.a.createElement(it.a,null,e.name),e.id===i&&r.a.createElement(ct.a,null,r.a.createElement(R.a,null,r.a.createElement(ut.a,null))))})))),r.a.createElement(st.a,{className:s.actions},r.a.createElement(b.a,{onClick:function(){return function(e){var t=m.find((function(t){return t.id===e}));localStorage.setItem("selectedCity",e),Object(o.b)((function(){p(e),d(!1),g(t.lat,t.lng)}))}(i)},disabled:null===i},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c")))})),pt=a(22),gt=a(217),ft=a(234),bt=a(233),Et=Object(j.a)((function(e){return{titleContainer:{position:"relative",backgroundColor:"#eee",borderBottom:"1px solid #cecece"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},infoContainer:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(1)},date:{color:"#aaa",cursor:"pointer","&:hover":{textDecoration:"underline"}},views:{display:"flex",alignItems:"center",color:"#aaa"},viewsIcon:{marginLeft:e.spacing(1)},sourcesContainer:{display:"flex",flexDirection:"column",marginTop:e.spacing(2)},sourceBorder:{marginBottom:e.spacing(1),borderBottom:"1px solid #cecece"}}}));var ht=function(e){var t=e.close,a=e.incident,n=a.title,i=a.text,c=a.date,s=a.views,o=a.sources,l=Et(),u=function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1,r=t.getFullYear(),i=t.getHours(),c=t.getMinutes();return a<10&&(a="0"+a),n<10&&(n="0"+n),i<10&&(i="0"+i),c<10&&(c="0"+c),"".concat(i,":").concat(c," ").concat(a,".").concat(n,".").concat(r)}(c),d=Object(pt.a)(),m=Object(gt.a)(d.breakpoints.down("sm"));return r.a.createElement(et.a,{open:!0,onClose:t,maxWidth:"md",fullWidth:!0,fullScreen:m},r.a.createElement(tt.a,{className:l.titleContainer},n,r.a.createElement(R.a,{onClick:t,className:l.closeButton},r.a.createElement(ot.a,null))),r.a.createElement(at.a,null,r.a.createElement("div",{className:l.infoContainer},r.a.createElement(P.a,{variant:"body1",className:l.date},u),r.a.createElement(P.a,{variant:"body1",className:l.views},s," ",r.a.createElement(bt.a,{className:l.viewsIcon}))),r.a.createElement(P.a,{variant:"body1"},i),r.a.createElement("div",{className:l.sourcesContainer},r.a.createElement(P.a,{variant:"h6"},"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0438:"),r.a.createElement("div",{className:l.sourceBorder}),o.map((function(e,t){return r.a.createElement(ft.a,{key:t,href:e.link},e.name)})))))},vt=Object(j.a)((function(e){return Object(M.a)({root:{display:"flex",height:"100%"},buttonUserPosition:{position:"absolute",bottom:e.spacing(1),right:e.spacing(1),zIndex:1e3},zoomButtonsContainer:{display:"flex",flexDirection:"column",position:"absolute",top:e.spacing(1),right:e.spacing(1),zIndex:1e3},buttonZoomOut:{marginTop:e.spacing(1)}},e.breakpoints.up("md"),{buttonUserPosition:{bottom:e.spacing(3),right:e.spacing(3)},zoomButtonsContainer:{top:e.spacing(3),right:e.spacing(3)},buttonZoomOut:{marginTop:e.spacing(1)}})})),xt=function(e){return{type:"FETCH_ALL_INCIDENTS",id:e}},Ot=function(e){return{type:"SET_ERROR",error:e}};var Nt=Object(o.c)((function(e){var t=e.geodata,a=e.map,n=e.incidents,r=e.cities,i=e.incident;return{geodata:t.geodata,zoom:a.zoom,loading:n.isLoading,selectedCityid:r.selectedCity,incident:i}}),(function(e){return Object(d.b)({changeCoordinates:xe,incrementZoom:Ne,decrementZoom:ke,fetchAllIncidents:xt,closeIncident:Ce,changeZoom:Oe},e)}))((function(e){var t=e.changeCoordinates,a=e.geodata,i=e.incrementZoom,c=e.decrementZoom,s=e.zoom,l=e.fetchAllIncidents,u=e.loading,d=e.selectedCityid,m=e.incident,p=e.closeIncident,x=e.changeZoom,O=vt();return Object(n.useEffect)((function(){u&&l(d)}),[u,l,d]),r.a.createElement("div",{className:O.root},r.a.createElement(be,null),r.a.createElement(Xe,null),r.a.createElement(mt,null),r.a.createElement(g.a,{color:"primary",size:"large",className:O.buttonUserPosition,onClick:function(){return Object(o.b)((function(){t(a.coords.latitude,a.coords.longitude),x(16)}))},disabled:null===a},r.a.createElement(E.a,null)),r.a.createElement("div",{className:O.zoomButtonsContainer},r.a.createElement(f.a,{orientation:"vertical"},r.a.createElement(b.a,{variant:"contained",onClick:function(){17!==s&&i()}},r.a.createElement(h.a,null)),r.a.createElement(b.a,{variant:"contained",onClick:function(){5!==s&&c()}},r.a.createElement(v.a,null)))),m&&r.a.createElement(ht,{incident:m,close:p}))})),kt=a(131),wt=a(248),Ct=a(250),jt=a(66),yt=a.n(jt),It=Object(j.a)((function(e){return Object(M.a)({root:{display:"flex",flexDirection:"column",minHeight:"100%",background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)"},logoContainer:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:e.spacing(3),color:"#fff",textTransform:"uppercase"},logo:{marginLeft:e.spacing(1),height:30},paper:{marginTop:e.spacing(3),marginLeft:e.spacing(1),marginRight:e.spacing(1),paddingTop:e.spacing(1),paddingBottom:e.spacing(3)},title:{textAlign:"center",textTransform:"uppercase"},form:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},textField:{marginTop:e.spacing(1),width:"100%"},button:{marginTop:e.spacing(3)},grayText:{marginTop:e.spacing(1),textAlign:"center",color:"#999"},link:{textDecoration:"none"},linkButton:{marginTop:e.spacing(1)},underContainer:{display:"flex",justifyContent:"center",marginTop:e.spacing(1)},backButton:{color:"#fff"}},e.breakpoints.up("sm"),{root:{alignItems:"center"},paper:{marginTop:e.spacing(10),width:e.breakpoints.width("sm")},form:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},underContainer:{justifyContent:"flex-end",width:e.breakpoints.width("sm")}})})),Tt=function(e,t){return{type:"CHANGE_FIELD",name:e,value:t}},St=function(){return{type:"SIGN_UP_REQUEST"}},_t=function(){return{type:"SIGN_IN_REQUEST"}},At=function(e){return{type:"SIGN_IN_FAIL",data:e}},Dt=/^\s*([0-9a-zA-Z\u0430-\u044f\u0410-\u042f]*)\s*$/,Ut=/^\s*([0-9a-zA-Z]*)\s*$/;function Pt(e){var t=e.snackbar,a=e.email,n=e.emailError,i=e.password,c=e.passwordError,l=e.isDisabled,u=e.changeField,d=e.signInRequest,m=e.isAuth,g=It(),f=function(e){var t=e.target;return Object(o.b)((function(){u(t.name,t.value),u(t.name+"Error","")}))};return m?r.a.createElement(p.a,{to:"/"}):r.a.createElement("div",{className:g.root},r.a.createElement("div",{className:g.logoContainer},r.a.createElement(P.a,{variant:"h5"},"Crime Maps"),r.a.createElement("img",{src:U.a,alt:"",className:g.logo})),r.a.createElement(kt.a,{className:g.paper},r.a.createElement(P.a,{variant:"h6",className:g.title},"\u0412\u0445\u043e\u0434"),r.a.createElement("div",{className:g.form},r.a.createElement(wt.a,{name:"signInEmail",value:a,error:!!n,helperText:n,onChange:f,className:g.textField,label:"E-Mail"}),r.a.createElement(wt.a,{name:"signInPassword",value:i,error:!!c,helperText:c,type:"password",onChange:f,className:g.textField,label:"\u041f\u0430\u0440\u043e\u043b\u044c"}),r.a.createElement(b.a,{color:"primary",variant:"contained",size:"large",className:g.button,fullWidth:!0,onClick:function(){var e="",t="";yt.a.validate(a)||(e="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 E-Mail."),(!i||i.length<6||i.length>16)&&(t="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c."),i.match(Ut)||(t="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c."),e||t?Object(o.b)((function(){u("signInEmailError",e),u("signInPasswordError",t)})):d()},disabled:l},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement(P.a,{variant:"body2",className:g.grayText},"\u0438\u043b\u0438"),r.a.createElement(s.b,{to:"/sign-up",className:g.link},r.a.createElement(b.a,{color:"secondary",variant:"contained",className:g.linkButton,fullWidth:!0},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))),r.a.createElement("div",{className:g.underContainer},r.a.createElement(s.b,{to:"/",className:g.link},r.a.createElement(b.a,{className:g.backButton},"\u041d\u0430\u0437\u0430\u0434 \u043d\u0430 \u0441\u0430\u0439\u0442"))),r.a.createElement(Ct.a,{open:!!t,message:t,anchorOrigin:{vertical:"bottom",horizontal:"left"}}))}Pt.defaultProps={snackbar:"",email:"",emailError:"",password:"",passwordError:"",isDisabled:!1};var Lt=Object(o.c)((function(e){var t=e.system,a=e.forms,n=e.user;return{snackbar:t.signInSnackbar,redirect:t.signInRedirectToMain,email:a.signInEmail,emailError:a.signInEmailError,password:a.signInPassword,passwordError:a.signInPasswordError,isDisabled:a.signInButtonDisabled,isAuth:n.isAuth}}),(function(e){return Object(d.b)({changeField:Tt,signInRequest:_t},e)}))(Pt),Rt=Object(j.a)((function(e){return Object(M.a)({root:{display:"flex",flexDirection:"column",minHeight:"100%",background:K},logoContainer:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:e.spacing(3),color:"#fff",textTransform:"uppercase"},logo:{marginLeft:e.spacing(1),height:30},paper:{marginTop:e.spacing(3),marginLeft:e.spacing(1),marginRight:e.spacing(1),paddingTop:e.spacing(1),paddingBottom:e.spacing(3)},title:{textAlign:"center",textTransform:"uppercase"},form:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},textField:{marginTop:e.spacing(1),width:"100%"},button:{marginTop:e.spacing(3)},grayText:{marginTop:e.spacing(1),textAlign:"center",color:"#999"},link:{textDecoration:"none"},linkButton:{marginTop:e.spacing(1)},underContainer:{display:"flex",justifyContent:"center",marginTop:e.spacing(1)},backButton:{color:"#fff"}},e.breakpoints.up("sm"),{root:{alignItems:"center"},paper:{marginTop:e.spacing(10),width:e.breakpoints.width("sm")},form:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},underContainer:{justifyContent:"flex-end",width:e.breakpoints.width("sm")}})}));function Bt(e){var t=e.snackbar,a=e.isButtonDisabled,n=e.requestSignUp,i=e.changeField,c=e.name,l=e.nameError,u=e.email,d=e.emailError,m=e.password,g=e.passwordError,f=e.isAuth,E=Rt(),h=function(e){var t=e.target;return Object(o.b)((function(){i(t.name,t.value),i(t.name+"Error","")}))};return f?r.a.createElement(p.a,{to:"/"}):r.a.createElement("div",{className:E.root},r.a.createElement("div",{className:E.logoContainer},r.a.createElement(P.a,{variant:"h5"},"Crime Maps"),r.a.createElement("img",{src:U.a,alt:"",className:E.logo})),r.a.createElement(kt.a,{className:E.paper},r.a.createElement(P.a,{variant:"h6",className:E.title},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("div",{className:E.form},r.a.createElement(wt.a,{name:"signUpName",value:c,onChange:h,error:!!l,helperText:l,className:E.textField,label:"\u0418\u043c\u044f \u043d\u0430 \u0441\u0430\u0439\u0442\u0435"}),r.a.createElement(wt.a,{name:"signUpEmail",value:u,onChange:h,error:!!d,helperText:d,className:E.textField,label:"E-Mail"}),r.a.createElement(wt.a,{name:"signUpPassword",value:m,type:"password",onChange:h,error:!!g,helperText:g,className:E.textField,label:"\u041f\u0430\u0440\u043e\u043b\u044c"}),r.a.createElement(b.a,{color:"primary",variant:"contained",size:"large",className:E.button,fullWidth:!0,onClick:function(){var e="",t="",a="";(!c||c.length<6||c.length>16)&&(e="\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 6 \u0434\u043e 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."),c.match(Dt)||(e="\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0438 \u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b, \u0430 \u0442\u0430\u043a \u0436\u0435 \u0447\u0438\u0441\u043b\u0430."),yt.a.validate(u)||(t="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 E-Mail."),(!m||m.length<6||m.length>16)&&(a="\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 6 \u0434\u043e 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."),m.match(Ut)||(a="\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u0438 \u0447\u0438\u0441\u043b\u0430."),e||t||a?Object(o.b)((function(){i("signUpNameError",e),i("signUpEmailError",t),i("signUpPasswordError",a)})):n({name:c,email:u,password:m})},disabled:a},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),r.a.createElement(P.a,{variant:"body2",className:E.grayText},"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"),r.a.createElement(s.b,{to:"/sign-in",className:E.link},r.a.createElement(b.a,{color:"secondary",variant:"contained",className:E.linkButton,fullWidth:!0},"\u0412\u043e\u0439\u0442\u0438")))),r.a.createElement("div",{className:E.underContainer},r.a.createElement(s.b,{to:"/",className:E.link},r.a.createElement(b.a,{className:E.backButton},"\u041d\u0430\u0437\u0430\u0434 \u043d\u0430 \u0441\u0430\u0439\u0442"))),r.a.createElement(Ct.a,{open:!!t,message:t,anchorOrigin:{vertical:"bottom",horizontal:"left"}}))}Bt.defaultProps={name:"",nameError:"",email:"",emailError:"",password:"",passwordError:"",isButtonDisabled:!1};var Mt=Object(o.c)((function(e){var t=e.system,a=e.forms,n=e.user;return{snackbar:t.signUpSnackbar,redirect:t.signUpRedirectToSignIn,name:a.signUpName,nameError:a.signUpNameError,email:a.signUpEmail,emailError:a.signUpEmailError,password:a.signUpPassword,passwordError:a.signUpPasswordError,isButtonDisabled:a.signUpButtonDisabled,isAuth:n.isAuth}}),(function(e){return Object(d.b)({requestSignUp:St,changeField:Tt},e)}))(Bt),zt=a(241),Gt=a(251),Ft=a(243),Zt=a(245),Ht=a(244),Wt=a(87),Qt=Object(j.a)((function(e){return Object(M.a)({container:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},title:{marginTop:e.spacing(2),color:Wt.a[600]},firstExpansionPanel:{marginTop:e.spacing(2)},formContainer:{display:"flex",flexDirection:"column",width:"100%"},button:{marginTop:e.spacing(1)}},e.breakpoints.up("md"),{formContainer:{flexDirection:"row"},field:{width:"50%"},fieldPassword:{marginLeft:e.spacing(1),width:"36%","&:first-child":{marginLeft:0}},button:{marginLeft:"auto"}})})),Yt=a(239),Jt=a(240),Vt=a(242),qt=Object(j.a)((function(e){return{container:{display:"flex",alignItems:"center"},backIcon:{marginRight:e.spacing(1),width:e.spacing(4),height:e.spacing(4)}}}));function Kt(e){var t=e.title,a=e.goBack,n=qt();return r.a.createElement(Yt.a,{position:"static"},r.a.createElement(Jt.a,null,r.a.createElement(zt.a,{className:n.container},a&&r.a.createElement(R.a,{onClick:a,color:"inherit",className:n.backIcon},r.a.createElement(Vt.a,null)),r.a.createElement(P.a,{variant:"h6"},t))))}Kt.defaultProps={title:"Crime Maps",goBack:null};var $t=Object(o.c)()(Kt),Xt=function(){return{type:"VALIDATE_NEW_NAME"}},ea=function(){return{type:"VALIDATE_NEW_EMAIL"}},ta=function(){return{type:"VALIDATE_NEW_PASSWORD"}},aa=function(e){return{type:"REQUEST_SETTINGS_ACCOUNT_DATA",field:e}};function na(e){var t=e.history,a=e.name,i=e.nameError,c=e.email,s=e.emailError,o=e.oldPassword,l=e.oldPasswordError,u=e.newPassword,d=e.newPasswordError,m=e.isAuth,g=e.isDisabledNameButton,f=e.isDisabledEmailButton,E=e.isDisabledPasswordButton,h=e.changeField,v=e.validateName,x=e.validateEmail,O=e.validatePassword,N=Qt(),k=function(e){var t=e.target;h(t.name,t.value),h(t.name+"Error","")};return m?r.a.createElement(n.Fragment,null,r.a.createElement($t,{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",goBack:t.goBack}),r.a.createElement(zt.a,{maxWidth:"sm",className:N.container},r.a.createElement(P.a,{variant:"body1",className:N.title},"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"),r.a.createElement(Gt.a,{className:N.firstExpansionPanel},r.a.createElement(Ft.a,{expandIcon:r.a.createElement(Ht.a,null)},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u043c\u044f"),r.a.createElement(Zt.a,null,r.a.createElement("div",{className:N.formContainer},r.a.createElement(wt.a,{name:"settingsName",onChange:k,value:a,error:!!i,helperText:i,className:N.field,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u043e\u0435 \u0438\u043c\u044f"}),r.a.createElement(b.a,{variant:"contained",className:N.button,color:"primary",disabled:g,onClick:v},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))),r.a.createElement(Gt.a,null,r.a.createElement(Ft.a,{expandIcon:r.a.createElement(Ht.a,null)},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c E-Mail"),r.a.createElement(Zt.a,null,r.a.createElement("div",{className:N.formContainer},r.a.createElement(wt.a,{name:"settingsEmail",onChange:k,value:c,error:!!s,helperText:s,className:N.field,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 E-Mail"}),r.a.createElement(b.a,{variant:"contained",className:N.button,color:"primary",onClick:x,disabled:f},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))),r.a.createElement(Gt.a,null,r.a.createElement(Ft.a,{expandIcon:r.a.createElement(Ht.a,null)},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement(Zt.a,null,r.a.createElement("div",{className:N.formContainer},r.a.createElement(wt.a,{name:"settingsOldPassword",onChange:k,value:o,error:!!l,helperText:l,className:N.fieldPassword,type:"password",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),r.a.createElement(wt.a,{name:"settingsNewPassword",onChange:k,value:u,error:!!d,helperText:d,className:N.fieldPassword,type:"password",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),r.a.createElement(b.a,{variant:"contained",className:N.button,color:"primary",disabled:E,onClick:O},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))))):r.a.createElement(p.a,{to:"/sign-in"})}na.defaultProps={name:"",nameError:"",email:"",emailError:"",oldPassword:"",oldPasswordError:"",newPassword:"",newPasswordError:"",isDisabledNameButton:!1,isDisabledEmailButton:!1,isDisabledPasswordButton:!1};var ra=Object(o.c)((function(e){var t=e.forms;return{isAuth:e.user.isAuth,name:t.settingsName,nameError:t.settingsNameError,email:t.settingsEmail,emailError:t.settingsEmailError,oldPassword:t.settingsOldPassword,oldPasswordError:t.settingsOldPasswordError,newPassword:t.settingsNewPassword,newPasswordError:t.settingsNewPasswordError,isDisabledNameButton:t.settingsNameButtonDisabled,isDisabledEmailButton:t.settingsEmailButtonDisabled,isDisabledPasswordButton:t.settingsPasswordButtonDisabled}}),(function(e){return Object(d.b)({changeField:Tt,validateName:Xt,validateEmail:ea,validatePassword:ta},e)}))(na),ia=function(e){return{type:"SET_LOCATION",data:e}},ca=function(e){return{type:"SET_LOCATION_ERROR",error:e}};var sa=Object(o.c)(null,(function(e){return Object(d.b)({setLocation:ia,setLocationError:ca},e)}))((function(e){var t=e.setLocation,a=e.setLocationError;return navigator.geolocation.getCurrentPosition(t,a),r.a.createElement(n.Fragment,null,r.a.createElement(m.a,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:Nt}),r.a.createElement(p.b,{path:"/sign-in",component:Lt}),r.a.createElement(p.b,{path:"/sign-up",component:Mt}),r.a.createElement(p.b,{path:"/settings",component:ra})))})),oa=a(130),la={},ua={},da={data:JSON.parse(localStorage.getItem("citiesList"))||[{_id:"5e8f0f4f8883b725cc275bad",id:1,title:"novosibirsk",name:"\u041d\u043e\u0432\u043e\u0441\u0438\u0431\u0438\u0440\u0441\u043a",lat:55.0415,lng:82.9346}],isSelectorOpen:!1,error:!1,loading:!0,selectedCity:+localStorage.getItem("selectedCity")||1};var ma,pa,ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":return Object(C.a)({},e,{data:t.cities});case"MODAL":return Object(C.a)({},e,{isSelectorOpen:t.isOpen});case"ERROR":return Object(C.a)({},e,{error:t.error});case"LOADING":return Object(C.a)({},e,{loading:t.loading});case"CHANGE_SELECTED_CITY":return Object(C.a)({},e,{selectedCity:t.id});default:return e}},fa=+JSON.parse(localStorage.getItem("selectedCity")),ba=JSON.parse(localStorage.getItem("citiesList"));if(fa&&ba){var Ea=ba.find((function(e){return e.id===fa}));ma=Ea.lat,pa=Ea.lng}else ma=55.0415,pa=82.9346;var ha={lat:ma,lng:pa,zoom:13},va={geodata:null,error:!1},xa={isLoading:!0,data:[],error:!1},Oa=a(32),Na=a.n(Oa),ka={isAuth:!!Na.a.get("token")||!1,name:Na.a.get("user-name")||null,email:Na.a.get("user-email")||null,id:+Na.a.get("user-id")||null},wa=Object(d.c)({system:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SYSTEM_FIELD":return Object(C.a)({},e,Object(M.a)({},t.name,t.value));default:return e}},forms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_FIELD":return Object(C.a)({},e,Object(M.a)({},t.name,t.value));default:return e}},cities:ga,map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_COORDINATES":return Object(C.a)({},e,{lat:t.lat,lng:t.lng});case"SET_ZOOM":return Object(C.a)({},e,{zoom:t.zoom});case"INCREMENT_ZOOM":return Object(C.a)({},e,{zoom:++e.zoom});case"DECREMENT_ZOOM":return Object(C.a)({},e,{zoom:--e.zoom});default:return e}},geodata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOCATION":return Object(C.a)({},e,{geodata:t.data});case"SET_LOCATION_ERROR":return Object(C.a)({},e,{error:!0});default:return e}},incidents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INCIDENTS":return Object(C.a)({},e,{data:t.incidents});case"SET_LOADING":return Object(C.a)({},e,{isLoading:!1});case"SET_ERROR":return Object(C.a)({},e,{error:t.error});default:return e}},incident:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_INCIDENT":return Object(C.a)({},t.incident);case"CLOSE_INCIDENT":return null;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ka,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(C.a)({},t.user,{isAuth:!0});case"LOGOUT_USER":return{isAuth:!1};default:return e}}}),Ca=a(11),ja=a.n(Ca),ya=a(5),Ia=a(38),Ta=a.n(Ia),Sa=ja.a.mark(Da),_a=ja.a.mark(Ua),Aa=ja.a.mark(Pa);function Da(){var e,t;return ja.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ya.b)(Ta.a.get,"/api/cities/");case 3:return e=a.sent,t=e.data,localStorage.setItem("citiesList",JSON.stringify(t)),a.next=8,Object(ya.d)({type:"ADD",cities:t});case 8:return a.next=10,Object(ya.d)(pe(!1));case 10:return a.next=12,Object(ya.d)({type:"LOADING",loading:!1});case 12:a.next=19;break;case 14:return a.prev=14,a.t0=a.catch(0),console.error(a.t0.message),a.next=19,Object(ya.d)(pe(!0));case 19:case"end":return a.stop()}}),Sa,null,[[0,14]])}function Ua(e){var t;return ja.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.id,a.next=4,Object(ya.d)(xt(t));case 4:return a.next=6,Object(ya.d)(fe(t));case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0.message);case 11:case"end":return a.stop()}}),_a,null,[[0,8]])}function Pa(){return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ya.g)("FETCH_CITIES",Da);case 2:return e.next=4,Object(ya.g)("CHANGE_CITY",Ua);case 4:case"end":return e.stop()}}),Aa)}var La=ja.a.mark(Ba),Ra=ja.a.mark(Ma);function Ba(e){var t,a,n,r,i,c,s;return ja.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.id,o.prev=1,o.next=4,Object(ya.e)((function(e){return{cities:e.cities.data}}));case 4:return a=o.sent,n=a.cities,r=n.find((function(e){return e.id===t})),i=r.title,o.next=9,Object(ya.b)(Ta.a.get,"/api/incidents/".concat(i));case 9:return c=o.sent,s=c.data,o.next=13,Object(ya.d)(Ot(!1));case 13:return o.next=15,Object(ya.d)({type:"SET_LOADING",value:!1});case 15:return o.next=17,Object(ya.d)({type:"SET_INCIDENTS",incidents:s});case 17:o.next=24;break;case 19:return o.prev=19,o.t0=o.catch(1),console.error(o.t0.message),o.next=24,Object(ya.d)(Ot(!0));case 24:case"end":return o.stop()}}),La,null,[[1,19]])}function Ma(){return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ya.g)("FETCH_ALL_INCIDENTS",Ba);case 2:case"end":return e.stop()}}),Ra)}var za=function(e,t){return{type:"CHANGE_SYSTEM_FIELD",name:e,value:t}},Ga=ja.a.mark(Ka),Fa=ja.a.mark($a),Za=ja.a.mark(Xa),Ha=ja.a.mark(en),Wa=ja.a.mark(tn),Qa=ja.a.mark(an),Ya=ja.a.mark(nn),Ja=ja.a.mark(rn),Va=ja.a.mark(cn),qa=ja.a.mark(sn);function Ka(){var e,t,a,n,r;return ja.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(ya.e)((function(e){return e.forms}));case 3:return e=i.sent,t=e.signUpName,a=e.signUpEmail,n=e.signUpPassword,i.next=9,Object(ya.d)(za("signUpSnackbar","\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f..."));case 9:return i.next=11,Object(ya.d)(Tt("signUpButtonDisabled",!0));case 11:return i.next=13,Object(ya.b)(Ta.a.post,"/api/auth/sign-up",{name:t.trim(),email:a.trim(),password:n});case 13:if(201!==(r=i.sent).status){i.next=19;break}return i.next=17,Object(ya.d)({type:"SIGN_UP_SUCCESS"});case 17:i.next=21;break;case 19:return i.next=21,Object(ya.d)({type:"SIGN_UP_FAIL",data:r.data});case 21:i.next=31;break;case 23:return i.prev=23,i.t0=i.catch(0),i.next=27,Object(ya.d)(za("signUpSnackbar","\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."));case 27:return i.next=29,Object(ya.c)(5e3);case 29:return i.next=31,Object(ya.d)(za("signUpSnackbar",""));case 31:return i.prev=31,i.next=34,Object(ya.d)(Tt("signUpButtonDisabled",!1));case 34:return i.finish(31);case 35:case"end":return i.stop()}}),Ga,null,[[0,23,31,35]])}function $a(){return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ya.d)(za("signUpSnackbar",""));case 2:return e.next=4,Object(ya.d)(Tt("signUpName",""));case 4:return e.next=6,Object(ya.d)(Tt("signUpEmail",""));case 6:return e.next=8,Object(ya.d)(Tt("signUpPassword",""));case 8:return e.next=10,Object(ya.d)(X());case 10:case"end":return e.stop()}}),Fa)}function Xa(e){var t;return ja.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("name: lenght"!==(t=e.data)){a.next=6;break}return a.next=4,Object(ya.d)(Tt("signUpNameError","\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 6 \u0434\u043e 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."));case 4:a.next=34;break;case 6:if("name: invalid"!==t){a.next=11;break}return a.next=9,Object(ya.d)(Tt("signUpNameError","\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0438 \u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b, \u0430 \u0442\u0430\u043a \u0436\u0435 \u0447\u0438\u0441\u043b\u0430."));case 9:a.next=34;break;case 11:if("name: busy"!==t){a.next=16;break}return a.next=14,Object(ya.d)(Tt("signUpNameError","\u0418\u043c\u044f \u0437\u0430\u043d\u044f\u0442\u043e, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0435."));case 14:a.next=34;break;case 16:if("email: invalid"!==t){a.next=21;break}return a.next=19,Object(ya.d)(Tt("signUpEmailError","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 E-Mail."));case 19:a.next=34;break;case 21:if("email: busy"!==t){a.next=26;break}return a.next=24,Object(ya.d)(Tt("signUpEmailError","\u0423\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 E-Mail \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f."));case 24:a.next=34;break;case 26:if("password: length"!==t){a.next=31;break}return a.next=29,Object(ya.d)(Tt("signUpPasswordError","\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 6 \u0434\u043e 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."));case 29:a.next=34;break;case 31:if("password: invalid"!==t){a.next=34;break}return a.next=34,Object(ya.d)(Tt("signUpPasswordError","\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u0438 \u0447\u0438\u0441\u043b\u0430."));case 34:return a.next=36,Object(ya.d)(za("signUpSnackbar",""));case 36:case"end":return a.stop()}}),Za)}function en(){var e,t,a,n,r;return ja.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(ya.e)((function(e){return e.forms}));case 3:return e=i.sent,t=e.signInEmail,a=e.signInPassword,i.next=8,Object(ya.d)(za("signInSnackbar","\u041f\u044b\u0442\u0430\u0435\u043c\u0441\u044f \u0432\u043e\u0439\u0442\u0438..."));case 8:return i.next=10,Object(ya.d)(Tt("signInButtonDisabled",!0));case 10:return i.next=12,Object(ya.b)(Ta.a.post,"/api/auth/sign-in",{email:t.trim(),password:a});case 12:if(n=i.sent,"OK"!==(r=n.data)){i.next=19;break}return i.next=17,Object(ya.d)({type:"SIGN_IN_SUCCESS"});case 17:i.next=23;break;case 19:return i.next=21,Object(ya.d)(za("signInSnackbar","\u0412\u0445\u043e\u0434 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."));case 21:return i.next=23,Object(ya.d)(At(r));case 23:i.next=35;break;case 25:return i.prev=25,i.t0=i.catch(0),i.next=29,Object(ya.d)(Tt("signInButtonDisabled",!1));case 29:return i.next=31,Object(ya.d)(za("signInSnackbar","\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."));case 31:return i.next=33,Object(ya.c)(5e3);case 33:return i.next=35,Object(ya.d)(za("signInSnackbar",""));case 35:case"end":return i.stop()}}),Ha,null,[[0,25]])}function tn(){return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ya.d)(Tt("signInButtonDisabled",!1));case 2:return e.next=4,Object(ya.d)(za("signInSnackbar",""));case 4:return e.next=6,Object(ya.d)(Tt("signInEmail",""));case 6:return e.next=8,Object(ya.d)(Tt("signInPassword",""));case 8:return e.next=10,Object(ya.d)(X());case 10:case"end":return e.stop()}}),Wa)}function an(e){var t;return ja.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("email: invalid"!==(t=e.data)){a.next=6;break}return a.next=4,Object(ya.d)(Tt("signInEmailError","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 E-Mail."));case 4:a.next=19;break;case 6:if("email: not found"!==t){a.next=11;break}return a.next=9,Object(ya.d)(Tt("signInEmailError","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d."));case 9:a.next=19;break;case 11:if("password: invalid"!==t){a.next=16;break}return a.next=14,Object(ya.d)(Tt("signInEmailError","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c."));case 14:a.next=19;break;case 16:if("password: wrong"!==t){a.next=19;break}return a.next=19,Object(ya.d)(Tt("signInEmailError","\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439."));case 19:return a.next=21,Object(ya.d)(Tt("signInButtonDisabled",!1));case 21:return a.next=23,Object(ya.c)(3e3);case 23:return a.next=25,Object(ya.d)(za("signInSnackbar",""));case 25:case"end":return a.stop()}}),Qa)}function nn(){var e,t,a,n;return ja.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=Na.a.get("token"),t=Na.a.get("user-name"),a=Na.a.get("user-email"),n=+Na.a.get("user-id"),Ta.a.defaults.headers.common.Authorization=e,r.next=7,Object(ya.d)(te({name:t,email:a,id:n}));case 7:case"end":return r.stop()}}),Ya)}function rn(){return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ya.b)(Ta.a.get,"/api/auth/logout");case 3:return Ta.a.defaults.headers.common.Authorization="",e.next=6,Object(ya.d)({type:"LOGOUT_USER"});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),Ja,null,[[0,8]])}function cn(){var e,t,a,n;return ja.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e=Na.a.get("token"),t=Na.a.get("user-name"),a=Na.a.get("user-email"),n=+Na.a.get("user-id"),e&&t&&a&&void 0!==n){r.next=7;break}throw new Error;case 7:return Ta.a.defaults.headers.common.Authorization=e,r.next=10,Object(ya.b)(Ta.a.get,"/api/auth/check");case 10:if("OK"!==r.sent.data){r.next=16;break}return r.next=14,Object(ya.d)(te({name:t,email:a,id:n}));case 14:r.next=17;break;case 16:throw new Error;case 17:r.next=23;break;case 19:return r.prev=19,r.t0=r.catch(0),r.next=23,Object(ya.d)({type:"LOGOUT_USER_REQUEST"});case 23:case"end":return r.stop()}}),Va,null,[[0,19]])}function sn(){return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ya.f)("SIGN_UP_REQUEST",Ka);case 2:return e.next=4,Object(ya.f)("SIGN_UP_SUCCESS",$a);case 4:return e.next=6,Object(ya.f)("SIGN_UP_FAIL",Xa);case 6:return e.next=8,Object(ya.f)("SIGN_IN_REQUEST",en);case 8:return e.next=10,Object(ya.f)("SIGN_IN_SUCCESS",tn);case 10:return e.next=12,Object(ya.f)("SIGN_IN_FAIL",an);case 12:return e.next=14,Object(ya.f)("LOGIN_USER",nn);case 14:return e.next=16,Object(ya.f)("LOGOUT_USER_REQUEST",rn);case 16:return e.next=18,Object(ya.f)("CHECK_USER_AUTH",cn);case 18:case"end":return e.stop()}}),qa)}var on=ja.a.mark(ln);function ln(){var e,t,a,n;return ja.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(ya.e)((function(e){var t=e.forms,a=e.user;return{name:t.settingsName,currentName:a.name}}));case 2:if(e=r.sent,t=e.name,a=e.currentName,n="",t?t===a?n="\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u043e\u0435 \u0438\u043c\u044f.":t.length<6||t.length>16?n="\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 6 \u0434\u043e 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.":t.match(Dt)||(n="\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0438 \u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b, \u0430 \u0442\u0430\u043a \u0436\u0435 \u0447\u0438\u0441\u043b\u0430."):n="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u043e\u0435 \u0438\u043c\u044f.",!n){r.next=12;break}return r.next=10,Object(ya.d)(Tt("settingsNameError",n));case 10:r.next=14;break;case 12:return r.next=14,Object(ya.d)(aa("Name"));case 14:case"end":return r.stop()}}),on)}var un=ln,dn=ja.a.mark(mn);function mn(){var e,t,a,n;return ja.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(ya.e)((function(e){var t=e.forms,a=e.user;return{email:t.settingsEmail,currentEmail:a.email}}));case 2:if(e=r.sent,t=e.email,a=e.currentEmail,n="",t?t===a?n="\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u0432\u0430\u0448 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 E-Mail.":yt.a.validate(t)||(n="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 E-Mail."):n="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 E-Mail.",!n){r.next=12;break}return r.next=10,Object(ya.d)(Tt("settingsEmailError",n));case 10:r.next=14;break;case 12:return r.next=14,Object(ya.d)(aa("Email"));case 14:case"end":return r.stop()}}),dn)}var pn=mn,gn=ja.a.mark(fn);function fn(){var e,t,a,n,r;return ja.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(ya.e)((function(e){var t=e.forms;return{oldPassword:t.settingsOldPassword,newPassword:t.settingsNewPassword}}));case 2:if(e=i.sent,t=e.oldPassword,a=e.newPassword,n="",r="",t?t.length<6||t.length>16?n="\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0443\u043a\u0430\u0437\u0430\u043d \u043d\u0435 \u0432\u0435\u0440\u043d\u043e.":t.match(Ut)?a?a.length<6||a.length>16?r="\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 6 \u0434\u043e 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432.":a.match(Ut)?a===t&&(r="\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"):r="\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u0438 \u0447\u0438\u0441\u043b\u0430.":r="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c.":n="\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0443\u043a\u0430\u0437\u0430\u043d \u043d\u0435 \u0432\u0435\u0440\u043d\u043e.":n="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c.",!n&&!r){i.next=15;break}return i.next=11,Object(ya.d)(Tt("settingsOldPasswordError",n));case 11:return i.next=13,Object(ya.d)(Tt("settingsNewPasswordError",r));case 13:i.next=17;break;case 15:return i.next=17,Object(ya.d)(aa("Password"));case 17:case"end":return i.stop()}}),gn)}var bn=fn,En=ja.a.mark(hn);function hn(e){var t,a;return ja.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.field,a="settings".concat(t,"ButtonDisabled"),n.next=4,Object(ya.d)(Tt(a,!0));case 4:return n.prev=4,n.next=7,Object(ya.c)(3e3);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(4),console.error(n.t0.message);case 12:return n.prev=12,n.next=15,Object(ya.d)(Tt(a,!1));case 15:return n.finish(12);case 16:case"end":return n.stop()}}),En,null,[[4,9,12,16]])}var vn=hn,xn=ja.a.mark(On);function On(){return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ya.f)("VALIDATE_NEW_NAME",un);case 2:return e.next=4,Object(ya.f)("VALIDATE_NEW_EMAIL",pn);case 4:return e.next=6,Object(ya.f)("VALIDATE_NEW_PASSWORD",bn);case 6:return e.next=8,Object(ya.f)("REQUEST_SETTINGS_ACCOUNT_DATA",vn);case 8:case"end":return e.stop()}}),xn)}var Nn=On,kn=ja.a.mark(wn);function wn(){return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ya.a)([Pa(),Ma(),sn(),Nn()]);case 2:case"end":return e.stop()}}),kn)}var Cn=wn,jn=Object(oa.a)(),yn=Object(d.e)(wa,Object(d.a)(jn));window.getState=yn.getState,jn.run(Cn);var In=yn,Tn=(a(169),Object(l.a)({palette:{primary:{main:"#f64b11"},secondary:{main:"#2196F3"}}}));c.a.render(r.a.createElement(s.a,null,r.a.createElement(o.a,{store:In},r.a.createElement(u.a,{theme:Tn},r.a.createElement(sa,null)))),document.getElementById("root"))},50:function(e,t,a){e.exports=a.p+"static/media/logo_dark.6ea33164.svg"}},[[141,1,2]]]);
//# sourceMappingURL=main.f3539dd0.chunk.js.map