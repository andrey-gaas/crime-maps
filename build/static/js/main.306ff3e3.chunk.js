(this["webpackJsonpcrime-maps"]=this["webpackJsonpcrime-maps"]||[]).push([[0],{147:function(e,t,a){e.exports=a.p+"static/media/novosibirsk.3223fede.jpg"},148:function(e,t,a){e.exports=a.p+"static/media/krasnoyarsk.aaf9cd5c.jpg"},149:function(e,t,a){e.exports=a.p+"static/media/novosibirsk.f2328259.svg"},150:function(e,t,a){e.exports=a.p+"static/media/krasnoyarsk.0bba5569.svg"},152:function(e,t,a){e.exports=a.p+"static/media/car_theft.b572941a.svg"},153:function(e,t,a){e.exports=a.p+"static/media/fire.547e02c8.svg"},154:function(e,t,a){e.exports=a.p+"static/media/accident.af983432.svg"},155:function(e,t,a){e.exports=a.p+"static/media/animal.78439bea.svg"},156:function(e,t,a){e.exports=a.p+"static/media/violence.b089ef0f.svg"},157:function(e,t,a){e.exports=a.p+"static/media/bad_services.0beafc4d.svg"},158:function(e,t,a){e.exports=a.p+"static/media/death.0e042142.svg"},159:function(e,t,a){e.exports=a.p+"static/media/dtp.430d3fe4.svg"},160:function(e,t,a){e.exports=a.p+"static/media/lost_man.44949d7e.svg"},161:function(e,t,a){e.exports=a.p+"static/media/protest.9ffcd5b2.svg"},162:function(e,t,a){e.exports=a.p+"static/media/theft.0e89d87b.svg"},163:function(e,t,a){e.exports=a.p+"static/media/disaster.e2168d84.svg"},165:function(e,t,a){e.exports=a.p+"static/media/user.ed058a81.svg"},166:function(e,t,a){e.exports=a.p+"static/media/car_theft.f15135e1.svg"},167:function(e,t,a){e.exports=a.p+"static/media/fire.4faaaf86.svg"},168:function(e,t,a){e.exports=a.p+"static/media/accident.75476a82.svg"},169:function(e,t,a){e.exports=a.p+"static/media/animal.80e28ec9.svg"},170:function(e,t,a){e.exports=a.p+"static/media/violence.4e158945.svg"},171:function(e,t,a){e.exports=a.p+"static/media/bad_services.78eacfc8.svg"},172:function(e,t,a){e.exports=a.p+"static/media/death.25eac115.svg"},173:function(e,t,a){e.exports=a.p+"static/media/dtp.741b1766.svg"},174:function(e,t,a){e.exports=a.p+"static/media/lost_man.9db9caf4.svg"},175:function(e,t,a){e.exports=a.p+"static/media/protest.a4a6d874.svg"},176:function(e,t,a){e.exports=a.p+"static/media/theft.2d127463.svg"},177:function(e,t,a){e.exports=a.p+"static/media/disaster.115fc0c5.svg"},178:function(e,t,a){e.exports=a.p+"static/media/default_avatar.4aae295a.png"},193:function(e,t,a){e.exports=a(222)},221:function(e,t,a){},222:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),i=a(17),o=a(15),l=a(180),u=a(318),m=a(182),p=a(51),d=a(317),f=a(323),E=a(75),b=Object(n.createContext)(),g=function(e){return{type:"SET_LOCATION",data:e}},v=function(e){return{type:"SET_LOCATION_ERROR",error:e}},x=function(e,t){return{type:"CHANGE_COORDINATES",lat:e,lng:t}},h=function(e){return{type:"SET_ZOOM",zoom:e}},O=function(){return{type:"INCREMENT_ZOOM"}},j=function(){return{type:"DECREMENT_ZOOM"}},y=function(e){return{type:"CHANGE_NEWS_TYPES",typeNews:e}},C=function(e,t){return{type:"CHANGE_SYSTEM_FIELD",name:e,value:t}},N=function(e,t){return{type:"CHANGE_FIELD",name:e,value:t}},w=function(){return{type:"SIGN_IN_VALIDATE"}},k=function(e,t){return{type:"SIGN_IN_REQUEST",email:e,password:t}},S=function(e){return{type:"SIGN_IN_FAIL",message:e}},T=function(){return{type:"SIGN_UP_VALIDATE"}},I=function(e){return{type:"SIGN_UP_FAIL",message:e}},_=function(e){return{type:"SET_USER_DATA",data:e}},A=function(){return{type:"LOGOUT_USER_REQUEST"}},U=function(){return{type:"FETCH_USER_DATA"}},L=function(e){return{type:"SET_ACTIVE_NEWS",news:e}},R=function(){return{type:"FETCH_ALL_NEWS"}},D=function(e){return{type:"FETCH_NEWS",id:e}},F=function(e){return{type:"FETCH_CABINET_NEWS",cityId:e}},B=function(e){return{type:"SET_CABINET_NEWS",news:e}},M=function(){return{type:"CREATE_NEWS_VALIDATION"}},P=function(e){return{type:"REMOVE_NEWS",id:e}},z=function(e){return{type:"REMOVE_NEWS_REQUEST",id:e}},W=function(e){return{type:"REMOVE_NEWS_SUCCESS",id:e}},G=function(e){return{type:"REMOVE_NEWS_FAIL",status:e}},H=function(e){return{type:"SET_CITIES_LOADING",loading:e}},V=function(){return{type:"TOGGLE_CITIES_SELECTOR"}},Z=function(e){return{type:"CHANGE_CITY",id:e}},q=function(e){return{type:"CHANGE_SELECTED_CITY_ID",id:e}},Y=function(){return{type:"FETCH_CITIES"}},Q=function(e){return{type:"CABINET_USERS_REQUEST",name:e}},J=function(e){return{type:"SET_CABINET_USERS",users:e}},$=a(93),K=a(66),X="linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",ee=Object(K.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",background:X},link:{textDecoration:"none"}}}));var te=function(){var e=ee();return r.a.createElement("div",{className:e.root},r.a.createElement(i.b,{to:"/map",className:e.link},r.a.createElement($.a,{variant:"contained",color:"primary"},"\u041a \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e")))},ae=a(287),ne=a(289),re=a(288),ce=a(290),se=a(291),ie=a(41),oe=a(224),le=a(268),ue=a(226),me=a(227),pe=a(60),de=a(270),fe=a(228),Ee=a(271),be=a(272),ge=a(229),ve=a(269),xe=a(273),he=a(266),Oe=Object(K.a)((function(e){return{rotate:{animation:"$rotate 1s infinite"},"@keyframes rotate":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(-360deg)"}}}}));var je=function(){var e=Oe();return r.a.createElement(he.a,{className:e.rotate})},ye=Object(K.a)((function(e){return{title:{position:"relative",backgroundColor:"#eee",borderBottom:"1px solid #cecece"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},loadingText:{display:"flex",justifyContent:"center",alignItems:"center"},rotate:{animation:"$rotate 1s infinite"},"@keyframes rotate":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(-360deg)"}},actions:{backgroundColor:"#eee",borderTop:"1px solid #cecece"}}}));var Ce=Object(o.c)((function(e){var t=e.cities;return{loading:t.loading,cities:t.data}}))((function(e){var t=e.isOpen,a=e.loading,c=e.cities,s=Object(n.useState)(null),i=Object(ie.a)(s,2),l=i[0],u=i[1],m=Object(n.useContext)(b),p=m.toggleCities,d=m.fetchCities,f=m.changeCoordinates,E=m.changeCity,g=ye();return Object(n.useEffect)((function(){d()}),[d]),r.a.createElement(oe.a,{open:t,onClose:p,maxWidth:"sm",fullWidth:!0},r.a.createElement(le.a,{className:g.title},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",r.a.createElement(ue.a,{onClick:p,className:g.closeButton},r.a.createElement(ve.a,null))),r.a.createElement(me.a,null,a&&r.a.createElement(pe.a,{variant:"subtitle1",color:"textSecondary",className:g.loadingText},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043f\u0438\u0441\u043a\u0430 \u0433\u043e\u0440\u043e\u0434\u043e\u0432",r.a.createElement(je,null)),!a&&r.a.createElement(de.a,{component:"nav"},c.map((function(e){return r.a.createElement(fe.a,{button:!0,key:e.id,selected:e.id===l,onClick:function(){return u(e.id)}},r.a.createElement(Ee.a,null,e.name),e.id===l&&r.a.createElement(be.a,null,r.a.createElement(ue.a,null,r.a.createElement(xe.a,null))))})))),r.a.createElement(ge.a,{className:g.actions},r.a.createElement($.a,{onClick:function(){return function(e){var t=c.find((function(t){return t.id===e}));localStorage.setItem("selectedCity",e),Object(o.b)((function(){E(e),p(),f(t.lat,t.lng)}))}(l)},disabled:null===l},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c")))})),Ne=a(330),we=a(280),ke=a(281),Se=a(282),Te=a(22),Ie=a(14),_e=a(147),Ae=a.n(_e),Ue=a(148),Le=a.n(Ue),Re={novosibirsk:{backgroundImage:"url(".concat(Ae.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"},krasnoyarsk:{backgroundImage:"url(".concat(Le.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}},De=Object(K.a)((function(e){return Object(Te.a)({root:{display:"none"}},e.breakpoints.up("md"),Object(Ie.a)({},Re,{root:{display:"block",width:330,flexShrink:0},rootPaper:{width:330},subscriptionsContainer:{marginTop:e.spacing(1)},subscriptionsLink:{display:"flex",alignItems:"center",marginLeft:e.spacing(2),paddingTop:e.spacing(1),paddingBottom:e.spacing(1),fontSize:e.typography.h6.fontSize,textDecoration:"none",color:e.palette.text.primary},subscriptionsIcon:{marginRight:e.spacing(1),fontSize:e.typography.h4.fontSize,color:"#f64b11"},authLink:{marginTop:"auto",textDecoration:"none",borderTop:"1px solid ".concat("#f64b11")},authButton:{color:"#f64b11"}}))})),Fe=a(185),Be=a(84),Me=a.n(Be),Pe=a(328),ze=a(274),We=Object(K.a)((function(e){return Object(Te.a)({root:{display:"flex",alignItems:"center",overflowX:"hidden",margin:e.spacing(1)},cityName:{marginLeft:e.spacing(1),color:e.palette.text},emblemContainer:{display:"none"},grow:{flexGrow:1},changeCityButton:{color:e.palette.text}},e.breakpoints.up("md"),{root:{margin:e.spacing(3)},cityName:{color:"#fff"},emblemContainer:{display:"flex",justifyContent:"center",alignItems:"center",width:40,height:40,background:"#fff",borderRadius:"50%"},emblem:{height:30},changeCityButton:{color:"#fff"}})})),Ge=a(149),He=a.n(Ge),Ve=a(150),Ze=a.n(Ve),qe={novosibirsk:He.a,krasnoyarsk:Ze.a};var Ye=Object(o.c)((function(e){return{loading:e.cities.loading}}))((function(e){var t=e.titleCity,a=e.city,c=Object(n.useContext)(b).toggleCities,s=We();return r.a.createElement("div",{className:s.root},r.a.createElement("div",{className:s.emblemContainer},r.a.createElement("img",{className:s.emblem,src:qe[t],alt:""})),r.a.createElement(pe.a,{variant:"h6",className:s.cityName},a),r.a.createElement("div",{className:s.grow}),r.a.createElement(Pe.a,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434"},r.a.createElement(ue.a,{onClick:c},r.a.createElement(ze.a,{className:s.changeCityButton}))))})),Qe=Object(K.a)((function(e){return Object(Ie.a)({},Re,{header:{position:"relative",height:200},blackout:{paddingTop:1,height:"100%",backgroundColor:"rgba(0, 0, 0, .5)"},searchContainer:{display:"flex",justifyContent:"space-between",margin:e.spacing(3),padding:"5px 10px",backgroundColor:"#fff",borderRadius:2*e.shape.borderRadius,border:"1px solid #ccc"},search:{width:"86%"}})})),Je=a(64),$e=a.n(Je);var Ke=Object(o.c)((function(e){var t=e.cities;return{selectedCityId:t.selectedCityId,citiesList:t.data}}))((function(e){var t=e.selectedCityId,a=e.citiesList,n=Qe(),c=a.find((function(e){return e.id===t}));return r.a.createElement("div",{className:Me()(n.root,n[c.title])},r.a.createElement("div",{className:n.blackout},r.a.createElement("div",{className:n.searchContainer},r.a.createElement("img",{src:$e.a,alt:"",height:"35px"}),r.a.createElement(Fe.a,{className:n.search,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e Crime Maps..."})),r.a.createElement(Ye,{titleCity:c.title,city:c.name})))})),Xe=a(52),et=a(152),tt=a.n(et),at=a(153),nt=a.n(at),rt=a(154),ct=a.n(rt),st=a(155),it=a.n(st),ot=a(156),lt=a.n(ot),ut=a(157),mt=a.n(ut),pt=a(158),dt=a.n(pt),ft=a(159),Et=a.n(ft),bt=a(160),gt=a.n(bt),vt=a(161),xt=a.n(vt),ht=a(162),Ot=a.n(ht),jt=a(163),yt=a.n(jt),Ct=[{type:9,name:"\u0410\u043a\u0446\u0438\u044f \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u0430"},{type:7,name:"\u0414\u0422\u041f"},{type:3,name:"\u0416\u0438\u0432\u043e\u0442\u043d\u044b\u0435"},{type:10,name:"\u041a\u0440\u0430\u0436\u0430"},{type:4,name:"\u041d\u0430\u0441\u0438\u043b\u0438\u0435"},{type:2,name:"\u041d\u0435\u0441\u0447\u0430\u0441\u0442\u043d\u044b\u0439 \u0441\u043b\u0443\u0447\u0430\u0439"},{type:0,name:"\u0423\u0433\u043e\u043d"},{type:1,name:"\u041f\u043e\u0436\u0430\u0440"},{type:5,name:"\u041f\u043b\u043e\u0445\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438"},{type:8,name:"\u041f\u0440\u043e\u043f\u0430\u043b \u0447\u0435\u043b\u043e\u0432\u0435\u043a"},{type:6,name:"\u0421\u043c\u0435\u0440\u0442\u044c"},{type:11,name:"\u0421\u0442\u0438\u0445\u0438\u0439\u043d\u043e\u0435 \u0431\u0435\u0434\u0441\u0442\u0432\u0438\u0435"}];var Nt=function(e){switch(e){case 0:return tt.a;case 1:return nt.a;case 2:return ct.a;case 3:return it.a;case 4:return lt.a;case 5:return mt.a;case 6:return dt.a;case 7:return Et.a;case 8:return gt.a;case 9:return xt.a;case 10:return Ot.a;case 11:return yt.a;default:return!1}},wt=Object(K.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",margin:e.spacing(1)},button:{display:"flex",flexDirection:"column",alignItems:"center",width:"24%",border:"none",background:"none",outline:"none",cursor:"pointer",transition:".3s","&:hover":{opacity:.7}},imageContainer:{padding:1.5*e.spacing(1),width:"100%",background:"#000",borderRadius:"50%"},label:{marginTop:e.spacing(1),fontSize:12},active:{background:"#f64b11"}}}));var kt=Object(o.c)((function(e){return{types:e.map.showTypes}}))((function(e){var t=e.types,a=wt(),c=Object(n.useContext)(b).changeNewsTypes,s=JSON.parse(localStorage.getItem("activeTypes"))||t;return r.a.createElement("div",{className:a.root},Ct.map((function(e){return r.a.createElement("button",{className:a.button,key:e.name,onClick:function(){return function(e){var t,a=s.find((function(t){return t.type===e.type}));t=a?s.filter((function(e){return e.type!==a.type})):[].concat(Object(Xe.a)(s),[e]),localStorage.setItem("activeTypes",JSON.stringify(t)),c(e.type)}(e)}},r.a.createElement("div",{className:Me()(a.imageContainer,Object(Te.a)({},a.active,(t=e.type,!!s.find((function(e){return e.type===t})))))},r.a.createElement("img",{alt:e.name,src:Nt(e.type),width:"100%"})),r.a.createElement("span",{className:a.label},e.name));var t})))})),St=a(275),Tt=a(276),It=a(277),_t=a(278),At=a(279),Ut=Object(K.a)((function(e){return{root:{width:"100%",position:"absolute",bottom:0},buttonsContainer:{display:"flex",justifyContent:"space-between",backgroundColor:"#fff"},button:{minWidth:0},active:{color:"#f64b11"}}})),Lt=[{path:"/cabinet",icon:r.a.createElement(St.a,null)},{path:"/map/tape",icon:r.a.createElement(Tt.a,null)},{path:"/map",icon:r.a.createElement(It.a,null)},{path:"/map/recommendations",icon:r.a.createElement(_t.a,null)},{path:"/cabinet/gossip",icon:r.a.createElement(At.a,null)}];var Rt=function(e){var t=e.location,a=Ut();return r.a.createElement("div",{className:a.root},r.a.createElement(we.a,null),r.a.createElement("div",{className:a.buttonsContainer},Lt.map((function(e,n){return r.a.createElement(i.b,{key:n,to:e.path},r.a.createElement(ue.a,{className:Me()(Object(Te.a)({},a.active,t===e.path))},e.icon))}))))};var Dt=Object(o.c)((function(e){return{isAuth:e.user.isAuth}}))((function(e){var t=e.location,a=e.isAuth,n=De();return r.a.createElement(Ne.a,{variant:"permanent",className:n.root,classes:{paper:n.rootPaper}},r.a.createElement(Ke,null),r.a.createElement(kt,null),a&&r.a.createElement("div",{className:n.subscriptionsContainer},r.a.createElement(we.a,null),r.a.createElement(i.b,{to:"/map/subscriptions",className:n.subscriptionsLink},r.a.createElement(ke.a,{className:n.subscriptionsIcon})," \u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"),r.a.createElement(we.a,null)),a&&r.a.createElement(Rt,{location:t.pathname}),!a&&r.a.createElement(i.b,{to:"/sign-in",className:n.authLink},r.a.createElement($.a,{className:n.authButton,fullWidth:!0},r.a.createElement(Se.a,null),"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f")))})),Ft=a(8),Bt=a.n(Ft),Mt=a(164),Pt=a(324),zt=a(332),Wt=a(283),Gt=a(36),Ht=a.n(Gt),Vt=a(165),Zt=a.n(Vt),qt=a(166),Yt=a.n(qt),Qt=a(167),Jt=a.n(Qt),$t=a(168),Kt=a.n($t),Xt=a(169),ea=a.n(Xt),ta=a(170),aa=a.n(ta),na=a(171),ra=a.n(na),ca=a(172),sa=a.n(ca),ia=a(173),oa=a.n(ia),la=a(174),ua=a.n(la),ma=a(175),pa=a.n(ma),da=a(176),fa=a.n(da),Ea=a(177),ba=a.n(Ea);function ga(e){var t;switch(e){case 0:t=Yt.a;break;case 1:t=Jt.a;break;case 2:t=Kt.a;break;case 3:t=ea.a;break;case 4:t=aa.a;break;case 5:t=ra.a;break;case 6:t=sa.a;break;case 7:t=oa.a;break;case 8:t=ua.a;break;case 9:t=pa.a;break;case 10:t=fa.a;break;case 11:t=ba.a;break;default:t=Zt.a}return new Ht.a.Icon({iconUrl:t,iconSize:new Ht.a.Point(36,60),iconAnchor:[18,60]})}var va=Object(o.c)((function(e){var t=e.map,a=e.news;return{lat:t.lat,lng:t.lng,zoom:t.zoom,geodata:t.geodata,showTypes:t.showTypes,news:a.news}}))((function(e){var t=e.lat,a=e.lng,c=e.zoom,s=e.geodata,i=e.news,o=e.showTypes,l=e.redirect,u=[];o.forEach((function(e){var t=e.type;return i.forEach((function(e){t===e.type&&u.push(e)}))}));var m=Object(n.useContext)(b),p=m.changeZoom,d=m.changeCoordinates,f=m.setActiveNews,E=function(){var e=Object(Mt.a)(Bt.a.mark((function e(t){return Bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:l("/map/news/".concat(t.id));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Pt.a,{center:[t,a],zoom:c,maxZoom:17,minZoom:5,attributionControl:!0,zoomControl:!1,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:!0,animate:!0,easeLinearity:.35,onDragEnd:function(e){var t=e.target.getCenter(),a=t.lat,n=t.lng;d(a,n)},onZoomEnd:function(e){return p(e.target.getZoom())}},r.a.createElement(zt.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),s&&r.a.createElement(Wt.a,{position:[s.coords.latitude,s.coords.longitude],icon:ga()}),u.map((function(e){return r.a.createElement(Wt.a,{key:e.id,position:e.coords,icon:ga(e.type),onClick:function(){return E(e)}})})))})),xa=a(30),ha=a(284),Oa=a(286),ja=a(285),ya=Object(K.a)((function(e){return Object(Te.a)({root:{position:"relative"},titleContainer:{position:"relative",backgroundColor:"#eee",borderBottom:"1px solid #cecece"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},infoContainer:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(1)},date:{color:"#aaa",cursor:"pointer","&:hover":{textDecoration:"underline"}},views:{display:"flex",alignItems:"center",color:"#aaa"},viewsIcon:{marginLeft:e.spacing(1)},sourcesContainer:{display:"flex",flexDirection:"column",marginTop:e.spacing(2)},sourceBorder:{marginBottom:e.spacing(1),borderBottom:"1px solid #cecece"},container:{display:"flex",justifyContent:"center",alignItems:"center"}},e.breakpoints.up("md"),{container:{marginTop:e.spacing(5),marginBottom:e.spacing(5)}})}));var Ca=Object(o.c)((function(e){return{news:e.news.activeNews}}))((function(e){var t=e.news,a=e.newsId,c=e.redirect,s=Object(n.useContext)(b),i=s.fetchNews,o=s.setActiveNews,l=ya(),u=t instanceof Object?function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1,r=t.getFullYear(),c=t.getHours(),s=t.getMinutes();return a<10&&(a="0"+a),n<10&&(n="0"+n),c<10&&(c="0"+c),s<10&&(s="0"+s),"".concat(c,":").concat(s," ").concat(a,".").concat(n,".").concat(r)}(t.date):null,m=Object(xa.a)(),p=Object(ha.a)(m.breakpoints.down("sm"));Object(n.useEffect)((function(){t||i(a)}),[i,t,a]);var d=function(){c("/map"),o(null)};return r.a.createElement(oe.a,{open:!0,onClose:d,maxWidth:"md",fullWidth:!0,fullScreen:p,className:l.root},t&&!t.error&&r.a.createElement(n.Fragment,null,r.a.createElement(le.a,{className:l.titleContainer},t.title,r.a.createElement(ue.a,{onClick:d,className:l.closeButton},r.a.createElement(ve.a,null))),r.a.createElement(me.a,null,r.a.createElement("div",{className:l.infoContainer},r.a.createElement(pe.a,{variant:"body1",className:l.date},u),r.a.createElement(pe.a,{variant:"body1",className:l.views},t.views," ",r.a.createElement(ja.a,{className:l.viewsIcon}))),r.a.createElement(pe.a,{variant:"body1"},t.text),r.a.createElement("div",{className:l.sourcesContainer},r.a.createElement(pe.a,{variant:"h6"},"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0438:"),r.a.createElement("div",{className:l.sourceBorder}),t.sources.map((function(e,t){return r.a.createElement(Oa.a,{key:t,href:e.link},e.name)}))))),t&&t.error&&r.a.createElement(me.a,{className:l.container},r.a.createElement(ue.a,{onClick:d,className:l.closeButton},r.a.createElement(ve.a,null)),r.a.createElement(pe.a,{variant:"h6"},t.error)),!t&&r.a.createElement(me.a,{className:l.container},r.a.createElement(ue.a,{onClick:d,className:l.closeButton},r.a.createElement(ve.a,null)),r.a.createElement(pe.a,{variant:"h6"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430")))})),Na=Object(K.a)((function(e){return Object(Te.a)({root:{display:"flex",height:"100%"},buttonUserPosition:{position:"absolute",bottom:e.spacing(1),right:e.spacing(1),zIndex:1e3},zoomButtonsContainer:{display:"flex",flexDirection:"column",position:"absolute",top:e.spacing(1),right:e.spacing(1),zIndex:1e3},buttonZoomOut:{marginTop:e.spacing(1)}},e.breakpoints.up("md"),{buttonUserPosition:{bottom:e.spacing(3),right:e.spacing(3)},zoomButtonsContainer:{top:e.spacing(3),right:e.spacing(3)},buttonZoomOut:{marginTop:e.spacing(1)}})}));var wa=Object(o.c)((function(e){var t=e.map,a=e.cities;return{geodata:t.geodata,zoom:t.zoom,isSelectorOpen:a.isSelectorOpen}}))((function(e){var t=e.geodata,a=e.zoom,c=e.location,s=e.history,i=e.isSelectorOpen,l=Na(),u=Object(n.useContext)(b),m=u.changeCoordinates,p=u.changeZoom,d=u.incrementZoom,f=u.decrementZoom,g=u.fetchAllNews;return Object(n.useEffect)((function(){g()}),[g]),r.a.createElement("div",{className:l.root},r.a.createElement(Dt,{location:c}),i&&r.a.createElement(Ce,{isOpen:i}),r.a.createElement(ae.a,{color:"primary",size:"large",className:l.buttonUserPosition,disabled:null===t,onClick:function(){return Object(o.b)((function(){m(t.coords.latitude,t.coords.longitude),p(16)}))}},r.a.createElement(re.a,null)),r.a.createElement("div",{className:l.zoomButtonsContainer},r.a.createElement(ne.a,{orientation:"vertical"},r.a.createElement($.a,{variant:"contained",onClick:function(){17!==a&&d()}},r.a.createElement(ce.a,null)),r.a.createElement($.a,{variant:"contained",onClick:function(){5!==a&&f()}},r.a.createElement(se.a,null)))),r.a.createElement(va,{redirect:s.push}),r.a.createElement(E.b,{path:"/map/news/:newsId",render:function(e){var t=e.match;return r.a.createElement(Ca,{newsId:t.params.newsId,redirect:s.push})}}))})),ka=a(121),Sa=a(327),Ta=Object(K.a)((function(e){return Object(Te.a)({root:{display:"flex",flexDirection:"column",minHeight:"100%",background:X},logoContainer:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:e.spacing(3),color:"#fff",textTransform:"uppercase"},logo:{marginLeft:e.spacing(1),height:30},paper:{marginTop:e.spacing(3),marginLeft:e.spacing(1),marginRight:e.spacing(1),paddingTop:e.spacing(1),paddingBottom:e.spacing(3)},title:{textAlign:"center",textTransform:"uppercase"},form:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},textField:{marginTop:e.spacing(1),width:"100%"},button:{marginTop:e.spacing(3)},grayText:{marginTop:e.spacing(1),textAlign:"center",color:"#999"},link:{textDecoration:"none"},linkButton:{marginTop:e.spacing(1)},underContainer:{display:"flex",justifyContent:"center",marginTop:e.spacing(1)},backButton:{color:"#fff"}},e.breakpoints.up("sm"),{root:{alignItems:"center"},paper:{marginTop:e.spacing(10),width:e.breakpoints.width("sm")},form:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},underContainer:{justifyContent:"flex-end",width:e.breakpoints.width("sm")}})}));function Ia(e){var t=e.isAuth,a=e.email,c=e.emailError,s=e.password,l=e.passwordError,u=e.isDisabled,m=Object(n.useContext)(b),p=m.changeField,d=m.signInValidate,f=Ta(),g=function(e){var t=e.target;return Object(o.b)((function(){p(t.name,t.value),p(t.name+"Error","")}))};return t?r.a.createElement(E.a,{to:"/map"}):r.a.createElement("div",{className:f.root},r.a.createElement("div",{className:f.logoContainer},r.a.createElement(pe.a,{variant:"h5"},"Crime Maps"),r.a.createElement("img",{src:$e.a,alt:"",className:f.logo})),r.a.createElement(ka.a,{className:f.paper},r.a.createElement(pe.a,{variant:"h6",className:f.title},"\u0412\u0445\u043e\u0434"),r.a.createElement("div",{className:f.form},r.a.createElement(Sa.a,{name:"signInEmail",value:a,error:!!c,helperText:c,onChange:g,className:f.textField,label:"E-Mail"}),r.a.createElement(Sa.a,{name:"signInPassword",value:s,error:!!l,helperText:l,type:"password",onChange:g,className:f.textField,label:"\u041f\u0430\u0440\u043e\u043b\u044c"}),r.a.createElement($.a,{color:"primary",variant:"contained",size:"large",className:f.button,fullWidth:!0,onClick:d,disabled:u},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement(pe.a,{variant:"body2",className:f.grayText},"\u0438\u043b\u0438"),r.a.createElement(i.b,{to:"/sign-up",className:f.link},r.a.createElement($.a,{color:"secondary",variant:"contained",className:f.linkButton,fullWidth:!0},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))),r.a.createElement("div",{className:f.underContainer},r.a.createElement(i.b,{to:"/map",className:f.link},r.a.createElement($.a,{className:f.backButton},"\u041d\u0430\u0437\u0430\u0434 \u043d\u0430 \u0441\u0430\u0439\u0442"))))}Ia.defaultProps={email:"",emailError:"",password:"",passwordError:"",isDisabled:!1};var _a=Object(o.c)((function(e){var t=e.user,a=e.forms;e.system;return{isAuth:t.isAuth,email:a.signInEmail,emailError:a.signInEmailError,password:a.signInPassword,passwordError:a.signInPasswordError,isDisabled:a.signInButtonDisabled}}))(Ia),Aa=Object(K.a)((function(e){return Object(Te.a)({root:{display:"flex",flexDirection:"column",minHeight:"100%",background:"linear-gradient(45deg, #f64b11 30%, #ffbc00 90%)"},logoContainer:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:e.spacing(3),color:"#fff",textTransform:"uppercase"},logo:{marginLeft:e.spacing(1),height:30},paper:{marginTop:e.spacing(3),marginLeft:e.spacing(1),marginRight:e.spacing(1),paddingTop:e.spacing(1),paddingBottom:e.spacing(3)},title:{textAlign:"center",textTransform:"uppercase"},form:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},textField:{marginTop:e.spacing(1),width:"100%"},button:{marginTop:e.spacing(3)},grayText:{marginTop:e.spacing(1),textAlign:"center",color:"#999"},link:{textDecoration:"none"},linkButton:{marginTop:e.spacing(1)},underContainer:{display:"flex",justifyContent:"center",marginTop:e.spacing(1)},backButton:{color:"#fff"}},e.breakpoints.up("sm"),{root:{alignItems:"center"},paper:{marginTop:e.spacing(10),width:e.breakpoints.width("sm")},form:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},underContainer:{justifyContent:"flex-end",width:e.breakpoints.width("sm")}})}));function Ua(e){var t=e.isButtonDisabled,a=e.name,c=e.nameError,s=e.email,l=e.emailError,u=e.password,m=e.passwordError,p=e.isAuth,d=Object(n.useContext)(b),f=d.changeField,g=d.signUpValidate,v=Aa(),x=function(e){var t=e.target;return Object(o.b)((function(){f(t.name,t.value),f(t.name+"Error","")}))};return p?r.a.createElement(E.a,{to:"/map"}):r.a.createElement("div",{className:v.root},r.a.createElement("div",{className:v.logoContainer},r.a.createElement(pe.a,{variant:"h5"},"Crime Maps"),r.a.createElement("img",{src:$e.a,alt:"",className:v.logo})),r.a.createElement(ka.a,{className:v.paper},r.a.createElement(pe.a,{variant:"h6",className:v.title},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("div",{className:v.form},r.a.createElement(Sa.a,{name:"signUpName",value:a,onChange:x,error:!!c,helperText:c,className:v.textField,label:"\u0418\u043c\u044f \u043d\u0430 \u0441\u0430\u0439\u0442\u0435"}),r.a.createElement(Sa.a,{name:"signUpEmail",value:s,onChange:x,error:!!l,helperText:l,className:v.textField,label:"E-Mail"}),r.a.createElement(Sa.a,{name:"signUpPassword",value:u,type:"password",onChange:x,error:!!m,helperText:m,className:v.textField,label:"\u041f\u0430\u0440\u043e\u043b\u044c"}),r.a.createElement($.a,{color:"primary",variant:"contained",size:"large",className:v.button,fullWidth:!0,onClick:g,disabled:t},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),r.a.createElement(pe.a,{variant:"body2",className:v.grayText},"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"),r.a.createElement(i.b,{to:"/sign-in",className:v.link},r.a.createElement($.a,{color:"secondary",variant:"contained",className:v.linkButton,fullWidth:!0},"\u0412\u043e\u0439\u0442\u0438")))),r.a.createElement("div",{className:v.underContainer},r.a.createElement(i.b,{to:"/map",className:v.link},r.a.createElement($.a,{className:v.backButton},"\u041d\u0430\u0437\u0430\u0434 \u043d\u0430 \u0441\u0430\u0439\u0442"))))}Ua.defaultProps={name:"",nameError:"",email:"",emailError:"",password:"",passwordError:"",isButtonDisabled:!1};var La=Object(o.c)((function(e){var t=e.forms,a=e.user;return{name:t.signUpName,nameError:t.signUpNameError,email:t.signUpEmail,emailError:t.signUpEmailError,password:t.signUpPassword,passwordError:t.signUpPasswordError,isButtonDisabled:t.signUpButtonDisabled,isAuth:a.isAuth}}))(Ua),Ra=a(320),Da=a(295),Fa=Object(K.a)((function(e){return{drawer:Object(Te.a)({},e.breakpoints.up("sm"),{width:250}),drawerPaper:{width:250},logo:{width:25},logoTextContainer:{marginLeft:e.spacing(3),display:"flex",flexDirection:"column"},logoText:{fontWeight:"bold"}}}));var Ba=function(e){var t=e.isOpenMobile,a=e.onClose,n=e.children,c=Fa();return r.a.createElement("nav",{className:c.drawer},r.a.createElement(Ra.a,{smUp:!0,implementation:"css"},r.a.createElement(Ne.a,{variant:"temporary",open:t,onClose:a,ModalProps:{keepMounted:!0},classes:{paper:c.drawerPaper}},r.a.createElement(Da.a,null,r.a.createElement("img",{alt:"Logo",src:$e.a,className:c.logo}),r.a.createElement("div",{className:c.logoTextContainer},r.a.createElement(pe.a,{className:c.logoText},"CRIME"),r.a.createElement(pe.a,{className:c.logoText},"MAPS"))),n)),r.a.createElement(Ra.a,{xsDown:!0,implementation:"css"},r.a.createElement(Ne.a,{classes:{paper:c.drawerPaper},variant:"permanent",open:!0},r.a.createElement(Da.a,null,r.a.createElement("img",{alt:"Logo",src:$e.a,className:c.logo}),r.a.createElement("div",{className:c.logoTextContainer},r.a.createElement(pe.a,{className:c.logoText},"CRIME"),r.a.createElement(pe.a,{className:c.logoText},"MAPS"))),r.a.createElement(we.a,null),n)))},Ma=a(296),Pa=a(297),za=a(298),Wa=a(299),Ga=a(300),Ha=a(301),Va=a(302),Za=Object(K.a)((function(e){var t;return t={linkMenu:{color:e.palette.text.primary,textDecoration:"none"}},Object(Te.a)(t,e.breakpoints.up("md"),{content:{marginLeft:250}}),Object(Te.a)(t,"loader",{display:"flex",alignItems:"center",justifyContent:"center",marginTop:e.spacing(2),fontSize:"1.5em",color:"#888"}),t}));function qa(){var e=Za();return r.a.createElement(de.a,null,r.a.createElement(i.b,{to:"/map",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(Pa.a,null)),r.a.createElement(Ee.a,null,"\u041a\u0430\u0440\u0442\u0430"))),r.a.createElement(we.a,null),r.a.createElement(i.b,{to:"/cabinet",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(St.a,null)),r.a.createElement(Ee.a,null,"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"))),r.a.createElement(i.b,{to:"/cabinet/gossip",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(za.a,null)),r.a.createElement(Ee.a,null,"\u0421\u043b\u0443\u0445\u0438"))),r.a.createElement(we.a,null),r.a.createElement(i.b,{to:"/cabinet/settings",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(Wa.a,null)),r.a.createElement(Ee.a,null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))))}function Ya(){var e=Za();return r.a.createElement(de.a,null,r.a.createElement(i.b,{to:"/map",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(Pa.a,null)),r.a.createElement(Ee.a,null,"\u041a\u0430\u0440\u0442\u0430"))),r.a.createElement(i.b,{to:"/cabinet",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(St.a,null)),r.a.createElement(Ee.a,null,"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"))),r.a.createElement(we.a,null),r.a.createElement(i.b,{to:"/cabinet/news",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(Ga.a,null)),r.a.createElement(Ee.a,null,"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"))),r.a.createElement(i.b,{to:"/cabinet/gossip",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(za.a,null)),r.a.createElement(Ee.a,null,"\u0421\u043b\u0443\u0445\u0438"))),r.a.createElement(we.a,null),r.a.createElement(i.b,{to:"/cabinet/cities",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(Ha.a,null)),r.a.createElement(Ee.a,null,"\u0413\u043e\u0440\u043e\u0434\u0430"))),r.a.createElement(i.b,{to:"/cabinet/users",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(Va.a,null)),r.a.createElement(Ee.a,null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"))),r.a.createElement(we.a,null),r.a.createElement(i.b,{to:"/cabinet/settings",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(Wa.a,null)),r.a.createElement(Ee.a,null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))))}function Qa(){var e=Za();return r.a.createElement(de.a,null,r.a.createElement(i.b,{to:"/map",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(Pa.a,null)),r.a.createElement(Ee.a,null,"\u041a\u0430\u0440\u0442\u0430"))),r.a.createElement(i.b,{to:"/cabinet",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(St.a,null)),r.a.createElement(Ee.a,null,"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"))),r.a.createElement(we.a,null),r.a.createElement(i.b,{to:"/cabinet/news",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(Ga.a,null)),r.a.createElement(Ee.a,null,"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"))),r.a.createElement(i.b,{to:"/cabinet/gossip",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(za.a,null)),r.a.createElement(Ee.a,null,"\u0421\u043b\u0443\u0445\u0438"))),r.a.createElement(we.a,null),r.a.createElement(i.b,{to:"/cabinet/cities",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(Ha.a,null)),r.a.createElement(Ee.a,null,"\u0413\u043e\u0440\u043e\u0434\u0430"))),r.a.createElement(i.b,{to:"/cabinet/users",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(Va.a,null)),r.a.createElement(Ee.a,null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"))),r.a.createElement(we.a,null),r.a.createElement(i.b,{to:"/cabinet/settings",className:e.linkMenu},r.a.createElement(fe.a,{button:!0},r.a.createElement(Ma.a,null,r.a.createElement(Wa.a,null)),r.a.createElement(Ee.a,null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))))}var Ja=a(331),$a=a(304),Ka=a(303),Xa=Object(K.a)((function(e){return{root:{display:"flex"},title:{marginLeft:e.spacing(1),fontSize:18,color:"#fff"}}}));function en(e){var t=Xa(),a=e.children;return r.a.createElement(Ka.a,{color:"default",className:t.root,position:"static"},r.a.createElement(Da.a,null,a))}en.defaultProps={children:null};var tn=en,an=Object(K.a)((function(e){return Object(Te.a)({grow:{flexGrow:1},signOutButton:{display:"none"},paper:{display:"flex",flexDirection:"column",alignItems:"center",margin:e.spacing(1)},avatar:{marginTop:e.spacing(1),width:e.spacing(16),height:e.spacing(16)},name:{marginTop:e.spacing(1),fontSize:"2rem"},email:{marginBottom:e.spacing(1),color:"#888"},loading:{display:"flex",alignItems:"center",marginTop:e.spacing(1),fontSize:"1.5rem",color:"#888"}},e.breakpoints.up("md"),{signOutButton:{display:"block"},signOutIconButton:{display:"none"},paper:{marginTop:e.spacing(3),marginLeft:"auto",marginRight:"auto",width:e.breakpoints.values.sm}})})),nn=a(178),rn=a.n(nn);function cn(e){var t=an(),a=e.name,c=e.email,s=e.isAuth,i=Object(n.useContext)(b).logout,o=a&&c;return s?r.a.createElement(n.Fragment,null,r.a.createElement(tn,null,r.a.createElement(pe.a,{variant:"subtitle1"},"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"),r.a.createElement("div",{className:t.grow}),r.a.createElement($.a,{className:t.signOutButton,variant:"contained",color:"primary",onClick:i},"\u0412\u044b\u0445\u043e\u0434"),r.a.createElement(ue.a,{className:t.signOutIconButton,onClick:i},r.a.createElement($a.a,null))),r.a.createElement(ka.a,{className:t.paper},r.a.createElement(Ja.a,{alt:"Avatar",src:rn.a,className:t.avatar}),o?r.a.createElement(n.Fragment,null,r.a.createElement(pe.a,{className:t.name},a),r.a.createElement(pe.a,{className:t.email},c)):r.a.createElement(pe.a,{className:t.loading},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",r.a.createElement(je,null)))):r.a.createElement(E.a,{to:"/map"})}cn.defaultProps={name:"",email:""};var sn=Object(o.c)((function(e){var t=e.user;return{isAuth:t.isAuth,name:t.name,email:t.email}}))(cn),on=a(294),ln=a(325),un=a(319),mn=a(305);var pn=function(e){var t=e.cities,a=e.isLoading,n=e.value,c=e.onChange,s=e.defaultValue;return a?r.a.createElement(pe.a,{variant:"subtitle1"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043f\u0438\u0441\u043a\u0430 \u0433\u043e\u0440\u043e\u0434\u043e\u0432..."):r.a.createElement(on.a,{variant:"outlined"},r.a.createElement(ln.a,{id:"cabinet-city-select"},"\u0413\u043e\u0440\u043e\u0434"),r.a.createElement(un.a,{labelId:"cabinet-city-select",label:"\u0413\u043e\u0440\u043e\u0434",defaultValue:s,value:n,onChange:function(e){return c(e.target.value)}},t.map((function(e){return r.a.createElement(mn.a,{key:e.id,value:e.id},e.name)}))))},dn=a(306),fn=a(307),En=a(308),bn=a(309),gn=a(310),vn=a(312),xn=a(322),hn=a(311);var On=function(e){var t=e.list,a=e.onRemove,c=Object(n.useState)(0),s=Object(ie.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)(10),u=Object(ie.a)(l,2),m=u[0],p=u[1];return r.a.createElement(dn.a,{size:"small"},r.a.createElement(fn.a,null,r.a.createElement(En.a,null,r.a.createElement(bn.a,null,"ID \u041d\u043e\u0432\u043e\u0441\u0442\u0438"),r.a.createElement(bn.a,null,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),r.a.createElement(bn.a,null,"\u0414\u0430\u0442\u0430/\u0412\u0440\u0435\u043c\u044f"),r.a.createElement(bn.a,{align:"right"},"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))),r.a.createElement(gn.a,null,(m>0?t.slice(i*m,i*m+m):t).map((function(e){return r.a.createElement(En.a,{key:e.id},r.a.createElement(bn.a,{component:"th",scope:"row"},e.id),r.a.createElement(bn.a,null,e.title),r.a.createElement(bn.a,null,function(e){var t=new Date(e),a=t.getDate()<10?"0"+t.getDate():t.getDate(),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,r=t.getFullYear(),c=t.getHours()<10?"0"+t.getHours():t.getHours(),s=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();return"".concat(a,".").concat(n,".").concat(r,"/").concat(c,":").concat(s)}(e.date)),r.a.createElement(bn.a,{align:"right"},r.a.createElement(ue.a,null,r.a.createElement(ze.a,null)),r.a.createElement(ue.a,{onClick:function(){return a(e.id)}},r.a.createElement(hn.a,null))))}))),r.a.createElement(vn.a,null,r.a.createElement(En.a,null,r.a.createElement(xn.a,{rowsPerPageOptions:[10,25,{label:"\u0412\u0441\u0435",value:-1}],colSpan:3,count:t.length,rowsPerPage:m,page:i,SelectProps:{inputProps:{"aria-label":"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435"},native:!0},onChangePage:function(e,t){o(t)},onChangeRowsPerPage:function(e){p(parseInt(e.target.value,10)),o(0)}}))))},jn=a(329),yn=a(316),Cn=a(321),Nn=Object(K.a)((function(e){return{titleContainer:{position:"relative"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},buttonsContainer:{display:"flex",justifyContent:"space-between",width:"100%"},textField:{marginTop:e.spacing(2)},dateContainer:{display:"flex",justifyContent:"space-between"},positionSearch:{display:"flex",justifyContent:"space-between"},streetField:{flexGrow:3},homeField:{marginLeft:e.spacing(1),flexGrow:1},mapContainer:{marginTop:e.spacing(1),height:400},selectCityContainer:{display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(2),color:"#888"},sourceForm:{display:"flex",justifyContent:"space-between",marginTop:e.spacing(1)},sourceName:{flexGrow:3},sourceLink:{marginLeft:e.spacing(3),flexGrow:3},sourceButton:{marginLeft:e.spacing(3),flexGrow:1},sourceChip:{marginLeft:e.spacing(1),marginTop:e.spacing(1)},doneText:{display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(2),color:"#777"}}})),wn=a(179),kn=a(31),Sn=a(313),Tn=a(335);function In(e){var t=e.title,a=e.text,c=e.city,s=e.type,i=e.date,o=e.time,l=e.selectedCityId,u=e.cities,m=Object(n.useContext)(b).changeField,p=Nn(),d=function(e){var t=e.target;m(t.name,t.value)};return Object(n.useEffect)((function(){m("createNewsDate",i),m("createNewsTime",o)}),[m,i,o]),r.a.createElement(n.Fragment,null,r.a.createElement(we.a,null),r.a.createElement(Sa.a,{label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",value:t,onChange:d,name:"createNewsTitle",fullWidth:!0,className:p.textField}),r.a.createElement(Sa.a,{label:"\u0422\u0435\u043a\u0441\u0442",value:a,onChange:d,name:"createNewsText",fullWidth:!0,className:p.textField,multiline:!0,rows:2,rowsMax:7,variant:"outlined"}),r.a.createElement(on.a,{fullWidth:!0,className:p.textField},r.a.createElement(ln.a,{id:"city"},"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"),r.a.createElement(un.a,{defaultValue:l,value:c,labelId:"city",name:"createNewsCity",onChange:d},u.map((function(e){return r.a.createElement(mn.a,{key:e.id,value:e.id},e.name)})))),r.a.createElement(on.a,{fullWidth:!0,className:p.textField},r.a.createElement(ln.a,{id:"type"},"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0442\u0438\u043f \u043f\u0440\u043e\u0438\u0441\u0448\u0435\u0441\u0442\u0432\u0438\u044f"),r.a.createElement(un.a,{value:s,labelId:"type",name:"createNewsType",onChange:d},Ct.map((function(e){var t=e.type,a=e.name;return r.a.createElement(mn.a,{key:t,value:t},a)})))),r.a.createElement("div",{className:p.dateContainer},r.a.createElement(kn.a,{utils:wn.a},r.a.createElement(Sn.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date",label:"\u0414\u0430\u0442\u0430",value:i,onChange:function(e){return m("createNewsDate",+e)},KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(Tn.a,{margin:"normal",id:"time",label:"\u0412\u0440\u0435\u043c\u044f",value:o,onChange:function(e){return m("createNewsTime",+e)},KeyboardButtonProps:{"aria-label":"change time"},ampm:!1}))))}In.defaultProps={title:"",text:"",city:"",type:"",date:Date.now(),time:Date.now()};var _n=Object(o.c)((function(e){var t=e.forms,a=e.cities;return{title:t.createNewsTitle,text:t.createNewsText,city:t.createNewsCity,type:t.createNewsType,date:t.createNewsDate,time:t.createNewsTime,selectedCityId:a.selectedCityId,cities:a.data}}))(In);var An=function(){return r.a.createElement("h1",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043c\u0435\u0434\u0430\u0444\u0430\u0439\u043b\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 :(")},Un=a(314),Ln=a(92);function Rn(e){var t=e.coords,a=e.zoom,c=e.cityId,s=e.cities,i=Object(n.useContext)(b).changeField,o=Nn();if(c){var l=s.find((function(e){return e.id===c})),u=[l.lat,l.lng];return r.a.createElement("div",{className:o.mapContainer},r.a.createElement(Ln.d,{query:{apikey:"0bd05560-e3d1-4ff5-bcc3-1816f623de41"}},r.a.createElement(Ln.a,{onClick:function(e){return i("createNewsCoords",e.get("coords"))},defaultState:{center:u,zoom:a},width:"100%",height:"100%"},r.a.createElement(Ln.c,null),t&&r.a.createElement(Ln.b,{geometry:t,options:{iconColor:"#f64b11"}}))))}return r.a.createElement("div",{className:o.selectCityContainer},r.a.createElement(Un.a,null),r.a.createElement(pe.a,{variant:"h6"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434 \u043d\u0430 \u043f\u0435\u0440\u0432\u043e\u043c \u0448\u0430\u0433\u0435"))}Rn.defaultProps={coords:null,cityId:null};var Dn=Object(o.c)((function(e){var t=e.map,a=e.forms,n=e.cities;return{zoom:t.zoom,coords:a.createNewsCoords,cityId:a.createNewsCity,cities:n.data}}))(Rn),Fn=a(333),Bn=a(315);function Mn(e){var t=e.sources,a=Object(n.useContext)(b).changeField,c=Nn(),s=Object(n.useState)({name:"",link:""}),i=Object(ie.a)(s,2),o=i[0],l=i[1],u=function(e){var t=e.target;return l(Object(Ie.a)({},o,Object(Te.a)({},t.name,t.value)))};return r.a.createElement("div",null,r.a.createElement("div",{className:c.chips},t.map((function(e,n){return r.a.createElement(Fn.a,{key:n,color:"primary",onDelete:function(){return function(e){var n=t.filter((function(t){return t.name!==e}));a("createNewsSources",n)}(e.name)},icon:r.a.createElement(Bn.a,null),label:e.name,className:c.sourceChip})}))),r.a.createElement("div",{className:c.sourceForm},r.a.createElement(Sa.a,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430",className:c.sourceName,value:o.name,name:"name",onChange:u}),r.a.createElement(Sa.a,{label:"\u0421\u0441\u044b\u043b\u043a\u0430",className:c.sourceLink,value:o.link,name:"link",onChange:u}),r.a.createElement($.a,{variant:"contained",color:"secondary",className:c.sourceButton,size:"small",onClick:function(){var e=o.name,n=o.link;if(!e||!n)return!1;a("createNewsSources",[].concat(Object(Xe.a)(t),[{name:e,link:n}])),l({name:"",link:""})}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}Mn.defaultProps={sources:[]};var Pn=Object(o.c)((function(e){return{sources:e.forms.createNewsSources}}))(Mn);var zn=function(){var e=Nn();return r.a.createElement(pe.a,{variant:"h5",className:e.doneText},"\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430")},Wn=["\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","\u041c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b\u044b","\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435","\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0438","\u0413\u043e\u0442\u043e\u0432\u043e"];function Gn(e){var t=e.isOpen,a=e.onClose,c=e.requestStatus,s=Object(n.useContext)(b).createNews,i=Nn(),o=Object(n.useState)(0),l=Object(ie.a)(o,2),u=l[0],m=l[1];return Object(n.useEffect)((function(){"success"===c&&m(4)}),[c]),r.a.createElement(oe.a,{open:t,onClose:a,maxWidth:"md",fullWidth:!0},r.a.createElement(le.a,{className:i.titleContainer},"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0438",r.a.createElement(ue.a,{onClick:a,className:i.closeButton},r.a.createElement(ve.a,null))),r.a.createElement(me.a,{dividers:!0},r.a.createElement(jn.a,{activeStep:u,alternativeLabel:!0},Wn.map((function(e,t){return r.a.createElement(yn.a,{key:t},r.a.createElement(Cn.a,null,e))}))),r.a.createElement("div",null,function(e){switch(e){case 0:return r.a.createElement(_n,null);case 1:return r.a.createElement(An,null);case 2:return r.a.createElement(Dn,null);case 3:return r.a.createElement(Pn,null);case 4:return r.a.createElement(zn,null);default:return null}}(u))),r.a.createElement(ge.a,null,u<3&&r.a.createElement("div",{className:i.buttonsContainer},r.a.createElement($.a,{variant:"contained",color:"secondary",onClick:function(){return m(u-1)},disabled:!u},"\u041d\u0430\u0437\u0430\u0434"),r.a.createElement($.a,{variant:"contained",color:"secondary",onClick:function(){return m(u+1)}},"\u0414\u0430\u043b\u0435\u0435")),3===u&&r.a.createElement("div",{className:i.buttonsContainer},r.a.createElement($.a,{variant:"contained",color:"secondary",onClick:function(){return m(u-1)}},"\u041d\u0430\u0437\u0430\u0434"),r.a.createElement($.a,{variant:"contained",color:"secondary",onClick:s,disabled:"request"===c},"request"===c?r.a.createElement(je,null):"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c")),4===u&&r.a.createElement($.a,{variant:"contained",color:"secondary",onClick:function(){a(),m(0)}},"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c")))}Gn.defaultProps={requestStatus:""};var Hn=Object(o.c)((function(e){return{requestStatus:e.system.createNewsRequestStatus}}))(Gn),Vn=Object(K.a)((function(e){return{grow:{flexGrow:1},newsContainer:{margin:e.spacing(2)},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(2)},selectContainer:{"& > div":{width:300}},loadingText:{display:"flex",justifyContent:"center",alignItems:"center",padding:e.spacing(3),color:"#999"}}}));function Zn(e){var t=e.news,a=e.isCityLoading,c=e.cities,s=e.citiesLoading,i=e.selectedCityId,o=Object(n.useState)(i),l=Object(ie.a)(o,2),u=l[0],m=l[1],p=Object(n.useState)(!1),d=Object(ie.a)(p,2),f=d[0],E=d[1],g=Vn(),v=Object(n.useContext)(b),x=v.fetchCabinetNews,h=v.fetchCities,O=v.removeNews;return Object(n.useEffect)((function(){x(u)}),[x,u]),Object(n.useEffect)((function(){a&&h()}),[a,h]),r.a.createElement(n.Fragment,null,r.a.createElement(tn,null,r.a.createElement(pe.a,{variant:"subtitle1"},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"),r.a.createElement("div",{className:g.grow}),r.a.createElement($.a,{variant:"contained",color:"primary",onClick:function(){return E(!0)}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")),r.a.createElement(ka.a,{className:g.newsContainer},r.a.createElement("div",{className:g.header},r.a.createElement(pe.a,{variant:"h6"},"\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439"),r.a.createElement("div",{className:g.selectContainer},r.a.createElement(pn,{isLoading:s,cities:c,value:u,onChange:m,defaultValue:i}))),r.a.createElement(we.a,null),null===t&&r.a.createElement(pe.a,{variant:"subtitle1",className:g.loadingText},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043f\u0438\u0441\u043a\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439",r.a.createElement(je,null)),t&&t.length?r.a.createElement(On,{list:t,onRemove:O}):null,t&&!t.length?r.a.createElement(pe.a,{variant:"subtitle1",className:g.loadingText},"\u041d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0435\u0442"):null),r.a.createElement(Hn,{isOpen:f,onClose:function(){return E(!1)}}))}Zn.defaultProps={isCityLoading:!0};var qn=Object(o.c)((function(e){var t=e.news,a=e.system,n=e.cities;return{news:t.cabinetNews,isCityLoading:a.cabinetNewsLoading,cities:n.data,citiesLoading:n.loading,selectedCityId:n.selectedCityId}}))(Zn);var Yn=function(e){var t=e.isFirst,a=e.name;return r.a.createElement(n.Fragment,null,!t&&r.a.createElement(we.a,null),r.a.createElement(fe.a,{button:!0},r.a.createElement(Ee.a,null,a)))},Qn=Object(K.a)((function(e){return{grow:{flexGrow:1},paper:{margin:e.spacing(2)},listContainer:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},text:{display:"flex",justifyContent:"center",alignItems:"center",padding:e.spacing(2)}}}));function Jn(e){var t=e.isAuth,a=e.role,c=e.userName,s=e.isLoading,i=e.usersList,o=Qn(),l=Object(n.useContext)(b),u=l.fetchCabinetUsers,m=l.changeField;if(!t||2===a)return r.a.createElement(E.a,{to:"/map"});return r.a.createElement(n.Fragment,null,r.a.createElement(tn,null,r.a.createElement(pe.a,{variant:"subtitle1"},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"),r.a.createElement("div",{className:o.grow}),r.a.createElement(Sa.a,{variant:"outlined",placeholder:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",onChange:function(e){var t=e.target.value;m("cabinetSearchUser",t),t.length>=6&&u(t)},value:c})),r.a.createElement(ka.a,{className:o.paper},null===s&&r.a.createElement(pe.a,{variant:"h6",color:"textSecondary",className:o.text},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u043f\u043e\u043b\u0435."),null===s||i.length?null:r.a.createElement(pe.a,{variant:"h6",color:"textSecondary",className:o.text},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0435\u0442."),!1===s&&i.length?r.a.createElement(de.a,{className:o.listContainer},i.map((function(e,t){return r.a.createElement(Yn,{key:e.id,isFirst:0===t,name:e.name})}))):null))}Jn.defaultProps={userName:"",isLoading:null};var $n=Object(o.c)((function(e){var t=e.user,a=e.forms,n=e.system,r=e.cabinet;return{isAuth:t.isAuth,role:t.role,userName:a.cabinetSearchUser,isLoading:n.cabinetUsersLoading,usersList:r.users}}))(Jn);function Kn(e){var t=e.role,a=Object(n.useState)(!1),c=Object(ie.a)(a,2),s=c[0],i=c[1],o=Za();return r.a.createElement(n.Fragment,null,r.a.createElement(Ba,{isOpenMobile:s,onClose:function(){return i(!1)}},null===t&&r.a.createElement(pe.a,{className:o.loader},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043c\u0435\u043d\u044e ",r.a.createElement(je,null)),0===t&&r.a.createElement(Qa,null),1===t&&r.a.createElement(Ya,null),2===t&&r.a.createElement(qa,null)),r.a.createElement("div",{className:o.content},r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/cabinet",component:sn}),r.a.createElement(E.b,{path:"/cabinet/news",component:qn}),r.a.createElement(E.b,{path:"/cabinet/users",component:$n}))))}Kn.defaultProps={role:null};var Xn=Object(o.c)((function(e){return{role:e.user.role}}))(Kn);function er(e){var t=e.isAuth,a=e.snackbar,c=e.fetchUserData,s=e.setLocation,i=e.setLocationError,o=Object(m.a)(e,["isAuth","snackbar","fetchUserData","setLocation","setLocationError"]);return navigator.geolocation.getCurrentPosition(s,i),Object(n.useEffect)((function(){t&&c()}),[t,c]),r.a.createElement(b.Provider,{value:o},r.a.createElement(d.a,null),r.a.createElement(E.d,null,r.a.createElement(E.b,{path:"/",exact:!0,component:te}),r.a.createElement(E.b,{path:"/map",component:wa}),r.a.createElement(E.b,{path:"/sign-in",exact:!0,component:_a}),r.a.createElement(E.b,{path:"/sign-up",exact:!0,component:La}),r.a.createElement(E.b,{path:"/cabinet",component:Xn})),r.a.createElement(f.a,{open:!!a,message:a,anchorOrigin:{vertical:"bottom",horizontal:"left"}}))}er.defaultProps={snackbar:""};var tr,ar,nr=Object(o.c)((function(e){var t=e.user,a=e.system;return{isAuth:t.isAuth,snackbar:a.snackbar}}),(function(e){return Object(p.b)({fetchUserData:U,signInValidate:w,signUpValidate:T,logout:A,setLocation:g,setLocationError:v,changeCoordinates:x,changeZoom:h,incrementZoom:O,decrementZoom:j,changeNewsTypes:y,changeSystemField:C,changeField:N,fetchAllNews:R,fetchNews:D,setActiveNews:L,fetchCabinetNews:F,createNews:M,removeNews:z,fetchCities:Y,changeCity:Z,toggleCities:V,fetchCabinetUsers:Q},e)}))(er),rr=a(181),cr=+JSON.parse(localStorage.getItem("selectedCity")),sr=JSON.parse(localStorage.getItem("citiesList"));if(cr&&sr){var ir=sr.find((function(e){return e.id===cr}));tr=ir.lat,ar=ir.lng}else tr=55.0415,ar=82.9346;var or={geodata:null,geodataError:!1,lat:tr,lng:ar,zoom:13,showTypes:Object(Xe.a)(Ct)},lr={data:JSON.parse(localStorage.getItem("citiesList"))||[{_id:"5e8f0f4f8883b725cc275bad",id:1,title:"novosibirsk",name:"\u041d\u043e\u0432\u043e\u0441\u0438\u0431\u0438\u0440\u0441\u043a",lat:55.0415,lng:82.9346}],isSelectorOpen:!1,error:!1,loading:!0,selectedCityId:+localStorage.getItem("selectedCity")||1};var ur=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CITIES":return Object(Ie.a)({},e,{data:t.cities});case"SET_CITY_ERROR":return Object(Ie.a)({},e,{error:t.error});case"SET_CITIES_LOADING":return Object(Ie.a)({},e,{loading:t.loading});case"TOGGLE_CITIES_SELECTOR":return Object(Ie.a)({},e,{isSelectorOpen:!e.isSelectorOpen});case"CHANGE_SELECTED_CITY_ID":return Object(Ie.a)({},e,{selectedCityId:t.id});default:return e}},mr=a(71),pr=a.n(mr),dr=pr.a.get("token"),fr=localStorage.getItem("role"),Er={isAuth:!!dr,role:null!==fr?+fr:2},br={},gr={},vr={news:[],cabinetNews:null,activeNews:null},xr={users:[]},hr=Object(p.c)({map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:or,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOCATION":return Object(Ie.a)({},e,{geodata:t.data});case"SET_LOCATION_ERROR":return Object(Ie.a)({},e,{error:!0});case"CHANGE_COORDINATES":return Object(Ie.a)({},e,{lat:t.lat,lng:t.lng});case"SET_ZOOM":return Object(Ie.a)({},e,{zoom:t.zoom});case"INCREMENT_ZOOM":return Object(Ie.a)({},e,{zoom:e.zoom+1});case"DECREMENT_ZOOM":return Object(Ie.a)({},e,{zoom:e.zoom-1});case"CHANGE_NEWS_TYPES":var a=e.showTypes.find((function(e){return e.type===t.typeNews}));if(a)return Object(Ie.a)({},e,{showTypes:e.showTypes.filter((function(e){return e.type!==t.typeNews}))});var n=Ct.find((function(e){return e.type===t.typeNews}));return Object(Ie.a)({},e,{showTypes:[].concat(Object(Xe.a)(e.showTypes),[n])});default:return e}},cities:ur,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(Ie.a)({},e,{},t.data,{isAuth:!0});case"LOGOUT_USER":return{isAuth:!1};default:return e}},system:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SYSTEM_FIELD":return Object(Ie.a)({},e,Object(Te.a)({},t.name,t.value));default:return e}},forms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_FIELD":return Object(Ie.a)({},e,Object(Te.a)({},t.name,t.value));default:return e}},news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NEWS":return Object(Ie.a)({},e,{news:Object(Xe.a)(t.news)});case"SET_ACTIVE_NEWS":return Object(Ie.a)({},e,{activeNews:t.news});case"SET_CABINET_NEWS":return Object(Ie.a)({},e,{cabinetNews:t.news});case"REMOVE_NEWS":return Object(Ie.a)({},e,{news:e.news.filter((function(e){return e.id!==t.id})),cabinetNews:e.cabinetNews.filter((function(e){return e.id!==t.id}))});default:return e}},cabinet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CABINET_USERS":return Object(Ie.a)({},e,{users:Object(Xe.a)(t.users)});default:return e}}}),Or=a(2),jr=a(109),yr=a.n(jr),Cr=/^\s*([0-9a-zA-Z\u0430-\u044f\u0410-\u042f]*)\s*$/,Nr=/^\s*([0-9a-zA-Z]*)\s*$/,wr=Bt.a.mark(kr);function kr(){var e,t,a,n,r,c;return Bt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(Or.f)((function(e){var t=e.forms;return{email:t.signInEmail,emailError:t.signInEmailError,password:t.signInPassword,passwordError:t.signInPasswordError}}));case 2:if(e=s.sent,t=e.email,a=e.emailError,n=e.password,r=e.passwordError,c=!1,!a&&!r){s.next=11;break}return s.next=11,Object(Or.c)();case 11:return s.next=13,Object(Or.e)(N("signInButtonDisabled",!0));case 13:if(yr.a.validate(t)){s.next=17;break}return s.next=16,Object(Or.e)(N("signInEmailError","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 E-Mail."));case 16:c=!0;case 17:if(!(!n||!n.match(Nr)||n.length<6||n.length>16)){s.next=21;break}return s.next=20,Object(Or.e)(N("signInPasswordError","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c."));case 20:c=!0;case 21:if(!c){s.next=26;break}return s.next=24,Object(Or.e)(S("\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"));case 24:s.next=28;break;case 26:return s.next=28,Object(Or.e)(k(t,n));case 28:case"end":return s.stop()}}),wr)}var Sr=kr,Tr=a(72),Ir=a(73),_r=a(28),Ar=a.n(_r),Ur=function(){function e(){Object(Tr.a)(this,e)}return Object(Ir.a)(e,null,[{key:"signIn",value:function(e){return Ar.a.post("/api/auth/sign-in",e).then((function(e){return e})).catch((function(e){var t=e.response;return Object(Ie.a)({},t)}))}},{key:"signUp",value:function(e){return Ar.a.post("/api/auth/sign-up",e).then((function(e){return e})).catch((function(e){var t=e.response;return Object(Ie.a)({},t)}))}},{key:"fetchUserData",value:function(){return Ar.a.get("/api/auth/user").then((function(e){return e})).catch((function(e){var t=e.response;return Object(Ie.a)({},t)}))}},{key:"logout",value:function(){return Ar.a.get("/api/auth/logout").then((function(e){return e})).catch((function(e){var t=e.response;return Object(Ie.a)({},t)}))}}]),e}(),Lr=Bt.a.mark(Rr);function Rr(e){var t,a,n,r;return Bt.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.email,a=e.password,n={email:t,password:a},c.prev=2,c.next=5,Object(Or.b)(Ur.signIn,n);case 5:if(200!==(r=c.sent).status){c.next=11;break}return c.next=9,Object(Or.e)({type:"SIGN_IN_SUCCESS",data:r.data});case 9:c.next=13;break;case 11:return c.next=13,Object(Or.e)(S(r.data));case 13:c.next=18;break;case 15:c.prev=15,c.t0=c.catch(2),console.error(c.t0);case 18:case"end":return c.stop()}}),Lr,null,[[2,15]])}var Dr=Rr,Fr=Bt.a.mark(Br);function Br(e){var t,a;return Bt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.data,a=pr.a.get("token"),Ar.a.defaults.headers.common.Authorization=a,localStorage.setItem("role",t.role),n.next=6,Object(Or.e)(N("signInButtonDisabled",!1));case 6:return n.next=8,Object(Or.e)(C("snackbar",""));case 8:return n.next=10,Object(Or.e)(N("signInEmail",""));case 10:return n.next=12,Object(Or.e)(N("signInPassword",""));case 12:return n.next=14,Object(Or.e)(_(t));case 14:case"end":return n.stop()}}),Fr)}var Mr=Br,Pr=Bt.a.mark(zr);function zr(e){var t;return Bt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.message,a.next=3,Object(Or.e)(N("signInButtonDisabled",!1));case 3:return a.next=5,Object(Or.e)(C("snackbar",t));case 5:return a.next=7,Object(Or.d)(4e3);case 7:return a.next=9,Object(Or.e)(C("snackbar",""));case 9:case"end":return a.stop()}}),Pr)}var Wr={validation:Sr,request:Dr,success:Mr,fail:zr},Gr=Bt.a.mark(Hr);function Hr(){var e,t,a,n,r,c,s,i;return Bt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(Or.f)((function(e){var t=e.forms;return{name:t.signUpName,nameError:t.signUpNameError,email:t.signUpEmail,emailError:t.signUpEmailError,password:t.signUpPassword,passwordError:t.signUpPasswordError}}));case 2:if(e=o.sent,t=e.name,a=e.nameError,n=e.email,r=e.emailError,c=e.password,s=e.passwordError,i=!1,!(a||r||s)){o.next=13;break}return o.next=13,Object(Or.c)();case 13:return o.next=15,Object(Or.e)(N("signUpButtonDisabled",!0));case 15:if(t){o.next=21;break}return o.next=18,Object(Or.e)(N("signUpNameError","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f."));case 18:i=!0,o.next=31;break;case 21:if(!(t<4||t>16)){o.next=27;break}return o.next=24,Object(Or.e)(N("signUpNameError","\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 6 \u0434\u043e 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."));case 24:i=!0,o.next=31;break;case 27:if(t.match(Cr)){o.next=31;break}return o.next=30,Object(Or.e)(N("signUpNameError","\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0438 \u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b, \u0430 \u0442\u0430\u043a \u0436\u0435 \u0447\u0438\u0441\u043b\u0430."));case 30:i=!0;case 31:if(n){o.next=37;break}return o.next=34,Object(Or.e)(N("signUpEmailError","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 E-Mail."));case 34:i=!0,o.next=41;break;case 37:if(yr.a.validate(n)){o.next=41;break}return o.next=40,Object(Or.e)(N("signUpEmailError","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 E-Mail."));case 40:i=!0;case 41:if(c){o.next=47;break}return o.next=44,Object(Or.e)(N("signUpPasswordError","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c."));case 44:i=!0,o.next=57;break;case 47:if(c.match(Nr)){o.next=53;break}return o.next=50,Object(Or.e)(N("signUpPasswordError","\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u0438 \u0447\u0438\u0441\u043b\u0430."));case 50:i=!0,o.next=57;break;case 53:if(!(!c||c.length<6||c.length>16)){o.next=57;break}return o.next=56,Object(Or.e)(N("signUpPasswordError","\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 6 \u0434\u043e 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."));case 56:i=!0;case 57:if(!i){o.next=62;break}return o.next=60,Object(Or.e)(I("\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"));case 60:o.next=64;break;case 62:return o.next=64,Object(Or.e)({type:"SIGN_UP_REQUEST",requestBody:{name:t,email:n,password:c}});case 64:case"end":return o.stop()}}),Gr)}var Vr=Hr,Zr=Bt.a.mark(qr);function qr(e){var t,a;return Bt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.requestBody,n.prev=1,n.next=4,Object(Or.b)(Ur.signUp,t);case 4:if(201!==(a=n.sent).status){n.next=10;break}return n.next=8,Object(Or.e)({type:"SIGN_UP_SUCCESS",data:a.data});case 8:n.next=12;break;case 10:return n.next=12,Object(Or.e)(I(a.data));case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(1),console.error(n.t0);case 17:case"end":return n.stop()}}),Zr,null,[[1,14]])}var Yr=qr,Qr=Bt.a.mark(Jr);function Jr(e){var t,a;return Bt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.data,a=pr.a.get("token"),localStorage.setItem("role",t.role),Ar.a.defaults.headers.common.Authorization=a,n.next=6,Object(Or.e)(N("signUpButtonDisabled",!1));case 6:return n.next=8,Object(Or.e)(C("snackbar",""));case 8:return n.next=10,Object(Or.e)(N("signUpName",""));case 10:return n.next=12,Object(Or.e)(N("signUpEmail",""));case 12:return n.next=14,Object(Or.e)(N("signUpPassword",""));case 14:return n.next=16,Object(Or.e)(_(t));case 16:case"end":return n.stop()}}),Qr)}var $r=Jr,Kr=Bt.a.mark(Xr);function Xr(e){var t;return Bt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.message,a.next=3,Object(Or.e)(N("signUpButtonDisabled",!1));case 3:return a.next=5,Object(Or.e)(C("snackbar",t));case 5:return a.next=7,Object(Or.d)(4e3);case 7:return a.next=9,Object(Or.e)(C("snackbar",""));case 9:case"end":return a.stop()}}),Kr)}var ec={validation:Vr,request:Yr,success:$r,fail:Xr},tc=Bt.a.mark(ac);function ac(){var e,t;return Bt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=pr.a.get("token"),Ar.a.defaults.headers.common.Authorization=e,a.prev=2,a.next=5,Object(Or.b)(Ur.fetchUserData);case 5:if(200!==(t=a.sent).status){a.next=11;break}return a.next=9,Object(Or.e)({type:"FETCH_USER_DATA_SUCCESS",data:t.data});case 9:a.next=14;break;case 11:return Ar.a.defaults.headers.common.Authorization="",a.next=14,Object(Or.e)({type:"LOGOUT_USER"});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(2),console.error(a.t0.message);case 19:case"end":return a.stop()}}),tc,null,[[2,16]])}var nc=ac,rc=Bt.a.mark(cc);function cc(e){var t;return Bt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.data,localStorage.setItem("role",t.role),a.next=4,Object(Or.e)(_(t));case 4:case"end":return a.stop()}}),rc)}var sc={request:nc,success:cc},ic=Bt.a.mark(oc);function oc(){return Bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ar.a.defaults.headers.common.Authorization="",localStorage.removeItem("role"),e.prev=2,e.next=5,Object(Or.b)(Ur.logout);case 5:if(200!==e.sent.status){e.next=9;break}return e.next=9,Object(Or.e)({type:"LOGOUT_USER"});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0.message);case 14:case"end":return e.stop()}}),ic,null,[[2,11]])}var lc=oc,uc=Bt.a.mark(mc);function mc(){return Bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Or.g)("SIGN_IN_VALIDATE",Wr.validation);case 2:return e.next=4,Object(Or.g)("SIGN_IN_REQUEST",Wr.request);case 4:return e.next=6,Object(Or.g)("SIGN_IN_SUCCESS",Wr.success);case 6:return e.next=8,Object(Or.g)("SIGN_IN_FAIL",Wr.fail);case 8:return e.next=10,Object(Or.g)("SIGN_UP_VALIDATE",ec.validation);case 10:return e.next=12,Object(Or.g)("SIGN_UP_REQUEST",ec.request);case 12:return e.next=14,Object(Or.g)("SIGN_UP_SUCCESS",ec.success);case 14:return e.next=16,Object(Or.g)("SIGN_UP_FAIL",ec.fail);case 16:return e.next=18,Object(Or.g)("LOGOUT_USER_REQUEST",lc);case 18:return e.next=20,Object(Or.g)("FETCH_USER_DATA",sc.request);case 20:return e.next=22,Object(Or.g)("FETCH_USER_DATA_SUCCESS",sc.success);case 22:case"end":return e.stop()}}),uc)}var pc=function(){function e(){Object(Tr.a)(this,e)}return Object(Ir.a)(e,null,[{key:"fetchAll",value:function(e){return Ar.a.get("/api/news/city/".concat(e)).then((function(e){return e})).catch((function(e){var t=e.response;return Object(Ie.a)({},t)}))}},{key:"fetch",value:function(e){return Ar.a.get("/api/news/".concat(e)).then((function(e){return e})).catch((function(e){var t=e.response;return Object(Ie.a)({},t)}))}},{key:"create",value:function(e){return Ar.a.post("/api/news/",e).then((function(e){return e})).catch((function(e){var t=e.response;return Object(Ie.a)({},t)}))}},{key:"remove",value:function(e){return Ar.a.delete("/api/news/".concat(e)).then((function(e){return e})).catch((function(e){var t=e.response;return Object(Ie.a)({},t)}))}}]),e}(),dc=Bt.a.mark(fc);function fc(){var e,t,a,n,r;return Bt.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(Or.e)(C("snackbar","\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439..."));case 2:return c.next=4,Object(Or.f)((function(e){var t=e.cities;return{cityId:t.selectedCityId,cities:t.data}}));case 4:return e=c.sent,t=e.cityId,a=e.cities,n=a.find((function(e){var a=e.id;return t===a})),c.prev=8,c.next=11,Object(Or.b)(pc.fetchAll,n.title);case 11:if(200!==(r=c.sent).status){c.next=17;break}return c.next=15,Object(Or.e)({type:"SET_NEWS",news:r.data});case 15:c.next=21;break;case 17:return c.next=19,Object(Or.e)(C("snackbar","\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439."));case 19:return c.next=21,Object(Or.d)(3e3);case 21:c.next=30;break;case 23:return c.prev=23,c.t0=c.catch(8),console.error(c.t0),c.next=28,Object(Or.e)(C("snackbar","\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430! \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443."));case 28:return c.next=30,Object(Or.d)(3e3);case 30:return c.prev=30,c.next=33,Object(Or.e)(C("snackbar",""));case 33:return c.finish(30);case 34:case"end":return c.stop()}}),dc,null,[[8,23,30,34]])}var Ec=fc,bc=Bt.a.mark(gc);function gc(e){var t,a;return Bt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.id,n.prev=1,n.next=4,Object(Or.b)(pc.fetch,t);case 4:if(200!==(a=n.sent).status){n.next=8;break}return n.next=8,Object(Or.e)(L(a.data));case 8:if(404!==a.status){n.next=11;break}return n.next=11,Object(Or.e)(L({error:"\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430."}));case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.error(n.t0);case 16:case"end":return n.stop()}}),bc,null,[[1,13]])}var vc=gc,xc=Bt.a.mark(hc);function hc(){return Bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Or.g)("FETCH_ALL_NEWS",Ec);case 2:return e.next=4,Object(Or.g)("FETCH_NEWS",vc);case 4:case"end":return e.stop()}}),xc)}var Oc=Bt.a.mark(jc);function jc(){var e,t,a,n,r,c,s,i,o,l,u;return Bt.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Object(Or.f)((function(e){var t=e.forms,a=e.cities;return{title:t.createNewsTitle,text:t.createNewsText,cityId:t.createNewsCity,type:t.createNewsType,date:t.createNewsDate,time:t.createNewsTime,coords:t.createNewsCoords,sources:t.createNewsSources,cities:a.data}}));case 2:if(e=m.sent,t=e.title,a=e.text,n=e.cityId,r=e.type,c=e.date,s=e.time,i=e.coords,o=e.sources,l=e.cities,t&&a&&(n||0===n)&&(r||0===r)&&c&&s){m.next=21;break}return m.next=15,Object(Or.e)(C("snackbar","\u0412\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u043d\u0430 \u043f\u0435\u0440\u0432\u044b\u0439 \u0448\u0430\u0433 \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u0435 \u043f\u043e\u043b\u044f."));case 15:return m.next=17,Object(Or.d)(5e3);case 17:return m.next=19,Object(Or.e)(C("snackbar",""));case 19:m.next=33;break;case 21:if(i&&i.length){m.next=30;break}return m.next=24,Object(Or.e)(C("snackbar","\u0412\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u043d\u0430 \u0442\u0440\u0435\u0442\u0438\u0439 \u0448\u0430\u0433 \u0438 \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u043c\u0435\u0441\u0442\u043e."));case 24:return m.next=26,Object(Or.d)(5e3);case 26:return m.next=28,Object(Or.e)(C("snackbar",""));case 28:m.next=33;break;case 30:return u=l.find((function(e){return e.id===n})),m.next=33,Object(Or.e)({type:"CREATE_NEWS_REQUEST",data:{title:t,text:a,city:u.title,type:r,date:c,time:s,coords:i,sources:o||[],media:[]}});case 33:case"end":return m.stop()}}),Oc)}var yc=jc,Cc=Bt.a.mark(Nc);function Nc(e){var t,a,n,r,c,s,i,o,l,u,m,p,d,f,E;return Bt.a.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:return t=e.data,a=t.title,n=t.text,r=t.city,c=t.type,s=t.date,i=t.time,o=t.coords,l=t.sources,u=t.media,m=new Date(s),p=new Date(i),d=new Date(m.getFullYear(),m.getMonth(),m.getDate(),p.getHours(),p.getMinutes()),f={title:a,text:n,city:r,type:c,date:+d,coords:o,sources:l,media:u},b.prev=6,b.next=9,Object(Or.b)(pc.create,f);case 9:if(200!==(E=b.sent).status){b.next=15;break}return b.next=13,Object(Or.e)({type:"CREATE_NEWS_SUCCESS"});case 13:b.next=17;break;case 15:return b.next=17,Object(Or.e)((E.status,{type:"CREATE_NEWS_FAIL"}));case 17:b.next=22;break;case 19:b.prev=19,b.t0=b.catch(6),console.error(b.t0.message);case 22:case"end":return b.stop()}}),Cc,null,[[6,19]])}var wc=Nc,kc=Bt.a.mark(Sc);function Sc(){return Bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Or.e)(C("createNewsRequestStatus","success"));case 2:return e.next=4,Object(Or.d)(1e3);case 4:return e.next=6,Object(Or.e)(C("createNewsRequestStatus",""));case 6:case"end":return e.stop()}}),kc)}var Tc={validation:yc,request:wc,success:Sc},Ic=Bt.a.mark(_c);function _c(e){var t,a;return Bt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.id,n.prev=1,n.next=4,Object(Or.b)(pc.remove,t);case 4:if(200!==(a=n.sent).status){n.next=10;break}return n.next=8,Object(Or.e)(W(t));case 8:n.next=12;break;case 10:return n.next=12,Object(Or.e)(G(a.status));case 12:n.next=19;break;case 14:return n.prev=14,n.t0=n.catch(1),console.error(n.t0.message),n.next=19,Object(Or.e)(G(500));case 19:case"end":return n.stop()}}),Ic,null,[[1,14]])}var Ac=_c,Uc=Bt.a.mark(Lc);function Lc(e){var t;return Bt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.id,a.next=3,Object(Or.e)(P(t));case 3:return a.next=5,Object(Or.e)(C("snackbar","\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0430."));case 5:return a.next=7,Object(Or.d)(4e3);case 7:return a.next=9,Object(Or.e)(C("snackbar",""));case 9:case"end":return a.stop()}}),Uc)}var Rc=Lc,Dc=Bt.a.mark(Fc);function Fc(e){var t;return Bt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(404!==(t=e.status)){a.next=4;break}return a.next=4,Object(Or.e)(C("snackbar","\u041e\u0448\u0438\u0431\u043a\u0430! \u041d\u043e\u0432\u043e\u0441\u0442\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430."));case 4:if(500!==t){a.next=7;break}return a.next=7,Object(Or.e)(C("snackbar","\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430! \u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443."));case 7:return a.next=9,Object(Or.d)(4e3);case 9:return a.next=11,Object(Or.e)(C("snackbar",""));case 11:case"end":return a.stop()}}),Dc)}var Bc={request:Ac,success:Rc,fail:Fc},Mc=Bt.a.mark(Pc);function Pc(e){var t,a,n,r,c;return Bt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.cityId,s.next=3,Object(Or.f)((function(e){return{cities:e.cities.data}}));case 3:return a=s.sent,n=a.cities,r=n.find((function(e){return e.id===t})),s.next=8,Object(Or.e)(B(null));case 8:return s.prev=8,s.next=11,Object(Or.b)(pc.fetchAll,r.title);case 11:if(200!==(c=s.sent).status){s.next=17;break}return s.next=15,Object(Or.e)(B(c.data.reverse()));case 15:s.next=19;break;case 17:return s.next=19,Object(Or.e)({type:"FETCH_CABINET_NEWS_FAIL"});case 19:s.next=24;break;case 21:s.prev=21,s.t0=s.catch(8),console.error(s.t0.message);case 24:case"end":return s.stop()}}),Mc,null,[[8,21]])}var zc=Pc,Wc=Bt.a.mark(Gc);function Gc(){return Bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Or.e)(B([]));case 2:return e.next=4,Object(Or.e)(C("snackbar","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439"));case 4:return e.next=6,Object(Or.d)(4e3);case 6:return e.next=8,Object(Or.e)(C("snackbar",""));case 8:case"end":return e.stop()}}),Wc)}var Hc={create:Tc,remove:Bc,fetch:zc,fetchFail:Gc},Vc=function(){function e(){Object(Tr.a)(this,e)}return Object(Ir.a)(e,null,[{key:"fetchUsers",value:function(e){return Ar.a.get("/api/users/".concat(e)).then((function(e){return e})).catch((function(e){var t=e.response;return Object(Ie.a)({},t)}))}}]),e}(),Zc=Bt.a.mark(qc);function qc(e){var t,a;return Bt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.name,n.next=3,Object(Or.d)(700);case 3:return n.prev=3,n.next=6,Object(Or.e)(C("cabinetUsersLoading",!0));case 6:return n.next=8,Object(Or.b)(Vc.fetchUsers,t);case 8:if(a=n.sent,console.log(a),200!==a.status){n.next=15;break}return n.next=13,Object(Or.e)({type:"CABINER_USERS_SUCCESS",users:a.data});case 13:n.next=17;break;case 15:return n.next=17,Object(Or.e)({type:"CABINER_USERS_FAIL",message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439."});case 17:n.next=24;break;case 19:return n.prev=19,n.t0=n.catch(3),console.error(n.t0.message),n.next=24,Object(Or.e)(C("cabinetUsersLoading",!1));case 24:case"end":return n.stop()}}),Zc,null,[[3,19]])}var Yc=qc,Qc=Bt.a.mark(Jc);function Jc(e){var t;return Bt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.users,a.next=3,Object(Or.e)(J(t));case 3:return a.next=5,Object(Or.e)(C("cabinetUsersLoading",!1));case 5:case"end":return a.stop()}}),Qc)}var $c=Jc,Kc=Bt.a.mark(Xc);function Xc(e){var t;return Bt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.message,a.next=3,Object(Or.e)(C("cabinetUsersLoading",!1));case 3:return a.next=5,Object(Or.e)(J([]));case 5:return a.next=7,Object(Or.e)(C("snackbar",t));case 7:return a.next=9,Object(Or.d)(5e3);case 9:return a.next=11,Object(Or.e)(C("snackbar",""));case 11:case"end":return a.stop()}}),Kc)}var es={fetch:Yc,success:$c,fail:Xc},ts=Bt.a.mark(as);function as(){return Bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Or.g)("FETCH_CABINET_NEWS",Hc.fetch);case 2:return e.next=4,Object(Or.g)("FETCH_CABINET_NEWS_FAIL",Hc.fetchFail);case 4:return e.next=6,Object(Or.g)("CREATE_NEWS_VALIDATION",Hc.create.validation);case 6:return e.next=8,Object(Or.g)("CREATE_NEWS_REQUEST",Hc.create.request);case 8:return e.next=10,Object(Or.g)("CREATE_NEWS_SUCCESS",Hc.create.success);case 10:return e.next=12,Object(Or.g)("REMOVE_NEWS_REQUEST",Hc.remove.request);case 12:return e.next=14,Object(Or.g)("REMOVE_NEWS_SUCCESS",Hc.remove.success);case 14:return e.next=16,Object(Or.g)("REMOVE_NEWS_FAIL",Hc.remove.fail);case 16:return e.next=18,Object(Or.g)("CABINER_USERS_SUCCESS",es.success);case 18:return e.next=20,Object(Or.g)("CABINER_USERS_FAIL",es.fail);case 20:return e.next=22,Object(Or.h)("CABINET_USERS_REQUEST",es.fetch);case 22:case"end":return e.stop()}}),ts)}var ns=Bt.a.mark(rs);function rs(e){var t;return Bt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.id,a.next=3,Object(Or.e)({type:"FETCH_ALL_NEWS"});case 3:return a.next=5,Object(Or.e)(q(t));case 5:case"end":return a.stop()}}),ns)}var cs=rs,ss=function(){function e(){Object(Tr.a)(this,e)}return Object(Ir.a)(e,null,[{key:"fetch",value:function(){return Ar.a.get("/api/cities").then((function(e){return e})).catch((function(e){var t=e.response;return Object(Ie.a)({},t)}))}}]),e}(),is=Bt.a.mark(os);function os(){var e;return Bt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Or.b)(ss.fetch);case 3:if(200!==(e=t.sent).status){t.next=9;break}return t.next=7,Object(Or.e)({type:"FETCH_CITIES_SUCCESS",data:e.data});case 7:t.next=11;break;case 9:return t.next=11,Object(Or.e)({type:"FETCH_CITIES_FAIL"});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0.message);case 16:case"end":return t.stop()}}),is,null,[[0,13]])}var ls=os,us=Bt.a.mark(ms);function ms(e){var t;return Bt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.data,localStorage.setItem("citiesList",JSON.stringify(t)),a.next=4,Object(Or.e)({type:"SET_CITIES",cities:t});case 4:return a.next=6,Object(Or.e)(H(!1));case 6:case"end":return a.stop()}}),us)}var ps=ms,ds=Bt.a.mark(fs);function fs(){return Bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Or.e)({type:"SET_CITY_ERROR",error:!0});case 2:return e.next=4,Object(Or.e)(H(!1));case 4:return e.next=6,Object(Or.e)(C("snackbar","\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0433\u043e\u0440\u043e\u0434\u043e\u0432."));case 6:return e.next=8,Object(Or.d)(5e3);case 8:return e.next=10,Object(Or.e)(C("snackbar",""));case 10:case"end":return e.stop()}}),ds)}var Es=fs,bs=Bt.a.mark(gs);function gs(){return Bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Or.g)("CHANGE_CITY",cs);case 2:return e.next=4,Object(Or.g)("FETCH_CITIES",ls);case 4:return e.next=6,Object(Or.g)("FETCH_CITIES_SUCCESS",ps);case 6:return e.next=8,Object(Or.g)("FETCH_CITIES_FAIL",Es);case 8:case"end":return e.stop()}}),bs)}var vs=Bt.a.mark(xs);function xs(){return Bt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Or.a)([mc(),hc(),as(),gs()]);case 2:case"end":return e.stop()}}),vs)}var hs=xs,Os=Object(rr.a)(),js=Object(p.e)(hr,Object(p.a)(Os));window.getState=js.getState,Os.run(hs);var ys=js,Cs=(a(221),Object(l.a)({palette:{primary:{main:"#f64b11"},secondary:{main:"#2196F3"}}}));s.a.render(r.a.createElement(i.a,null,r.a.createElement(o.a,{store:ys},r.a.createElement(u.a,{theme:Cs},r.a.createElement(nr,null)))),document.getElementById("root"))},64:function(e,t,a){e.exports=a.p+"static/media/logo_dark.6ea33164.svg"}},[[193,1,2]]]);
//# sourceMappingURL=main.306ff3e3.chunk.js.map