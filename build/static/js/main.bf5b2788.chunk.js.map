{"version":3,"sources":["images/citiesBG/novosibirsk.jpg","images/citiesBG/krasnoyarsk.jpg","images/emblems/novosibirsk.svg","images/emblems/krasnoyarsk.svg","images/pins/user.svg","images/pins/car_theft.svg","images/pins/fire.svg","images/pins/accident.svg","images/pins/animal.svg","images/pins/violence.svg","images/pins/bad_services.svg","images/pins/death.svg","images/pins/dtp.svg","images/pins/lost_man.svg","images/pins/protest.svg","images/pins/theft.svg","images/default_avatar.png","components/Menu/cityBackgrounds.js","components/Menu/Desctop/styles.js","components/Menu/Geo/styles.js","components/Menu/Geo/emblems.js","components/Menu/Geo/index.js","constants/styles.js","components/Menu/Auth/styles.js","store/AC/user.js","store/actions/user.js","components/Menu/Auth/index.js","components/Menu/Desctop/index.js","components/Menu/Mobile/styles.js","components/Menu/Mobile/index.js","store/AC/cities.js","store/actions/cities.js","components/Menu/index.js","store/AC/map.js","store/actions/map.js","store/AC/incident.js","store/actions/incident.js","constants/incidents.js","components/Map/getIcon.js","components/Map/index.js","constants/map.js","components/CitiesSelector/styles.js","components/CitiesSelector/index.js","components/Incident/styles.js","components/Incident/index.js","containers/Main/styles.js","store/AC/incidents.js","store/actions/incidents.js","containers/Main/index.js","containers/SignIn/styles.js","store/AC/forms.js","store/actions/forms.js","store/AC/auth.js","store/actions/auth.js","constants/forms.js","containers/SignIn/index.js","containers/SignUp/styles.js","containers/SignUp/index.js","containers/Settings/styles.js","components/Header/styles.js","components/Header/index.js","store/AC/settings.js","store/actions/settings.js","containers/Settings/index.js","components/ResponsiveMenu/styles.js","components/ResponsiveMenu/index.js","containers/Cabinet/styles.js","containers/Cabinet/getMenu.js","constants/user.js","containers/Cabinet/Profile/styles.js","containers/Cabinet/Profile/index.js","containers/Cabinet/News/styles.js","containers/Cabinet/News/List.js","containers/Cabinet/News/CreateNews/styles.js","containers/Cabinet/News/CreateNews/Info.js","containers/Cabinet/News/CreateNews/Media.js","containers/Cabinet/News/CreateNews/Position.js","containers/Cabinet/News/CreateNews/Source.js","containers/Cabinet/News/CreateNews/index.js","containers/Cabinet/News/index.js","containers/Cabinet/index.js","store/AC/geodata.js","store/actions/geodata.js","containers/App/index.js","store/reducers/system.js","store/reducers/forms.js","store/reducers/cities.js","store/reducers/map.js","store/reducers/geodata.js","store/reducers/incidents.js","store/reducers/user.js","store/reducers/index.js","store/actions/system.js","store/reducers/incident.js","store/sagas/cities.js","store/sagas/incidents.js","api/auth.js","store/AC/system.js","store/sagas/auth.js","api/settings.js","store/sagas/settings/name.js","store/sagas/settings/email.js","store/sagas/settings/password.js","store/sagas/index.js","store/index.js","index.js","images/logo_dark.svg"],"names":["module","exports","novosibirsk","backgroundImage","backgroundSize","backgroundRepeat","krasnoyarsk","makeStyles","theme","backgrounds","root","width","flexShrink","rootPaper","header","position","height","searchContainer","display","justifyContent","margin","spacing","padding","backgroundColor","borderRadius","shape","border","search","darkBG","paddingTop","alignItems","overflowX","cityName","marginLeft","color","palette","text","emblemContainer","grow","flexGrow","changeCityButton","breakpoints","up","background","emblem","Geo","props","fetchCities","setModal","loading","city","titleCity","classes","useStyles","useEffect","className","src","emblems","alt","Typography","variant","Tooltip","title","IconButton","onClick","Edit","ORANGE_GRADIENT","marginTop","link","textDecoration","button","borderColor","borderLeft","borderRight","userContainer","borderTop","userContainerCheck","marginRight","avatar","userButtons","rotate","animation","transform","loginUser","user","type","logout","setUser","setUserField","field","value","Auth","isAuth","name","id","to","Button","size","fullWidth","startIcon","AccountCircle","Loop","Avatar","ExitToApp","defaultProps","connect","dispatch","bindActionCreators","DesctopMenu","selectedCity","Hidden","smDown","implementation","Drawer","paper","cn","LogoDark","InputBase","placeholder","openButton","top","left","zIndex","index","paddingRight","logo","closeMenuButton","MobileMenu","useState","isOpen","setOpen","toggleMenu","mdUp","Fab","Menu","SwipeableDrawer","open","onOpen","onClose","setError","error","changeCity","changeSelectedCity","cities","selectedCityId","citiesList","data","find","Desctop","Mobile","changeCoordinates","lat","lng","changeZoom","zoom","incrementZoom","decrementZoom","openIncident","incident","closeIncident","incidents","getIcon","iconUrl","carTheftIcon","fireIcon","accidentIcon","animalIcon","violenceIcon","badServicesIcon","deathIcon","dtpIcon","lostManIcon","protestIcon","theftIcon","userIcon","L","Icon","iconSize","Point","iconAnchor","map","geodata","center","maxZoom","minZoom","attributionControl","zoomControl","doubleClickZoom","scrollWheelZoom","dragging","animate","easeLinearity","onDragEnd","target","getCenter","onZoomEnd","test","getZoom","TileLayer","url","Marker","coords","latitude","longitude","icon","key","providerOptions","borderBottom","closeButton","right","loadingText","actions","isSelectorOpen","setSelectedCityId","Dialog","maxWidth","DialogTitle","Close","DialogContent","List","component","ListItem","selected","ListItemText","ListItemSecondaryAction","Check","DialogActions","localStorage","setItem","batch","handleClick","disabled","titleContainer","infoContainer","marginBottom","date","cursor","views","viewsIcon","sourcesContainer","flexDirection","sourceBorder","Incident","close","timestamp","sources","Date","day","getDate","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","useTheme","fullScreen","useMediaQuery","down","Visibility","source","i","Link","href","buttonUserPosition","bottom","zoomButtonsContainer","buttonZoomOut","fetchAllIncidents","isLoading","selectedCityid","NearMe","ButtonGroup","orientation","ZoomIn","ZoomOut","minHeight","logoContainer","textTransform","paddingBottom","textAlign","form","paddingLeft","textField","grayText","linkButton","underContainer","backButton","changeField","requestSignUp","signUpFail","signInRequest","signInSuccess","signInFail","checkUserAuth","NAME_TEMPLATE","PASSWORD_TEMPLATE","SignIn","snackbar","email","emailError","password","passwordError","isDisabled","handleChange","Paper","TextField","helperText","onChange","label","emailValidator","validate","length","match","Snackbar","message","anchorOrigin","vertical","horizontal","system","forms","signInSnackbar","redirect","signInRedirectToMain","signInEmail","signInEmailError","signInPassword","signInPasswordError","signInButtonDisabled","SignUp","isButtonDisabled","nameError","signUpSnackbar","signUpRedirectToSignIn","signUpName","signUpNameError","signUpEmail","signUpEmailError","signUpPassword","signUpPasswordError","signUpButtonDisabled","container","blue","firstExpansionPanel","formContainer","fieldPassword","alignSelf","fontSize","Header","children","AppBar","Toolbar","validateNewName","requestNewName","successNewName","failNewName","validateNewEmail","requestNewEmail","successNewEmail","failNewEmail","validateNewPassword","requestNewPassword","oldPassword","newPassword","failNewPassword","Settings","history","oldPasswordError","newPasswordError","isDisabledNameButton","isDisabledEmailButton","isDisabledPasswordButton","validateName","validateEmail","validatePassword","goBack","Container","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpandMore","ExpansionPanelDetails","settingSnackbar","settingsName","settingsNameError","settingsEmail","settingsEmailError","settingsOldPassword","settingsOldPasswordError","settingsNewPassword","settingsNewPasswordError","settingsNameButtonDisabled","settingsEmailButtonDisabled","settingsPasswordButtonDisabled","drawer","drawerPaper","logoTextContainer","logoText","fontWeight","isOpenMobile","smUp","ModalProps","keepMounted","xsDown","Divider","linkMenu","primary","content","UserMenu","ListItemIcon","Home","Forum","ModeratorMenu","AddBox","LocationCity","People","AdminMenu","values","sm","Profile","addButton","buttonsContainer","dateContainer","positionSearch","streetField","homeField","mapContainer","sourceForm","sourceName","sourceLink","sourceButton","sourceChip","Info","time","multiline","rows","rowsMax","FormControl","InputLabel","Select","defaultValue","labelId","MenuItem","utils","DateFnsUtils","disableToolbar","format","e","KeyboardButtonProps","ampm","now","createNewsTitle","createNewsText","createNewsCity","createNewsType","createNewsDate","createNewsTime","Media","Position","Source","state","setState","chips","Chip","onDelete","sourceToDelete","newSources","filter","deleteSource","Eco","createNewsSources","steps","CreateNews","activeStep","setActiveStep","dividers","Stepper","alternativeLabel","step","Step","StepLabel","getContent","news","Add","lenght","Cabinet","role","path","exact","News","setLocation","setLocationError","cookie","get","navigator","geolocation","getCurrentPosition","CssBaseline","Main","initialState","JSON","parse","getItem","_id","action","savedCities","token","axios","defaults","headers","common","combineReducers","call","stringify","put","console","takeLatest","fetchIncidents","cityId","select","changeSystemField","signUpRequestSaga","signUpSuccessSaga","signUpFailSaga","signInRequestSaga","signInSuccessSaga","signInFailSaga","login","logoutRequest","post","trim","result","status","delay","Object","isBanned","Error","takeEvery","request","success","fail","currentName","buttonDisabled","requestBody","currentEmail","rootSaga","all","auth","settingsPassword","sagaMiddleware","createSagaMiddleware","store","createStore","rootReducer","applyMiddleware","window","getState","run","createMuiTheme","main","secondary","ReactDOM","render","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.bf5b2788.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/novosibirsk.3223fede.jpg\";","module.exports = __webpack_public_path__ + \"static/media/krasnoyarsk.aaf9cd5c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/novosibirsk.f2328259.svg\";","module.exports = __webpack_public_path__ + \"static/media/krasnoyarsk.0bba5569.svg\";","module.exports = __webpack_public_path__ + \"static/media/user.ed058a81.svg\";","module.exports = __webpack_public_path__ + \"static/media/car_theft.f15135e1.svg\";","module.exports = __webpack_public_path__ + \"static/media/fire.4faaaf86.svg\";","module.exports = __webpack_public_path__ + \"static/media/accident.75476a82.svg\";","module.exports = __webpack_public_path__ + \"static/media/animal.80e28ec9.svg\";","module.exports = __webpack_public_path__ + \"static/media/violence.4e158945.svg\";","module.exports = __webpack_public_path__ + \"static/media/bad_services.78eacfc8.svg\";","module.exports = __webpack_public_path__ + \"static/media/death.25eac115.svg\";","module.exports = __webpack_public_path__ + \"static/media/dtp.741b1766.svg\";","module.exports = __webpack_public_path__ + \"static/media/lost_man.9db9caf4.svg\";","module.exports = __webpack_public_path__ + \"static/media/protest.a4a6d874.svg\";","module.exports = __webpack_public_path__ + \"static/media/theft.2d127463.svg\";","module.exports = __webpack_public_path__ + \"static/media/default_avatar.4aae295a.png\";","import novosibirsk from '../../images/citiesBG/novosibirsk.jpg';\r\nimport krasnoyarsk from '../../images/citiesBG/krasnoyarsk.jpg';\r\n\r\nexport default {\r\n  novosibirsk: {\r\n    backgroundImage: `url(${novosibirsk})`,\r\n    backgroundSize: 'cover',\r\n    backgroundRepeat: 'no-repeat',\r\n  },\r\n  krasnoyarsk: {\r\n    backgroundImage: `url(${krasnoyarsk})`,\r\n    backgroundSize: 'cover',\r\n    backgroundRepeat: 'no-repeat',\r\n  }\r\n};\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport backgrounds from '../cityBackgrounds';\r\n\r\nconst drawerWidth = 360;\r\n\r\nexport default makeStyles(theme => ({\r\n  ...backgrounds,\r\n  root: {\r\n    width: drawerWidth,\r\n    flexShrink: 0\r\n  },\r\n  rootPaper: {\r\n    width: drawerWidth\r\n  },\r\n  header: {\r\n    position: 'relative',\r\n    height: 200,\r\n  },\r\n  searchContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    margin: theme.spacing(3),\r\n    padding: '5px 10px',\r\n    backgroundColor: '#fff',\r\n    borderRadius: theme.shape.borderRadius * 2,\r\n    border: '1px solid #ccc',\r\n  },\r\n  search: {\r\n    width: '86%'\r\n  },\r\n  darkBG: {\r\n    paddingTop: 1,\r\n    height: '100%',\r\n    backgroundColor: 'rgba(0, 0, 0, .5)',\r\n  },\r\n}));\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    overflowX: 'hidden',\r\n    margin: theme.spacing(1),\r\n  },\r\n  cityName: {\r\n    marginLeft: theme.spacing(1),\r\n    color: theme.palette.text,\r\n  },\r\n  emblemContainer: {\r\n    display: 'none',\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  changeCityButton: {\r\n    color: theme.palette.text,\r\n  },\r\n\r\n  [theme.breakpoints.up('md')]: {\r\n    root: {\r\n      margin: theme.spacing(3),\r\n    },\r\n    cityName: {\r\n      color: '#fff',\r\n    },\r\n    emblemContainer: {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      width: 40,\r\n      height: 40,\r\n      background: '#fff',\r\n      borderRadius: '50%',\r\n    },\r\n    emblem: {\r\n      height: 30,\r\n    },\r\n    changeCityButton: {\r\n      color: '#fff',\r\n    }\r\n  },\r\n}));\r\n","import novosibirsk from '../../../images/emblems/novosibirsk.svg';\r\nimport krasnoyarsk from '../../../images/emblems/krasnoyarsk.svg';\r\n\r\nexport default {\r\n  novosibirsk,\r\n  krasnoyarsk,\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Typography,\r\n  IconButton,\r\n  Tooltip,\r\n} from '@material-ui/core';\r\nimport { Edit as EditIcon } from '@material-ui/icons';\r\nimport useStyles from './styles';\r\nimport emblems from './emblems';\r\n\r\nfunction Geo(props) {\r\n  const {\r\n    fetchCities,\r\n    setModal,\r\n    loading,\r\n    city,\r\n    titleCity,\r\n  } = props;\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    if (loading) fetchCities();\r\n  }, [loading, fetchCities]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.emblemContainer}>\r\n        <img className={classes.emblem} src={emblems[titleCity]} alt=\"\" />\r\n      </div>\r\n      <Typography variant=\"h6\" className={classes.cityName}>{city}</Typography>\r\n      <div className={classes.grow} />\r\n      <Tooltip title=\"Изменить город\">\r\n        <IconButton onClick={() => setModal(true)}>\r\n          <EditIcon className={classes.changeCityButton} />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </div>\r\n  );\r\n}\r\n\r\nGeo.propTypes = {\r\n  fetchCities: PropTypes.func.isRequired,\r\n  setModal:    PropTypes.func.isRequired,\r\n  loading:     PropTypes.bool.isRequired,\r\n  titleCity:   PropTypes.string.isRequired,\r\n  city:        PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Geo;\r\n","export const WIDTH_MENU = 330;\r\nexport const WIDTH_PERSON_MENU = 250;\r\nexport const BLUE_GRADIENT = 'linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)';\r\nexport const ORANGE_GRADIENT = 'linear-gradient(45deg, #f64b11 30%, #ffbc00 90%)';\r\n\r\nexport const ORANGE = '#f64b11';\r\nexport const BLUE = '#2196F3';\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { ORANGE } from '../../../constants/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  root: {\r\n    marginTop: 'auto',\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  button: {\r\n    borderRadius: 0,\r\n    color: ORANGE,\r\n    borderColor: ORANGE,\r\n    borderLeft: 'none',\r\n    borderRight: 'none',\r\n  },\r\n  userContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(1),\r\n    borderTop: `1px solid #ccc`,\r\n  },\r\n  userContainerCheck: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n  },\r\n  avatar: {\r\n    marginRight: theme.spacing(1),\r\n    width: theme.spacing(4),\r\n    height: theme.spacing(4),\r\n    backgroundColor: ORANGE,\r\n  },\r\n  userButtons: {\r\n    marginLeft: 'auto',\r\n  },\r\n  rotate: {\r\n    animation: '$rotate 1s infinite',\r\n  },\r\n  '@keyframes rotate': {\r\n    '0%': {\r\n      transform: 'rotate(0deg)',\r\n    },\r\n    '100%': {\r\n      transform: 'rotate(-360deg)',\r\n    },\r\n  },\r\n}));\r\n","import {\r\n  LOGIN_USER,\r\n  LOGOUT_USER,\r\n  SET_USER,\r\n  LOGOUT_USER_REQUEST,\r\n  SET_USER_FIELD,\r\n} from '../actions/user';\r\n\r\nexport const loginUser = user => ({ type: LOGIN_USER, user });\r\nexport const logout = () => ({ type: LOGOUT_USER_REQUEST });\r\nexport const logoutUser = () => ({ type: LOGOUT_USER });\r\nexport const setUser = user => ({ type: SET_USER, user });\r\nexport const setUserField = (field, value) => ({ type: SET_USER_FIELD, field, value });\r\n","export const SET_USER = 'SET_USER';\r\nexport const LOGIN_USER = 'LOGIN_USER';\r\nexport const LOGOUT_USER = 'LOGOUT_USER';\r\nexport const LOGOUT_USER_REQUEST = 'LOGOUT_USER_REQUEST';\r\nexport const SET_USER_FIELD = 'SET_USER_FIELD';\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  Button,\r\n  Typography,\r\n  Tooltip,\r\n  IconButton,\r\n  Avatar,\r\n} from '@material-ui/core';\r\nimport {\r\n  AccountCircle as AccountCircleIcon,\r\n  ExitToApp as ExitToAppIcon,\r\n  Loop as LoopIcon,\r\n} from '@material-ui/icons';\r\nimport useStyles from './styles';\r\nimport { logout } from '../../../store/AC/user';\r\n\r\nfunction Auth(props) {\r\n  const {\r\n    isAuth,\r\n    name,\r\n    id,\r\n    avatar,\r\n    logout,\r\n  } = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {\r\n        !isAuth &&\r\n          <Link to=\"/sign-in\" className={classes.link}>\r\n            <Button\r\n              variant=\"outlined\"\r\n              size=\"large\"\r\n              fullWidth\r\n              className={classes.button}\r\n              startIcon={<AccountCircleIcon />}\r\n            >\r\n              Авторизация\r\n            </Button>\r\n          </Link>\r\n      }\r\n      {\r\n        isAuth && id === null ?\r\n          <div className={classes.userContainer}>\r\n            <div className={classes.userContainerCheck}>\r\n              Проверка данных\r\n              <LoopIcon className={classes.rotate} />\r\n            </div>\r\n          </div> : null\r\n      }\r\n      {\r\n        isAuth && id !== null ?\r\n          <div className={classes.userContainer}>\r\n            <Avatar\r\n              alt={name}\r\n              src={avatar ? avatar : null}\r\n              className={classes.avatar}\r\n            >\r\n              {name[0]}\r\n            </Avatar>\r\n            <Typography variant=\"subtitle1\">{name}</Typography>\r\n            <div className={classes.userButtons}>\r\n              <Tooltip title=\"Личный кабинет\">\r\n                <Link to=\"/cabinet\">\r\n                  <IconButton size=\"small\">\r\n                    <AccountCircleIcon />\r\n                  </IconButton>\r\n                </Link>\r\n              </Tooltip>\r\n              <Tooltip title=\"Выход\">\r\n                <IconButton size=\"small\" onClick={logout}>\r\n                  <ExitToAppIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </div>\r\n          </div> : null\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nAuth.propTypes = {\r\n  isAuth: PropTypes.bool.isRequired,\r\n  name:   PropTypes.string,\r\n  avatar: PropTypes.string,\r\n  id:     PropTypes.number,\r\n  logout: PropTypes.func.isRequired,\r\n};\r\n\r\nAuth.defaultProps = {\r\n  name:   null,\r\n  id:     null,\r\n  avatar: null,\r\n};\r\n\r\nconst mapStateToProps = ({ user }) => ({\r\n  isAuth: user.isAuth,\r\n  name:   user.name,\r\n  id:     user.id,\r\n  avatar: user.avatar,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  logout,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Auth);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Drawer,\r\n  Hidden,\r\n  InputBase\r\n} from '@material-ui/core';\r\nimport cn from 'classnames';\r\nimport makeStyles from './styles';\r\nimport LogoDark from '../../../images/logo_dark.svg';\r\nimport Geo from '../Geo';\r\nimport Auth from '../Auth';\r\n\r\nfunction DesctopMenu(props) {\r\n  const {\r\n    selectedCity,\r\n    loading,\r\n    fetchCities,\r\n    setModal,\r\n  } = props;\r\n  const classes = makeStyles();\r\n\r\n  return (\r\n    <Hidden smDown implementation=\"css\">\r\n      <Drawer\r\n          variant=\"permanent\"\r\n          className={classes.root}\r\n          classes={{\r\n            paper: classes.rootPaper\r\n          }}\r\n        >\r\n          <div className={cn(classes.header, classes[selectedCity.title])}>\r\n            <div className={classes.darkBG}>\r\n              <div className={classes.searchContainer}>\r\n                <img src={LogoDark} alt=\"\" height=\"35px\" />\r\n                <InputBase\r\n                  className={classes.search}\r\n                  placeholder=\"Поиск по Crime Maps...\"\r\n                />\r\n              </div>\r\n              <Geo\r\n                loading={loading}\r\n                fetchCities={fetchCities}\r\n                setModal={setModal}\r\n                titleCity={selectedCity.title}\r\n                city={selectedCity.name}\r\n              />\r\n            </div>\r\n          </div>\r\n          <Auth />\r\n        </Drawer>\r\n    </Hidden>\r\n  );\r\n}\r\n\r\nDesctopMenu.propTypes = {\r\n  selectedCity: PropTypes.object.isRequired,\r\n  loading: PropTypes.bool.isRequired,\r\n  fetchCities: PropTypes.func.isRequired,\r\n  setModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default DesctopMenu;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { ORANGE_GRADIENT } from '../../../constants/styles';\r\n\r\nconst width = \"80%\";\r\nconst index = 1000;\r\n\r\nexport default makeStyles(theme => ({\r\n  openButton: {\r\n    position: 'absolute',\r\n    top: theme.spacing(1),\r\n    left: theme.spacing(1),\r\n    zIndex: index,\r\n  },\r\n  root: {\r\n    width,\r\n    zIndex: index + 1\r\n  },\r\n  header: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(2),\r\n    paddingRight: theme.spacing(0),\r\n    background: ORANGE_GRADIENT,\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(1),\r\n    color: '#fff'\r\n  },\r\n  logo: {\r\n    height: 30\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  closeMenuButton: {\r\n    color: '#fff'\r\n  }\r\n}));\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Hidden,\r\n  SwipeableDrawer,\r\n  Fab,\r\n  Typography,\r\n  IconButton,\r\n} from '@material-ui/core';\r\nimport {\r\n  Menu as MenuIcon,\r\n  ArrowBackIos as ArrowIcon,\r\n} from '@material-ui/icons';\r\nimport useStyles from './styles';\r\nimport LogoDark from '../../../images/logo_dark.svg';\r\nimport Geo from '../Geo';\r\nimport Auth from '../Auth';\r\n\r\nfunction MobileMenu(props) {\r\n  const {\r\n    loading,\r\n    fetchCities,\r\n    setModal,\r\n    selectedCity,\r\n  } = props;\r\n  const classes = useStyles();\r\n  const [isOpen, setOpen] = useState(false);\r\n  const toggleMenu = value => setOpen(value);\r\n\r\n  return (\r\n    <Hidden mdUp implementation=\"css\">\r\n      <Fab className={classes.openButton} onClick={() => toggleMenu(true)}>\r\n        <MenuIcon />\r\n      </Fab>\r\n\r\n      <SwipeableDrawer\r\n        open={isOpen}\r\n        onOpen={() => toggleMenu(true)}\r\n        onClose={() => toggleMenu(false)}\r\n        className={classes.root}\r\n        classes={{ paper: classes.root }}\r\n      >\r\n        <div className={classes.header}>\r\n          <img src={LogoDark} alt=\"\" className={classes.logo} />\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Crime Maps\r\n          </Typography>\r\n          <div className={classes.grow} />\r\n          <IconButton className={classes.closeMenuButton} onClick={() => toggleMenu(false)}>\r\n            <ArrowIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Geo\r\n          loading={loading}\r\n          fetchCities={fetchCities}\r\n          setModal={setModal}\r\n          titleCity={selectedCity.title}\r\n          city={selectedCity.name}\r\n        />\r\n        <Auth />\r\n      </SwipeableDrawer>\r\n    </Hidden>\r\n  );\r\n}\r\n\r\nMobileMenu.propTypes = {\r\n  fetchCities: PropTypes.func.isRequired,\r\n  setModal: PropTypes.func.isRequired,\r\n  loading: PropTypes.bool.isRequired,\r\n  selectedCity: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default MobileMenu;\r\n","import {\r\n  ADD,\r\n  FETCH_CITIES,\r\n  MODAL,\r\n  ERROR,\r\n  LOADING,\r\n  CHANGE_CITY,\r\n  CHANGE_SELECTED_CITY,\r\n} from '../actions/cities';\r\n\r\nexport const setCities = cities => ({ type: ADD, cities });\r\nexport const fetchCities = () => ({ type: FETCH_CITIES });\r\nexport const setModal = isOpen => ({ type: MODAL, isOpen});\r\nexport const setError = error => ({ type: ERROR, error });\r\nexport const setLoading = loading => ({ type: LOADING, loading });\r\nexport const changeCity = id => ({ type: CHANGE_CITY, id });\r\nexport const changeSelectedCity = id => ({ type: CHANGE_SELECTED_CITY, id });\r\n","export const ADD = 'ADD';\r\nexport const FETCH_CITIES = 'FETCH_CITIES';\r\nexport const MODAL = 'MODAL';\r\nexport const ERROR = 'ERROR';\r\nexport const LOADING = 'LOADING';\r\nexport const CHANGE_CITY = 'CHANGE_CITY';\r\nexport const CHANGE_SELECTED_CITY = 'CHANGE_SELECTED_CITY';\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport DesctopMenu from './Desctop';\r\nimport Mobile from './Mobile';\r\nimport { fetchCities, setModal } from '../../store/AC/cities';\r\n\r\nfunction Menu(props) {\r\n  const {\r\n    fetchCities,\r\n    setModal,\r\n    selectedCityId,\r\n    citiesList,\r\n    loading,\r\n  } = props;\r\n\r\n  const selectedCity = citiesList.find(city => city.id === selectedCityId);\r\n\r\n  return (\r\n    <nav>\r\n      <DesctopMenu\r\n        selectedCity={selectedCity}\r\n        loading={loading}\r\n        fetchCities={fetchCities}\r\n        setModal={setModal}\r\n      />\r\n      <Mobile\r\n        selectedCity={selectedCity}\r\n        loading={loading}\r\n        fetchCities={fetchCities}\r\n        setModal={setModal}\r\n      />\r\n    </nav>\r\n  );\r\n}\r\n\r\nMenu.propTypes = {\r\n  fetchCities: PropTypes.func.isRequired,\r\n  setModal: PropTypes.func.isRequired,\r\n  selectedCityId: PropTypes.number.isRequired,\r\n  citiesList: PropTypes.array.isRequired,\r\n  loading: PropTypes.bool.isRequired,\r\n};\r\n\r\nconst mapStateToProps = ({ cities: { selectedCity, data, loading } }) => ({\r\n  selectedCityId: selectedCity,\r\n  citiesList: data,\r\n  loading,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  fetchCities,\r\n  setModal,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);\r\n","import {\r\n  CHANGE_COORDINATES,\r\n  SET_ZOOM,\r\n  INCREMENT_ZOOM,\r\n  DECREMENT_ZOOM,\r\n} from '../actions/map';\r\n\r\nexport const changeCoordinates = (lat, lng) => ({ type: CHANGE_COORDINATES, lat, lng });\r\nexport const changeZoom = zoom => ({ type: SET_ZOOM, zoom });\r\nexport const incrementZoom = () => ({ type: INCREMENT_ZOOM });\r\nexport const decrementZoom = () => ({ type: DECREMENT_ZOOM });\r\n","export const CHANGE_COORDINATES = 'CHANGE_COORDINATES';\r\nexport const SET_ZOOM = 'SET_ZOOM';\r\nexport const INCREMENT_ZOOM = 'INCREMENT_ZOOM';\r\nexport const DECREMENT_ZOOM = 'DECREMENT_ZOOM';\r\n","import {\r\n  OPEN_INCIDENT,\r\n  CLOSE_INCIDENT,\r\n} from '../actions/incident';\r\n\r\nexport const openIncident = incident => ({ type: OPEN_INCIDENT, incident });\r\nexport const closeIncident = () => ({ type: CLOSE_INCIDENT });\r\n","export const OPEN_INCIDENT = 'OPEN_INCIDENT';\r\nexport const CLOSE_INCIDENT = 'CLOSE_INCIDENT';\r\n","export const CAR_THEFT = 0;\r\nexport const FIRE = 1;\r\nexport const ACCIDENT = 2;\r\nexport const ANIMAL = 3;\r\nexport const VIOLENCE = 4;\r\nexport const BAD_SERVICES = 5;\r\nexport const DEATH = 6;\r\nexport const DTP = 7;\r\nexport const LOST_MAN = 8;\r\nexport const PROTEST = 9;\r\nexport const THEFT = 10;\r\n\r\nexport const incidents = [\r\n  { type: PROTEST,      name: 'Акция протеста' },\r\n  { type: DTP,          name: 'ДТП' },\r\n  { type: ANIMAL,       name: 'Животные' },\r\n  { type: THEFT,        name: 'Кража' },\r\n  { type: VIOLENCE,     name: 'Насилие' },\r\n  { type: ACCIDENT,     name: 'Несчастный случай' },\r\n  { type: CAR_THEFT,    name: 'Угон' },\r\n  { type: FIRE,         name: 'Пожар' },\r\n  { type: BAD_SERVICES, name: 'Плохие услуги' },\r\n  { type: LOST_MAN,     name: 'Пропал человек' },\r\n  { type: DEATH,        name: 'Смерть' },\r\n];\r\n","import L from 'leaflet';\r\nimport userIcon from '../../images/pins/user.svg';\r\nimport carTheftIcon from '../../images/pins/car_theft.svg';\r\nimport fireIcon from '../../images/pins/fire.svg';\r\nimport accidentIcon from '../../images/pins/accident.svg';\r\nimport animalIcon from '../../images/pins/animal.svg';\r\nimport violenceIcon from '../../images/pins/violence.svg';\r\nimport badServicesIcon from '../../images/pins/bad_services.svg';\r\nimport deathIcon from '../../images/pins/death.svg';\r\nimport dtpIcon from '../../images/pins/dtp.svg';\r\nimport lostManIcon from '../../images/pins/lost_man.svg';\r\nimport protestIcon from '../../images/pins/protest.svg';\r\nimport theftIcon from '../../images/pins/theft.svg';\r\nimport {\r\n  CAR_THEFT,\r\n  FIRE,\r\n  ACCIDENT,\r\n  ANIMAL,\r\n  VIOLENCE,\r\n  BAD_SERVICES,\r\n  DEATH,\r\n  DTP,\r\n  LOST_MAN,\r\n  PROTEST,\r\n  THEFT,\r\n} from '../../constants/incidents';\r\n\r\nexport default function getIcon(type) {\r\n  let iconUrl;\r\n  switch (type) {\r\n    case CAR_THEFT:\r\n      iconUrl = carTheftIcon; break;\r\n    case FIRE:\r\n      iconUrl = fireIcon; break;\r\n    case ACCIDENT:\r\n      iconUrl = accidentIcon; break;\r\n    case ANIMAL:\r\n      iconUrl = animalIcon; break;\r\n    case VIOLENCE:\r\n      iconUrl = violenceIcon; break;\r\n    case BAD_SERVICES:\r\n      iconUrl = badServicesIcon; break;\r\n    case DEATH:\r\n      iconUrl = deathIcon; break;\r\n    case DTP:\r\n      iconUrl = dtpIcon; break;\r\n    case LOST_MAN:\r\n      iconUrl = lostManIcon; break;\r\n    case PROTEST:\r\n      iconUrl = protestIcon; break;\r\n    case THEFT:\r\n      iconUrl = theftIcon; break;\r\n    default:\r\n      iconUrl = userIcon;\r\n  }\r\n\r\n  return new L.Icon({\r\n    iconUrl,\r\n    iconSize: new L.Point(40, 60),\r\n    iconAnchor: [20, 60]\r\n  });\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { Map as LeafletMap, TileLayer, Marker } from 'react-leaflet';\r\nimport ReactLeafletSearch from \"react-leaflet-search\";\r\nimport { changeCoordinates, changeZoom } from '../../store/AC/map';\r\nimport { openIncident } from '../../store/AC/incident';\r\nimport { MAX_ZOOM, MIN_ZOOM } from '../../constants/map';\r\nimport getIcon from './getIcon';\r\n\r\nfunction Map(props) {\r\n  const {\r\n    lat,\r\n    lng,\r\n    zoom,\r\n    geodata,\r\n    changeCoordinates,\r\n    changeZoom,\r\n    incidents,\r\n    openIncident,\r\n  } = props;\r\n\r\n  const handleDrag = ({ target }) => {\r\n    const { lat, lng } = target.getCenter();\r\n    changeCoordinates(lat, lng);\r\n  };\r\n\r\n  return (\r\n    <LeafletMap\r\n        center={[lat, lng]}\r\n        zoom={zoom}\r\n        maxZoom={MAX_ZOOM}\r\n        minZoom={MIN_ZOOM}\r\n        attributionControl={true}\r\n        zoomControl={false}\r\n        doubleClickZoom={true}\r\n        scrollWheelZoom={true}\r\n        dragging={true}\r\n        animate={true}\r\n        easeLinearity={0.35}\r\n        onDragEnd={handleDrag}\r\n        onZoomEnd={test => changeZoom(test.target.getZoom())}\r\n      >\r\n        <TileLayer\r\n          url='http://{s}.tile.osm.org/{z}/{x}/{y}.png'\r\n        />\r\n        {\r\n          geodata ?\r\n            <Marker\r\n              position={[geodata.coords.latitude, geodata.coords.longitude]}\r\n              icon={getIcon()}\r\n            >\r\n              \r\n            </Marker>\r\n            : null\r\n        }\r\n        {\r\n          incidents.map(\r\n            incident =>\r\n              <Marker\r\n                key={incident.id}\r\n                position={incident.coords}\r\n                icon={getIcon(incident.type)}\r\n                onClick={() => openIncident(incident)}\r\n              />\r\n          )\r\n        }\r\n        <ReactLeafletSearch position=\"topleft\" providerOptions={{}} />\r\n      </LeafletMap>\r\n  );\r\n}\r\n\r\nMap.propTypes = {\r\n  lat: PropTypes.number.isRequired,\r\n  lng: PropTypes.number.isRequired,\r\n  geodata: PropTypes.object,\r\n  changeCoordinates: PropTypes.func.isRequired,\r\n  zoom: PropTypes.number.isRequired,\r\n  changeZoom: PropTypes.func.isRequired,\r\n  incidents: PropTypes.array.isRequired,\r\n  openIncident: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = ({ map, geodata, incidents }) => ({\r\n  lat: map.lat,\r\n  lng: map.lng,\r\n  zoom: map.zoom,\r\n  geodata: geodata.geodata,\r\n  incidents: incidents.data,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  changeCoordinates,\r\n  changeZoom,\r\n  openIncident,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Map);\r\n","export const MAX_ZOOM = 17;\r\nexport const MIN_ZOOM = 5;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  title: {\r\n    position: 'relative',\r\n    backgroundColor: '#eee',\r\n    borderBottom: '1px solid #cecece',\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n  },\r\n  loadingText: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  rotate: {\r\n    animation: '$rotate 1s infinite',\r\n  },\r\n  '@keyframes rotate': {\r\n    '0%': {\r\n      transform: 'rotate(0deg)',\r\n    },\r\n    '100%': {\r\n      transform: 'rotate(-360deg)',\r\n    },\r\n  },\r\n  actions: {\r\n    backgroundColor: '#eee',\r\n    borderTop: '1px solid #cecece',\r\n  },\r\n}));\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect, batch } from 'react-redux';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  IconButton,\r\n  Typography,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemSecondaryAction,\r\n  Button,\r\n} from '@material-ui/core';\r\nimport {\r\n  Close as CloseIcon,\r\n  Loop as LoopIcon,\r\n  Check as CheckIcon,\r\n} from '@material-ui/icons';\r\nimport { setModal, changeCity } from '../../store/AC/cities';\r\nimport { changeCoordinates } from '../../store/AC/map';\r\nimport useStyles from './styles';\r\n\r\nfunction CitiesSelector(props) {\r\n  const [selectedCityId, setSelectedCityId] = useState(null);\r\n  const handleClick = id => {\r\n    const city = cities.find(city => city.id === id);\r\n    localStorage.setItem('selectedCity', id);\r\n    batch(() => {\r\n      changeCity(id);\r\n      setModal(false);\r\n      changeCoordinates(city.lat, city.lng);\r\n    });\r\n  };\r\n  const classes = useStyles();\r\n  const {\r\n    isOpen,\r\n    loading,\r\n    setModal,\r\n    cities,\r\n    changeCity,\r\n    changeCoordinates,\r\n  } = props;\r\n\r\n  return (\r\n    <Dialog\r\n      open={isOpen}\r\n      onClose={() => setModal(false)}\r\n      maxWidth=\"sm\"\r\n      fullWidth\r\n    >\r\n      <DialogTitle className={classes.title}>\r\n        Выберите город\r\n        <IconButton onClick={() => setModal(false)} className={classes.closeButton}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        {\r\n          loading && (\r\n            <Typography variant=\"h6\" color=\"textSecondary\" className={classes.loadingText}>\r\n              Загрузка списка городов\r\n              <LoopIcon className={classes.rotate} />\r\n            </Typography>\r\n          )\r\n        }\r\n        {\r\n          !loading && (\r\n            <List component=\"nav\">\r\n              {\r\n                cities.map(city =>\r\n                  <ListItem\r\n                    button\r\n                    key={city.id}\r\n                    selected={city.id === selectedCityId}\r\n                    onClick={() => setSelectedCityId(city.id)}\r\n                  >\r\n                    <ListItemText>{city.name}</ListItemText>\r\n                    {\r\n                      city.id === selectedCityId &&\r\n                        <ListItemSecondaryAction>\r\n                          <IconButton>\r\n                            <CheckIcon />\r\n                          </IconButton>\r\n                        </ListItemSecondaryAction>\r\n                    }\r\n                  </ListItem>\r\n                )\r\n              }\r\n            </List>\r\n          )\r\n        }\r\n      </DialogContent>\r\n      <DialogActions className={classes.actions}>\r\n        <Button onClick={() => handleClick(selectedCityId)} disabled={selectedCityId === null}>Подтвердить</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nCitiesSelector.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  cities: PropTypes.array.isRequired,\r\n  loading: PropTypes.bool.isRequired,\r\n  error: PropTypes.bool.isRequired,\r\n  setModal: PropTypes.func.isRequired,\r\n  changeCity: PropTypes.func.isRequired,\r\n  changeCoordinates: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = ({ cities: {\r\n  isSelectorOpen,\r\n  data,\r\n  loading,\r\n  error,\r\n}}) => ({\r\n  isOpen: isSelectorOpen,\r\n  cities: data,\r\n  loading,\r\n  error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  setModal,\r\n  changeCity,\r\n  changeCoordinates,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CitiesSelector);\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  titleContainer: {\r\n    position: 'relative',\r\n    backgroundColor: '#eee',\r\n    borderBottom: '1px solid #cecece',\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n  },\r\n  infoContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  date: {\r\n    color: '#aaa',\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      textDecoration: 'underline',\r\n    },\r\n  },\r\n  views: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    color: '#aaa',\r\n  },\r\n  viewsIcon: {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  sourcesContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  sourceBorder: {\r\n    marginBottom: theme.spacing(1),\r\n    borderBottom: '1px solid #cecece',\r\n  }\r\n}));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  IconButton,\r\n  Typography,\r\n  Link,\r\n  useTheme,\r\n  useMediaQuery,\r\n} from '@material-ui/core';\r\nimport {\r\n  Close as CloseIcon,\r\n  Visibility as VisibilityIcon,\r\n} from '@material-ui/icons';\r\nimport useStyles from './styles';\r\n\r\nfunction getDate(timestamp) {\r\n  const date = new Date(timestamp);\r\n  let day = date.getDate();\r\n  let month = date.getMonth() + 1;\r\n  const year = date.getFullYear();\r\n  let hours = date.getHours();\r\n  let minutes = date.getMinutes();\r\n\r\n  if (day < 10) day = '0' + day;\r\n  if (month < 10) month = '0' + month;\r\n  if (hours < 10) hours = '0' + hours;\r\n  if (minutes < 10) minutes = '0' + minutes;\r\n\r\n  return `${hours}:${minutes} ${day}.${month}.${year}`;\r\n}\r\n\r\nfunction Incident(props) {\r\n  const {\r\n    close,\r\n    incident: {\r\n      title,\r\n      text,\r\n      date: timestamp,\r\n      views,\r\n      sources,\r\n    },\r\n  } = props;\r\n\r\n  const classes = useStyles();\r\n  const date = getDate(timestamp);\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n  return (\r\n    <Dialog\r\n      open\r\n      onClose={close}\r\n      maxWidth=\"md\"\r\n      fullWidth\r\n      fullScreen={fullScreen}\r\n    >\r\n      <DialogTitle className={classes.titleContainer}>\r\n        {title}\r\n        <IconButton onClick={close} className={classes.closeButton}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </DialogTitle>\r\n\r\n      <DialogContent>\r\n        <div className={classes.infoContainer}>\r\n          <Typography variant=\"body1\" className={classes.date}>{date}</Typography>\r\n          <Typography variant=\"body1\" className={classes.views}>{views} <VisibilityIcon className={classes.viewsIcon} /></Typography>\r\n        </div>\r\n        <Typography variant=\"body1\">{text}</Typography>\r\n        <div className={classes.sourcesContainer}>\r\n          <Typography variant=\"h6\">Источники:</Typography>\r\n          <div className={classes.sourceBorder} />\r\n          {\r\n            sources.map((source, i) => <Link key={i} href={source.link}>{source.name}</Link>)\r\n          }\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nIncident.propTypes = {\r\n  incident: PropTypes.shape({\r\n    id: PropTypes.number.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    text: PropTypes.string.isRequired,\r\n    type: PropTypes.number.isRequired,\r\n    views: PropTypes.number.isRequired,\r\n    date: PropTypes.number.isRequired,\r\n    city: PropTypes.string.isRequired,\r\n    coords: PropTypes.array.isRequired,\r\n    media: PropTypes.array.isRequired,\r\n    sources: PropTypes.array.isRequired,\r\n  }).isRequired,\r\n  close: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Incident;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    height: '100%'\r\n  },\r\n  buttonUserPosition: {\r\n    position: 'absolute',\r\n    bottom: theme.spacing(1),\r\n    right: theme.spacing(1),\r\n    zIndex: 1000,\r\n  },\r\n  zoomButtonsContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    position: 'absolute',\r\n    top: theme.spacing(1),\r\n    right: theme.spacing(1),\r\n    zIndex: 1000,\r\n  },\r\n  buttonZoomOut: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  [theme.breakpoints.up('md')]: {\r\n    buttonUserPosition: {\r\n      bottom: theme.spacing(3),\r\n      right: theme.spacing(3),\r\n    },\r\n    zoomButtonsContainer: {\r\n      top: theme.spacing(3),\r\n      right: theme.spacing(3),\r\n    },\r\n    buttonZoomOut: {\r\n      marginTop: theme.spacing(1),\r\n    },\r\n  },\r\n}));\r\n","import {\r\n  FETCH_ALL_INCIDENTS,\r\n  FETCH_INCIDENT,\r\n  SET_LOADING,\r\n  SET_ERROR,\r\n  SET_INCIDENTS,\r\n} from '../actions/incidents';\r\n\r\nexport const fetchAllIncidents = id => ({ type: FETCH_ALL_INCIDENTS, id });\r\nexport const fetchIncident = id => ({ type: FETCH_INCIDENT, id });\r\nexport const setLoading = value => ({ type: SET_LOADING, value });\r\nexport const setError = error => ({ type: SET_ERROR, error });\r\nexport const setIncidents = incidents => ({ type: SET_INCIDENTS, incidents })","export const FETCH_ALL_INCIDENTS = 'FETCH_ALL_INCIDENTS';\r\nexport const FETCH_INCIDENT = 'FETCH_INCIDENT';\r\nexport const SET_LOADING = 'SET_LOADING';\r\nexport const SET_ERROR = 'SET_ERROR';\r\nexport const SET_INCIDENTS = 'SET_INCIDENTS';\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect, batch } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport {\r\n  Fab,\r\n  ButtonGroup,\r\n  Button,\r\n} from '@material-ui/core';\r\nimport {\r\n  NearMe as NearMeIcon,\r\n  ZoomIn as ZoomInIcon,\r\n  ZoomOut as ZoomOutIcon,\r\n} from '@material-ui/icons';\r\nimport Menu from '../../components/Menu';\r\nimport Map from '../../components/Map';\r\nimport CitiesSelector from '../../components/CitiesSelector';\r\nimport Incident from '../../components/Incident';\r\nimport useStyles from './styles';\r\nimport {\r\n  changeCoordinates,\r\n  incrementZoom,\r\n  decrementZoom,\r\n  changeZoom,\r\n} from '../../store/AC/map';\r\nimport { fetchAllIncidents } from '../../store/AC/incidents';\r\nimport { closeIncident } from '../../store/AC/incident';\r\nimport { MAX_ZOOM, MIN_ZOOM } from '../../constants/map';\r\n\r\nfunction Main(props) {\r\n  const {\r\n    changeCoordinates,\r\n    geodata,\r\n    incrementZoom,\r\n    decrementZoom,\r\n    zoom,\r\n    fetchAllIncidents,\r\n    loading,\r\n    selectedCityid,\r\n    incident,\r\n    closeIncident,\r\n    changeZoom,\r\n  } = props;\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    if (loading) {\r\n      fetchAllIncidents(selectedCityid);\r\n    }\r\n  }, [loading, fetchAllIncidents, selectedCityid]);\r\n\r\n  const zoomIn = () => {\r\n    if (zoom === MAX_ZOOM) return;\r\n    incrementZoom();\r\n  };\r\n\r\n  const zoomOut = () => {\r\n    if (zoom === MIN_ZOOM) return;\r\n    decrementZoom();\r\n  };\r\n\r\n  const viewMe = () => batch(() => {\r\n    changeCoordinates(geodata.coords.latitude, geodata.coords.longitude);\r\n    changeZoom(16);\r\n  });\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Menu />\r\n      <Map />\r\n      <CitiesSelector />\r\n      <Fab\r\n        color=\"primary\"\r\n        size=\"large\"\r\n        className={classes.buttonUserPosition}\r\n        onClick={viewMe}\r\n        disabled={geodata === null}\r\n      >\r\n        <NearMeIcon />\r\n      </Fab>\r\n      <div className={classes.zoomButtonsContainer}>\r\n        <ButtonGroup orientation=\"vertical\">\r\n          <Button variant=\"contained\" onClick={zoomIn}>\r\n            <ZoomInIcon />\r\n          </Button>\r\n          <Button variant=\"contained\" onClick={zoomOut}>\r\n            <ZoomOutIcon />\r\n          </Button>\r\n        </ButtonGroup>\r\n      </div>\r\n      { incident && <Incident incident={incident} close={closeIncident} /> }\r\n    </div>\r\n  );\r\n}\r\n\r\nMain.propTypes = {\r\n  changeCoordinates: PropTypes.func.isRequired,\r\n  geodata:           PropTypes.object,\r\n  incrementZoom:     PropTypes.func.isRequired,\r\n  decrementZoom:     PropTypes.func.isRequired,\r\n  zoom:              PropTypes.number.isRequired,\r\n  fetchAllIncidents: PropTypes.func.isRequired,\r\n  loading:           PropTypes.bool.isRequired,\r\n  selectedCityid:    PropTypes.number.isRequired,\r\n  incident:          PropTypes.object,\r\n  closeIncident:     PropTypes.func.isRequired,\r\n  changeZoom:        PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = ({ geodata, map, incidents, cities, incident }) => ({\r\n  geodata:        geodata.geodata,\r\n  zoom:           map.zoom,\r\n  loading:        incidents.isLoading,\r\n  selectedCityid: cities.selectedCity,\r\n  incident,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  changeCoordinates,\r\n  incrementZoom,\r\n  decrementZoom,\r\n  fetchAllIncidents,\r\n  closeIncident,\r\n  changeZoom,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { BLUE_GRADIENT } from '../../constants/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    minHeight: '100%',\r\n    background: BLUE_GRADIENT,\r\n  },\r\n  logoContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingTop: theme.spacing(3),\r\n    color: '#fff',\r\n    textTransform: 'uppercase',\r\n  },\r\n  logo: {\r\n    marginLeft: theme.spacing(1),\r\n    height: 30,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.spacing(3),\r\n  },\r\n  title: {\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  form: {\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginTop: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  grayText: {\r\n    marginTop: theme.spacing(1),\r\n    textAlign: 'center',\r\n    color: '#999',\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  linkButton: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  underContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  backButton: {\r\n    color: '#fff',\r\n  },\r\n\r\n  [theme.breakpoints.up('sm')]: {\r\n    root: {\r\n      alignItems: 'center',\r\n    },\r\n    paper: {\r\n      marginTop: theme.spacing(10),\r\n      width: theme.breakpoints.width('sm'),\r\n    },\r\n    form: {\r\n      paddingLeft: theme.spacing(3),\r\n      paddingRight: theme.spacing(3),\r\n    },\r\n    underContainer: {\r\n      justifyContent: 'flex-end',\r\n      width: theme.breakpoints.width('sm'),\r\n    },\r\n  },\r\n}));\r\n","import { CHANGE_FIELD } from '../actions/forms';\r\n\r\nexport const changeField = (name, value) => ({ type: CHANGE_FIELD, name, value});\r\n","export const CHANGE_FIELD = 'CHANGE_FIELD';\r\n","import {\r\n  SIGN_UP_REQUEST,\r\n  SIGN_UP_SUCCESS,\r\n  SIGN_UP_FAIL,\r\n  SIGN_IN_REQUEST,\r\n  SIGN_IN_SUCCESS,\r\n  SIGN_IN_FAIL,\r\n  CHECK_USER_AUTH,\r\n} from '../actions/auth';\r\n\r\nexport const requestSignUp = () => ({ type: SIGN_UP_REQUEST });\r\nexport const signUpSuccess = data => ({ type: SIGN_UP_SUCCESS, data });\r\nexport const signUpFail = data => ({ type: SIGN_UP_FAIL, data });\r\n\r\nexport const signInRequest = () => ({ type: SIGN_IN_REQUEST });\r\nexport const signInSuccess = data => ({ type: SIGN_IN_SUCCESS, data });\r\nexport const signInFail = data => ({ type: SIGN_IN_FAIL, data });\r\n\r\nexport const checkUserAuth = () => ({ type: CHECK_USER_AUTH });\r\n","export const SIGN_UP_REQUEST = 'SIGN_UP_REQUEST';\r\nexport const SIGN_UP_SUCCESS = 'SIGN_UP_SUCCESS';\r\nexport const SIGN_UP_FAIL = 'SIGN_UP_FAIL';\r\n\r\nexport const SIGN_IN_REQUEST = 'SIGN_IN_REQUEST';\r\nexport const SIGN_IN_SUCCESS = 'SIGN_IN_SUCCESS';\r\nexport const SIGN_IN_FAIL = 'SIGN_IN_FAIL';\r\n\r\nexport const CHECK_USER_AUTH = 'CHECK_USER_AUTH';\r\n","export const NAME_TEMPLATE = /^\\s*([0-9a-zA-Zа-яА-Я]*)\\s*$/;\r\nexport const PASSWORD_TEMPLATE = /^\\s*([0-9a-zA-Z]*)\\s*$/;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect, batch } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport {\r\n  Paper,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Snackbar,\r\n} from '@material-ui/core';\r\nimport emailValidator from 'email-validator';\r\nimport useStyles from './styles';\r\nimport logo from '../../images/logo_dark.svg';\r\nimport { changeField } from '../../store/AC/forms';\r\nimport { signInRequest } from '../../store/AC/auth';\r\nimport { PASSWORD_TEMPLATE } from '../../constants/forms';\r\n\r\nfunction SignIn(props) {\r\n  const {\r\n    snackbar,\r\n    email,\r\n    emailError,\r\n    password,\r\n    passwordError,\r\n    isDisabled,\r\n    changeField,\r\n    signInRequest,\r\n    isAuth,\r\n  } = props;\r\n  const classes = useStyles();\r\n\r\n  const handleChange = ({ target }) => batch(() => {\r\n    changeField(target.name, target.value);\r\n    changeField(target.name + 'Error', '');\r\n  });\r\n\r\n  const handleClick = () => {\r\n    let emailError = '';\r\n    let passwordError = '';\r\n\r\n    if (!emailValidator.validate(email)) emailError = 'Введите корректный E-Mail.';\r\n    if (!password || password.length < 6 || password.length > 16) passwordError = 'Введите корректный пароль.';\r\n    if (!password.match(PASSWORD_TEMPLATE)) passwordError = 'Введите корректный пароль.';\r\n\r\n    if (emailError || passwordError) {\r\n      batch(() => {\r\n        changeField('signInEmailError', emailError);\r\n        changeField('signInPasswordError', passwordError);\r\n      });\r\n      return;\r\n    }\r\n\r\n    signInRequest();\r\n  };\r\n\r\n  return (\r\n    isAuth ? <Redirect to=\"/\" /> :\r\n    <div className={classes.root}>\r\n      <div className={classes.logoContainer}>\r\n        <Typography variant=\"h5\">Crime Maps</Typography>\r\n        <img src={logo} alt=\"\" className={classes.logo} />\r\n      </div>\r\n\r\n      <Paper className={classes.paper}>\r\n        <Typography variant=\"h6\" className={classes.title}>\r\n          Вход\r\n        </Typography>\r\n\r\n        <div className={classes.form}>\r\n          <TextField\r\n            name=\"signInEmail\"\r\n            value={email}\r\n            error={!!emailError}\r\n            helperText={emailError}\r\n            onChange={handleChange}\r\n            className={classes.textField}\r\n            label=\"E-Mail\"\r\n          />\r\n\r\n          <TextField\r\n            name=\"signInPassword\"\r\n            value={password}\r\n            error={!!passwordError}\r\n            helperText={passwordError}\r\n            type=\"password\"\r\n            onChange={handleChange}\r\n            className={classes.textField}\r\n            label=\"Пароль\"\r\n          />\r\n\r\n          <Button \r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n            size=\"large\"\r\n            className={classes.button}\r\n            fullWidth\r\n            onClick={handleClick}\r\n            disabled={isDisabled}\r\n          >\r\n            Войти\r\n          </Button>\r\n          <Typography variant=\"body2\" className={classes.grayText}>или</Typography>\r\n          <Link to='/sign-up' className={classes.link}>\r\n            <Button\r\n              color=\"secondary\"\r\n              variant=\"contained\"\r\n              className={classes.linkButton}\r\n              fullWidth\r\n            >\r\n              Зарегистрироваться\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </Paper>\r\n      <div className={classes.underContainer}>\r\n        <Link to=\"/\" className={classes.link}>\r\n          <Button className={classes.backButton}>\r\n            Назад на сайт\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n      <Snackbar\r\n        open={!!snackbar}\r\n        message={snackbar}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left',\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nSignIn.propTypes = {\r\n  snackbar:      PropTypes.string,\r\n  email:         PropTypes.string,\r\n  emailError:    PropTypes.string,\r\n  password:      PropTypes.string,\r\n  passwordError: PropTypes.string,\r\n  isDisabled:    PropTypes.bool,\r\n  isAuth:        PropTypes.bool.isRequired,\r\n  changeField:   PropTypes.func.isRequired,\r\n  signInRequest: PropTypes.func.isRequired,\r\n};\r\n\r\nSignIn.defaultProps = {\r\n  snackbar:      '',\r\n  email:         '',\r\n  emailError:    '',\r\n  password:      '',\r\n  passwordError: '',\r\n  isDisabled:    false,\r\n};\r\n\r\nconst mapStateToProps = ({ system, forms, user }) => ({\r\n  snackbar:      system.signInSnackbar,\r\n  redirect:      system.signInRedirectToMain,\r\n  email:         forms.signInEmail,\r\n  emailError:    forms.signInEmailError,\r\n  password:      forms.signInPassword,\r\n  passwordError: forms.signInPasswordError,\r\n  isDisabled:    forms.signInButtonDisabled,\r\n  isAuth:        user.isAuth,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  changeField,\r\n  signInRequest,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { ORANGE_GRADIENT } from '../../constants/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    minHeight: '100%',\r\n    background: ORANGE_GRADIENT,\r\n  },\r\n  logoContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingTop: theme.spacing(3),\r\n    color: '#fff',\r\n    textTransform: 'uppercase',\r\n  },\r\n  logo: {\r\n    marginLeft: theme.spacing(1),\r\n    height: 30,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.spacing(3),\r\n  },\r\n  title: {\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  form: {\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginTop: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  grayText: {\r\n    marginTop: theme.spacing(1),\r\n    textAlign: 'center',\r\n    color: '#999',\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  linkButton: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  underContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  backButton: {\r\n    color: '#fff',\r\n  },\r\n\r\n  [theme.breakpoints.up('sm')]: {\r\n    root: {\r\n      alignItems: 'center',\r\n    },\r\n    paper: {\r\n      marginTop: theme.spacing(10),\r\n      width: theme.breakpoints.width('sm'),\r\n    },\r\n    form: {\r\n      paddingLeft: theme.spacing(3),\r\n      paddingRight: theme.spacing(3),\r\n    },\r\n    underContainer: {\r\n      justifyContent: 'flex-end',\r\n      width: theme.breakpoints.width('sm'),\r\n    },\r\n  },\r\n}));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect, batch } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport {\r\n  Paper,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Snackbar,\r\n} from '@material-ui/core';\r\nimport emailValidator from 'email-validator';\r\nimport useStyles from './styles';\r\nimport logo from '../../images/logo_dark.svg';\r\nimport { requestSignUp } from '../../store/AC/auth';\r\nimport { changeField } from '../../store/AC/forms';\r\nimport { NAME_TEMPLATE, PASSWORD_TEMPLATE } from '../../constants/forms';\r\n\r\nfunction SignUp(props) {\r\n  const {\r\n    snackbar,\r\n    isButtonDisabled,\r\n    requestSignUp,\r\n    changeField,\r\n    name,\r\n    nameError,\r\n    email,\r\n    emailError,\r\n    password,\r\n    passwordError,\r\n    isAuth,\r\n  } = props;\r\n  const classes = useStyles();\r\n\r\n  const handleChange = ({ target }) => batch(() => {\r\n    changeField(target.name, target.value);\r\n    changeField(target.name + 'Error', '');\r\n  });\r\n\r\n  const handleClick = () => {\r\n    let nameError = '';\r\n    let emailError = '';\r\n    let passwordError = '';\r\n\r\n    if (!name || name.length < 6 || name.length > 16) nameError = 'Имя должно содержать от 6 до 16 символов.';\r\n    if (!name.match(NAME_TEMPLATE)) nameError = 'Допустимы только латинские и кириллические символы, а так же числа.';\r\n\r\n    if (!emailValidator.validate(email)) emailError = 'Введите корректный E-Mail.';\r\n\r\n    if (!password || password.length < 6 || password.length > 16) passwordError = 'Пароль должен содержать от 6 до 16 символов.';\r\n    if (!password.match(PASSWORD_TEMPLATE)) passwordError = 'Допустимы только латинские символы и числа.';\r\n\r\n    if (nameError || emailError || passwordError) {\r\n      batch(() => {\r\n        changeField('signUpNameError', nameError);\r\n        changeField('signUpEmailError', emailError);\r\n        changeField('signUpPasswordError', passwordError);\r\n      });\r\n      return;\r\n    }\r\n\r\n    requestSignUp({ name, email, password });\r\n  };\r\n\r\n  return (\r\n    isAuth ? <Redirect to=\"/\" /> :\r\n    <div className={classes.root}>\r\n      <div className={classes.logoContainer}>\r\n        <Typography variant=\"h5\">Crime Maps</Typography>\r\n        <img src={logo} alt=\"\" className={classes.logo} />\r\n      </div>\r\n\r\n      <Paper className={classes.paper}>\r\n        <Typography variant=\"h6\" className={classes.title}>\r\n          Регистрация\r\n        </Typography>\r\n        \r\n        <div className={classes.form}>\r\n          <TextField\r\n            name=\"signUpName\"\r\n            value={name}\r\n            onChange={handleChange}\r\n            error={!!nameError}\r\n            helperText={nameError}\r\n            className={classes.textField}\r\n            label=\"Имя на сайте\"\r\n          />\r\n\r\n          <TextField\r\n            name=\"signUpEmail\"\r\n            value={email}\r\n            onChange={handleChange}\r\n            error={!!emailError}\r\n            helperText={emailError}\r\n            className={classes.textField}\r\n            label=\"E-Mail\"\r\n          />\r\n\r\n          <TextField\r\n            name=\"signUpPassword\"\r\n            value={password}\r\n            type=\"password\"\r\n            onChange={handleChange}\r\n            error={!!passwordError}\r\n            helperText={passwordError}\r\n            className={classes.textField}\r\n            label=\"Пароль\"\r\n          />\r\n\r\n          <Button \r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n            size=\"large\"\r\n            className={classes.button}\r\n            fullWidth\r\n            onClick={handleClick}\r\n            disabled={isButtonDisabled}\r\n          >\r\n            Зарегистрироваться\r\n          </Button>\r\n          <Typography variant=\"body2\" className={classes.grayText}>Уже есть аккаунт?</Typography>\r\n          <Link to='/sign-in' className={classes.link}>\r\n            <Button\r\n              color=\"secondary\"\r\n              variant=\"contained\"\r\n              className={classes.linkButton}\r\n              fullWidth\r\n            >\r\n              Войти\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </Paper>\r\n\r\n      <div className={classes.underContainer}>\r\n        <Link to=\"/\" className={classes.link}>\r\n          <Button className={classes.backButton}>\r\n            Назад на сайт\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n\r\n      <Snackbar\r\n        open={!!snackbar}\r\n        message={snackbar}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left',\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nSignUp.propTypes = {\r\n  snackbar:         PropTypes.string,\r\n  requestSignUp:    PropTypes.func.isRequired,\r\n  changeField:      PropTypes.func.isRequired,\r\n  name:             PropTypes.string,\r\n  nameError:        PropTypes.string,\r\n  email:            PropTypes.string,\r\n  emailError:       PropTypes.string,\r\n  password:         PropTypes.string,\r\n  passwordError:    PropTypes.string,\r\n  isButtonDisabled: PropTypes.bool,\r\n  isAuth:           PropTypes.bool.isRequired,\r\n};\r\n\r\nSignUp.defaultProps = {\r\n  name:             '',\r\n  nameError:        '',\r\n  email:            '',\r\n  emailError:       '',\r\n  password:         '',\r\n  passwordError:    '',\r\n  isButtonDisabled: false,\r\n};\r\n\r\nconst mapStateToProps = ({ system, forms, user }) => ({\r\n  snackbar:         system.signUpSnackbar,\r\n  redirect:         system.signUpRedirectToSignIn,\r\n  name:             forms.signUpName,\r\n  nameError:        forms.signUpNameError,\r\n  email:            forms.signUpEmail,\r\n  emailError:       forms.signUpEmailError,\r\n  password:         forms.signUpPassword,\r\n  passwordError:    forms.signUpPasswordError,\r\n  isButtonDisabled: forms.signUpButtonDisabled,\r\n  isAuth:           user.isAuth,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  requestSignUp,\r\n  changeField,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { blue } from '@material-ui/core/colors';\r\n\r\nexport default makeStyles(theme => ({\r\n  container: {\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n  },\r\n  title: {\r\n    marginTop: theme.spacing(2),\r\n    color: blue[600],\r\n  },\r\n  firstExpansionPanel: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  formContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  [theme.breakpoints.up('md')]: {\r\n    formContainer: {\r\n      flexDirection: 'row',\r\n    },\r\n    field: {\r\n      width: '50%',\r\n    },\r\n    fieldPassword: {\r\n      marginLeft: theme.spacing(1),\r\n      width: '36%',\r\n      '&:first-child': {\r\n        marginLeft: 0,\r\n      }\r\n    },\r\n    button: {\r\n      alignSelf: 'flex-start',\r\n      marginLeft: 'auto',\r\n    },\r\n  },\r\n}));\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(1),\r\n    fontSize: 18,\r\n    color: '#fff',\r\n  },\r\n}));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { AppBar, Toolbar } from '@material-ui/core';\r\nimport useStyles from './styles';\r\n\r\nfunction Header(props) {\r\n  const classes = useStyles();\r\n  const { children } = props;\r\n  \r\n  return (\r\n    <AppBar\r\n      color=\"default\"\r\n      className={classes.root}\r\n      position=\"static\"\r\n    >\r\n      <Toolbar>\r\n        {children}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n\r\nHeader.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nHeader.defaultProps = {\r\n  children: null,\r\n};\r\n\r\nexport default Header;\r\n","import {\r\n  VALIDATE_NEW_NAME,\r\n  REQUEST_NEW_NAME,\r\n  SUCCESS_NEW_NAME,\r\n  FAIL_NEW_NAME,\r\n\r\n  VALIDATE_NEW_EMAIL,\r\n  REQUEST_NEW_EMAIL,\r\n  SUCCESS_NEW_EMAIL,\r\n  FAIL_NEW_EMAIL,\r\n\r\n  VALIDATE_NEW_PASSWORD,\r\n  REQUEST_NEW_PASSWORD,\r\n  SUCCESS_NEW_PASSWORD,\r\n  FAIL_NEW_PASSWORD,\r\n} from '../actions/settings';\r\n\r\nexport const validateNewName = () => ({ type: VALIDATE_NEW_NAME });\r\nexport const requestNewName = name => ({ type: REQUEST_NEW_NAME, name });\r\nexport const successNewName = name => ({ type: SUCCESS_NEW_NAME, name });\r\nexport const failNewName = message => ({ type: FAIL_NEW_NAME, message });\r\n\r\nexport const validateNewEmail = () => ({ type: VALIDATE_NEW_EMAIL });\r\nexport const requestNewEmail = email => ({ type: REQUEST_NEW_EMAIL, email });\r\nexport const successNewEmail = email => ({ type: SUCCESS_NEW_EMAIL, email });\r\nexport const failNewEmail = message => ({ type: FAIL_NEW_EMAIL, message });\r\n\r\nexport const validateNewPassword = () => ({ type: VALIDATE_NEW_PASSWORD });\r\nexport const requestNewPassword = (oldPassword, newPassword) => ({ type: REQUEST_NEW_PASSWORD, oldPassword, newPassword });\r\nexport const successNewPassword = () => ({ type: SUCCESS_NEW_PASSWORD });\r\nexport const failNewPassword = data => ({ type: FAIL_NEW_PASSWORD, data });\r\n","export const VALIDATE_NEW_NAME = 'VALIDATE_NEW_NAME';\r\nexport const REQUEST_NEW_NAME = 'REQUEST_NEW_NAME';\r\nexport const SUCCESS_NEW_NAME = 'SUCCESS_NEW_NAME';\r\nexport const FAIL_NEW_NAME = 'FAIL_NEW_NAME';\r\n\r\nexport const VALIDATE_NEW_EMAIL = 'VALIDATE_NEW_EMAIL';\r\nexport const REQUEST_NEW_EMAIL = 'REQUEST_NEW_EMAIL';\r\nexport const SUCCESS_NEW_EMAIL = 'SUCCESS_NEW_EMAIL';\r\nexport const FAIL_NEW_EMAIL = 'FAIL_NEW_EMAIL';\r\n\r\nexport const VALIDATE_NEW_PASSWORD = 'VALIDATE_NEW_PASSWORD';\r\nexport const REQUEST_NEW_PASSWORD = 'REQUEST_NEW_PASSWORD';\r\nexport const SUCCESS_NEW_PASSWORD = 'SUCCESS_NEW_PASSWORD';\r\nexport const FAIL_NEW_PASSWORD = 'FAIL_NEW_PASSWORD';\r\n","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  ExpansionPanel,\r\n  ExpansionPanelSummary,\r\n  ExpansionPanelDetails,\r\n  TextField,\r\n  Button,\r\n  Snackbar,\r\n} from '@material-ui/core';\r\nimport { ExpandMore as ExpandMoreIcon } from '@material-ui/icons';\r\nimport useStyles from './styles';\r\nimport Header from '../../components/Header';\r\nimport { changeField } from '../../store/AC/forms';\r\nimport {\r\n  validateNewName as validateName,\r\n  validateNewEmail as validateEmail,\r\n  validateNewPassword as validatePassword,\r\n} from '../../store/AC/settings';\r\n\r\nfunction Settings(props) {\r\n  const {\r\n    history,\r\n    name,\r\n    nameError,\r\n    email,\r\n    emailError,\r\n    oldPassword,\r\n    oldPasswordError,\r\n    newPassword,\r\n    newPasswordError,\r\n    isAuth,\r\n    isDisabledNameButton,\r\n    isDisabledEmailButton,\r\n    isDisabledPasswordButton,\r\n    changeField,\r\n    validateName,\r\n    validateEmail,\r\n    validatePassword,\r\n    snackbar,\r\n  } = props;\r\n  const classes = useStyles();\r\n\r\n  const handleChange = ({ target }) => {\r\n    changeField(target.name, target.value);\r\n    changeField(target.name + 'Error', '');\r\n  };\r\n\r\n  return (\r\n    !isAuth ? <Redirect to=\"/sign-in\" />:\r\n    <Fragment>\r\n      <Header\r\n        title=\"Настройки\"\r\n        goBack={history.goBack}\r\n      />\r\n      <Container maxWidth=\"sm\" className={classes.container}>\r\n        <Typography variant=\"body1\" className={classes.title}>Аккаунт</Typography>\r\n\r\n        <ExpansionPanel className={classes.firstExpansionPanel}>\r\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n            Изменить имя\r\n          </ExpansionPanelSummary>\r\n          <ExpansionPanelDetails>\r\n            <div className={classes.formContainer}>\r\n              <TextField\r\n                name=\"settingsName\"\r\n                onChange={handleChange}\r\n                value={name}\r\n                error={!!nameError}\r\n                helperText={nameError}\r\n                className={classes.field}\r\n                label=\"Введите новое имя\"\r\n              />\r\n              <Button\r\n                variant=\"contained\"\r\n                className={classes.button}\r\n                color=\"primary\"\r\n                disabled={isDisabledNameButton}\r\n                onClick={validateName}\r\n              >\r\n                Сохранить\r\n              </Button>\r\n            </div>\r\n          </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n\r\n        <ExpansionPanel>\r\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n            Изменить E-Mail\r\n          </ExpansionPanelSummary>\r\n          <ExpansionPanelDetails>\r\n            <div className={classes.formContainer}>\r\n              <TextField\r\n                name=\"settingsEmail\"\r\n                onChange={handleChange}\r\n                value={email}\r\n                error={!!emailError}\r\n                helperText={emailError}\r\n                className={classes.field}\r\n                label=\"Введите новый E-Mail\"\r\n              />\r\n              <Button\r\n                variant=\"contained\"\r\n                className={classes.button}\r\n                color=\"primary\"\r\n                onClick={validateEmail}\r\n                disabled={isDisabledEmailButton}\r\n              >\r\n                Сохранить\r\n              </Button>\r\n            </div>\r\n          </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n\r\n        <ExpansionPanel>\r\n          <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n            Изменить пароль\r\n          </ExpansionPanelSummary>\r\n          <ExpansionPanelDetails>\r\n            <div className={classes.formContainer}>\r\n              <TextField\r\n                name=\"settingsOldPassword\"\r\n                onChange={handleChange}\r\n                value={oldPassword}\r\n                error={!!oldPasswordError}\r\n                helperText={oldPasswordError}\r\n                className={classes.fieldPassword}\r\n                type=\"password\"\r\n                label=\"Введите старый пароль\"\r\n              />\r\n              <TextField\r\n                name=\"settingsNewPassword\"\r\n                onChange={handleChange}\r\n                value={newPassword}\r\n                error={!!newPasswordError}\r\n                helperText={newPasswordError}\r\n                className={classes.fieldPassword}\r\n                type=\"password\"\r\n                label=\"Введите новый пароль\"\r\n              />\r\n              <Button\r\n                variant=\"contained\"\r\n                className={classes.button}\r\n                color=\"primary\"\r\n                disabled={isDisabledPasswordButton}\r\n                onClick={validatePassword}\r\n              >\r\n                Сохранить\r\n              </Button>\r\n            </div>\r\n          </ExpansionPanelDetails>\r\n        </ExpansionPanel>\r\n      </Container>\r\n\r\n      <Snackbar\r\n        open={!!snackbar}\r\n        message={snackbar}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left',\r\n        }}\r\n      />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nSettings.propTypes = {\r\n  isAuth:                   PropTypes.bool.isRequired,\r\n  name:                     PropTypes.string,\r\n  nameError:                PropTypes.string,\r\n  email:                    PropTypes.string,\r\n  emailError:               PropTypes.string,\r\n  oldPassword:              PropTypes.string,\r\n  oldPasswordError:         PropTypes.string,\r\n  newPassword:              PropTypes.string,\r\n  newPasswordError:         PropTypes.string,\r\n  snackbar:                 PropTypes.string,\r\n  isDisabledNameButton:     PropTypes.bool,\r\n  isDisabledEmailButton:    PropTypes.bool,\r\n  isDisabledPasswordButton: PropTypes.bool,\r\n  changeField:              PropTypes.func.isRequired,\r\n  validateName:             PropTypes.func.isRequired,\r\n  validateEmail:            PropTypes.func.isRequired,\r\n  validatePassword:         PropTypes.func.isRequired,\r\n};\r\n\r\nSettings.defaultProps = {\r\n  name:                     '',\r\n  nameError:                '',\r\n  email:                    '',\r\n  emailError:               '',\r\n  oldPassword:              '',\r\n  oldPasswordError:         '',\r\n  newPassword:              '',\r\n  newPasswordError:         '',\r\n  snackbar:                 '',\r\n  isDisabledNameButton:     false,\r\n  isDisabledEmailButton:    false,\r\n  isDisabledPasswordButton: false,\r\n};\r\n\r\nconst mapStateToProps = ({ forms, user, system }) => ({\r\n  isAuth:                   user.isAuth,\r\n  snackbar:                 system.settingSnackbar,\r\n  name:                     forms.settingsName,\r\n  nameError:                forms.settingsNameError,\r\n  email:                    forms.settingsEmail,\r\n  emailError:               forms.settingsEmailError,\r\n  oldPassword:              forms.settingsOldPassword,\r\n  oldPasswordError:         forms.settingsOldPasswordError,\r\n  newPassword:              forms.settingsNewPassword,\r\n  newPasswordError:         forms.settingsNewPasswordError,\r\n  isDisabledNameButton:     forms.settingsNameButtonDisabled,\r\n  isDisabledEmailButton:    forms.settingsEmailButtonDisabled,\r\n  isDisabledPasswordButton: forms.settingsPasswordButtonDisabled,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  changeField,\r\n  validateName,\r\n  validateEmail,\r\n  validatePassword,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { WIDTH_PERSON_MENU } from '../../constants/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  drawer: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: WIDTH_PERSON_MENU,\r\n    },\r\n  },\r\n  drawerPaper: {\r\n    width: WIDTH_PERSON_MENU,\r\n  },\r\n  logo: {\r\n    width: 25,\r\n  },\r\n  logoTextContainer: {\r\n    marginLeft: theme.spacing(3),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  logoText: {\r\n    fontWeight: 'bold',\r\n  },\r\n}));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Drawer,\r\n  Divider,\r\n  Hidden,\r\n  Toolbar,\r\n  Typography,\r\n} from '@material-ui/core';\r\nimport useStyles from './styles';\r\nimport logo from '../../images/logo_dark.svg';\r\n\r\nfunction Menu(props) {\r\n  const {\r\n    isOpenMobile,\r\n    onClose,\r\n    children,\r\n  } = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <nav className={classes.drawer}>\r\n      <Hidden smUp implementation=\"css\">\r\n        <Drawer\r\n          variant=\"temporary\"\r\n          open={isOpenMobile}\r\n          onClose={onClose}\r\n          ModalProps={{\r\n            keepMounted: true,\r\n          }}\r\n          classes={{\r\n            paper: classes.drawerPaper,\r\n          }}\r\n        >\r\n          <Toolbar>\r\n            <img\r\n              alt=\"Logo\"\r\n              src={logo}\r\n              className={classes.logo}\r\n            />\r\n            <div className={classes.logoTextContainer}>\r\n              <Typography className={classes.logoText}>\r\n                CRIME\r\n              </Typography>\r\n              <Typography className={classes.logoText}>\r\n                MAPS\r\n              </Typography>\r\n            </div>\r\n          </Toolbar>\r\n          {children}\r\n        </Drawer>\r\n      </Hidden>\r\n      <Hidden xsDown implementation=\"css\">\r\n        <Drawer\r\n          classes={{\r\n            paper: classes.drawerPaper,\r\n          }}\r\n          variant=\"permanent\"\r\n          open\r\n        >\r\n          <Toolbar>\r\n            <img\r\n              alt=\"Logo\"\r\n              src={logo}\r\n              className={classes.logo}\r\n            />\r\n            <div className={classes.logoTextContainer}>\r\n              <Typography className={classes.logoText}>\r\n                CRIME\r\n              </Typography>\r\n              <Typography className={classes.logoText}>\r\n                MAPS\r\n              </Typography>\r\n            </div>\r\n          </Toolbar>\r\n          <Divider />\r\n          {children}\r\n        </Drawer>\r\n      </Hidden>\r\n    </nav>\r\n  );\r\n}\r\n\r\nMenu.propTypes = {\r\n  isOpenMobile: PropTypes.bool.isRequired,\r\n  onClose:      PropTypes.func.isRequired,\r\n  children:     PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Menu;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { WIDTH_PERSON_MENU } from '../../constants/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  linkMenu: {\r\n    color: theme.palette.text.primary,\r\n    textDecoration: 'none',\r\n  },\r\n  [theme.breakpoints.up('md')]: {\r\n    content: {\r\n      marginLeft: WIDTH_PERSON_MENU,\r\n    },\r\n  },\r\n}));\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  Divider,\r\n} from '@material-ui/core';\r\nimport {\r\n  Home as HomeIcon,\r\n  AddBox as AddBoxIcon,\r\n  Settings as SettingsIcon,\r\n  Forum as ForumIcon,\r\n  LocationCity as LocationCityIcom,\r\n  People as PeopleIcon,\r\n  Map as MapIcon,\r\n} from '@material-ui/icons';\r\nimport useStyles from './styles';\r\n\r\nexport function UserMenu () {\r\n  const classes = useStyles();\r\n  return (\r\n    <List>\r\n      <Link to=\"/\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <MapIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Карта</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n      <Divider />\r\n      <Link to=\"/cabinet\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <HomeIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Моя страница</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n      <Link to=\"/cabinet/gossip\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <ForumIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Слухи</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n      <Divider />\r\n      <Link to=\"/cabinet/settings\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <SettingsIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Настройки</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n    </List>\r\n  );\r\n};\r\n\r\nexport function ModeratorMenu() {\r\n  const classes = useStyles();\r\n  return (\r\n    <List>\r\n      <Link to=\"/\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <MapIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Карта</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n      <Link to=\"/cabinet\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <HomeIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Моя страница</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n      <Divider />\r\n      <Link to=\"/cabinet/news\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <AddBoxIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Новости</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n      <Link to=\"/cabinet/gossip\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <ForumIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Слухи</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n      <Divider />\r\n      <Link to=\"/cabinet/cities\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <LocationCityIcom />\r\n          </ListItemIcon>\r\n          <ListItemText>Города</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n      <Link to=\"/cabinet/users\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <PeopleIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Пользователи</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n      <Divider />\r\n      <Link to=\"/cabinet/settings\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <SettingsIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Настройки</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n    </List>\r\n  );\r\n};\r\n\r\n\r\nexport function AdminMenu () {\r\n  const classes = useStyles();\r\n  return (\r\n    <List>\r\n      <Link to=\"/\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <MapIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Карта</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n      <Link to=\"/cabinet\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <HomeIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Моя страница</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n      <Divider />\r\n      <Link to=\"/cabinet/news\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <AddBoxIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Новости</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n      <Link to=\"/cabinet/gossip\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <ForumIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Слухи</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n      <Divider />\r\n      <Link to=\"/cabinet/cities\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <LocationCityIcom />\r\n          </ListItemIcon>\r\n          <ListItemText>Города</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n      <Link to=\"/cabinet/users\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <PeopleIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Пользователи</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n      <Divider />\r\n      <Link to=\"/cabinet/settings\" className={classes.linkMenu}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <SettingsIcon />\r\n          </ListItemIcon>\r\n          <ListItemText>Настройки</ListItemText>\r\n        </ListItem>\r\n      </Link>\r\n    </List>\r\n  );\r\n};","export const ROLE_ADMIN = 0;\r\nexport const ROLE_MODERATOR = 1;\r\nexport const ROLE_USER = 2;","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    margin: theme.spacing(1),\r\n  },\r\n  avatar: {\r\n    marginTop: theme.spacing(1),\r\n    width: theme.spacing(16),\r\n    height: theme.spacing(16),\r\n  },\r\n  name: {\r\n    marginTop: theme.spacing(1),\r\n    fontSize: '2rem',\r\n  },\r\n  email: {\r\n    marginBottom: theme.spacing(1),\r\n    color: '#888',\r\n  },\r\n  [theme.breakpoints.up('md')]: {\r\n    paper: {\r\n      marginTop: theme.spacing(3),\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      width: theme.breakpoints.values.sm,\r\n    },\r\n  },\r\n}));\r\n","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Paper,\r\n  Typography,\r\n  Avatar,\r\n} from '@material-ui/core';\r\nimport Header from '../../../components/Header';\r\nimport useStyles from './styles';\r\nimport avatar from '../../../images/default_avatar.png';\r\n\r\nfunction Profile(props) {\r\n  const classes = useStyles();\r\n  const {\r\n    name,\r\n    email,\r\n  } = props;\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header>\r\n        <Typography variant=\"subtitle1\">Личный кабинет</Typography>\r\n      </Header>\r\n      <Paper className={classes.paper}>\r\n        <Avatar alt=\"Avatar\" src={avatar} className={classes.avatar} />\r\n        <Typography className={classes.name}>{name}</Typography>\r\n        <Typography className={classes.email}>{email}</Typography>\r\n      </Paper>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nProfile.propTypes = {\r\n  name:  PropTypes.string,\r\n  email: PropTypes.string,\r\n};\r\n\r\nProfile.defaultProps = {\r\n  name:  '',\r\n  email: '',\r\n};\r\n\r\nconst mapStateToProps = ({ user }) => ({\r\n  name:  user.name,\r\n  email: user.email,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Profile);","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    margin: theme.spacing(3),\r\n  },\r\n  addButton: {\r\n    marginLeft: 'auto',\r\n  },\r\n  loadingText: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  rotate: {\r\n    marginLeft: theme.spacing(1),\r\n    animation: '$rotate 1s infinite',\r\n  },\r\n  '@keyframes rotate': {\r\n    '0%': {\r\n      transform: 'rotate(0deg)',\r\n    },\r\n    '100%': {\r\n      transform: 'rotate(-360deg)',\r\n    },\r\n  },\r\n}));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction List() {\r\n  return (\r\n    <h3>Тут будет история новостей</h3>\r\n  );\r\n}\r\n\r\nList.propTypes = {\r\n  news: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default List;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  titleContainer: {\r\n    position: 'relative',\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n  },\r\n  buttonsContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    width: '100%',\r\n  },\r\n\r\n  /* Info */\r\n  textField: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  dateContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n  },\r\n\r\n  /* Position */\r\n  positionSearch: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n  },\r\n  streetField: {\r\n    flexGrow: 3,\r\n  },\r\n  homeField: {\r\n    marginLeft: theme.spacing(1),\r\n    flexGrow: 1,\r\n  },\r\n  mapContainer: {\r\n    marginTop: theme.spacing(1),\r\n    height: 400,\r\n  },\r\n\r\n  /* Source */\r\n  sourceForm: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  sourceName: {\r\n    flexGrow: 3,\r\n  },\r\n  sourceLink: {\r\n    marginLeft: theme.spacing(3),\r\n    flexGrow: 3,\r\n  },\r\n  sourceButton: {\r\n    marginLeft: theme.spacing(3),\r\n    flexGrow: 1,\r\n  },\r\n  sourceChip: {\r\n    marginLeft: theme.spacing(1),\r\n    marginTop: theme.spacing(1),\r\n  },\r\n}));\r\n","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {\r\n  Divider,\r\n  TextField,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n} from '@material-ui/core';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardTimePicker,\r\n  KeyboardDatePicker,\r\n} from '@material-ui/pickers';\r\nimport { changeField } from '../../../../store/AC/forms';\r\nimport { incidents } from '../../../../constants/incidents';\r\nimport useStyles from './styles';\r\n\r\n\r\nfunction Info(props) {\r\n  const {\r\n    title,\r\n    text,\r\n    city,\r\n    type,\r\n    date,\r\n    time,\r\n    selectedCityId,\r\n    cities,\r\n    changeField,\r\n  } = props;\r\n  const classes = useStyles();\r\n\r\n  const handleChange = ({ target }) => {\r\n    changeField(target.name, target.value);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Divider />\r\n      <TextField\r\n        label=\"Заголовок\"\r\n        value={title}\r\n        onChange={handleChange}\r\n        name=\"createNewsTitle\"\r\n        fullWidth\r\n        className={classes.textField}\r\n      />\r\n\r\n      <TextField\r\n        label=\"Текст\"\r\n        value={text}\r\n        onChange={handleChange}\r\n        name=\"createNewsText\"\r\n        fullWidth\r\n        className={classes.textField}\r\n        multiline\r\n        rows={2}\r\n        rowsMax={7}\r\n        variant=\"outlined\"\r\n      />\r\n\r\n      <FormControl fullWidth className={classes.textField}>\r\n        <InputLabel id=\"city\">\r\n          Укажите город\r\n        </InputLabel>\r\n        <Select\r\n          defaultValue={selectedCityId}\r\n          value={city}\r\n          labelId=\"city\"\r\n          name=\"createNewsCity\"\r\n          onChange={handleChange}\r\n        >\r\n          {\r\n            cities.map(city => <MenuItem key={city.id} value={city.id}>{city.name}</MenuItem>)\r\n          }\r\n        </Select>\r\n      </FormControl>\r\n\r\n      <FormControl fullWidth className={classes.textField}>\r\n        <InputLabel id=\"type\">\r\n          Укажите тип происшествия\r\n        </InputLabel>\r\n        <Select\r\n          value={type}\r\n          labelId=\"type\"\r\n          name=\"createNewsType\"\r\n          onChange={handleChange}\r\n        >\r\n          {\r\n            incidents.map(\r\n              incident =>\r\n                <MenuItem key={incident.type} value={incident.type}>{incident.name}</MenuItem>\r\n            )\r\n          }\r\n        </Select>\r\n      </FormControl>\r\n\r\n      <div className={classes.dateContainer}>\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n          <KeyboardDatePicker\r\n            disableToolbar\r\n            variant=\"inline\"\r\n            format=\"dd/MM/yyyy\"\r\n            margin=\"normal\"\r\n            id=\"date\"\r\n            label=\"Дата\"\r\n            value={date}\r\n            onChange={e => changeField('createNewsDate', +e)}\r\n            KeyboardButtonProps={{\r\n              'aria-label': 'change date',\r\n            }}\r\n          />\r\n          <KeyboardTimePicker\r\n            margin=\"normal\"\r\n            id=\"time\"\r\n            label=\"Время\"\r\n            value={time}\r\n            onChange={e => changeField('createNewsTime', +e)}\r\n            KeyboardButtonProps={{\r\n              'aria-label': 'change time',\r\n            }}\r\n            ampm={false}\r\n          />\r\n        </MuiPickersUtilsProvider>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nInfo.propTypes = {\r\n  title:          PropTypes.string,\r\n  text:           PropTypes.string,\r\n  city:           PropTypes.any,\r\n  type:           PropTypes.any,\r\n  date:           PropTypes.number,\r\n  time:           PropTypes.number,\r\n  selectedCityId: PropTypes.number.isRequired,\r\n  cities:         PropTypes.array.isRequired,\r\n  changeField:    PropTypes.func.isRequired,\r\n};\r\n\r\nInfo.defaultProps = {\r\n  title: '',\r\n  text:  '',\r\n  city:  '',\r\n  type:  '',\r\n  date:  Date.now(),\r\n  time:  Date.now(),\r\n};\r\n\r\nconst mapStateToProps = ({ forms, cities }) => ({\r\n  title:          forms.createNewsTitle,\r\n  text:           forms.createNewsText,\r\n  city:           forms.createNewsCity,\r\n  type:           forms.createNewsType,\r\n  date:           forms.createNewsDate,\r\n  time:           forms.createNewsTime,\r\n  selectedCityId: cities.selectedCity,\r\n  cities:         cities.data,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  changeField,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Info);","import React from 'react';\r\n\r\nfunction Media() {\r\n  return (\r\n    <h1>Загрузка медафайлов</h1>\r\n  );\r\n}\r\n\r\nexport default Media;\r\n","import React, { Fragment } from 'react';\r\nimport { TextField } from '@material-ui/core';\r\nimport Map from '../../../../components/Map';\r\nimport useStyles from './styles';\r\n\r\nfunction Position() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className={classes.positionSearch}>\r\n        <TextField\r\n          variant=\"outlined\"\r\n          label=\"Улица\"\r\n          className={classes.streetField}\r\n        />\r\n        <TextField\r\n          variant=\"outlined\"\r\n          label=\"Дом\"\r\n          className={classes.homeField}\r\n        />\r\n      </div>\r\n      <div className={classes.mapContainer}>\r\n        <Map />\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default Position;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { TextField, Button, Chip } from '@material-ui/core';\r\nimport { Eco as EcoIcon } from '@material-ui/icons';\r\nimport { changeField } from '../../../../store/AC/forms';\r\nimport useStyles from './styles';\r\n\r\nfunction Source(props) {\r\n  const classes = useStyles();\r\n  const { sources, changeField } = props;\r\n\r\n  const [state, setState] = useState({\r\n    name: '',\r\n    link: '',\r\n  });\r\n\r\n  const handleChange = ({ target }) => setState({ ...state, [target.name]: target.value });\r\n\r\n  const add = () => {\r\n    const { name, link } = state;\r\n    if (!name || !link) return false;\r\n\r\n    changeField('createNewsSources', [...sources, { name, link }]);\r\n\r\n    setState({ name: '', link: '' });\r\n  };\r\n\r\n  const deleteSource = sourceToDelete => {\r\n    const newSources = sources.filter(source => source.name !== sourceToDelete);\r\n    changeField('createNewsSources', newSources);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.chips}>\r\n        {\r\n          sources.map(\r\n            (source, i) =>\r\n              <Chip\r\n                key={i}\r\n                color=\"primary\"\r\n                onDelete={() => deleteSource(source.name)}\r\n                icon={<EcoIcon />}\r\n                label={source.name}\r\n                className={classes.sourceChip}\r\n              />\r\n          )\r\n        }\r\n      </div>\r\n\r\n      <div className={classes.sourceForm}>\r\n        <TextField\r\n          label=\"Название источника\"\r\n          className={classes.sourceName}\r\n          value={state.name}\r\n          name=\"name\"\r\n          onChange={handleChange}\r\n        />\r\n        <TextField\r\n          label=\"Ссылка\"\r\n          className={classes.sourceLink}\r\n          value={state.link}\r\n          name=\"link\"\r\n          onChange={handleChange}\r\n        />\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          className={classes.sourceButton}\r\n          size=\"small\"\r\n          onClick={add}\r\n        >\r\n          Добавить\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nSource.propTypes = {\r\n  sources: PropTypes.array,\r\n};\r\n\r\nSource.defaultProps = {\r\n  sources: [],\r\n}\r\n\r\nconst mapStateToProps = ({ forms }) => ({\r\n  sources: forms.createNewsSources,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  changeField,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Source);\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  IconButton,\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  Button,\r\n} from '@material-ui/core';\r\nimport { Close as CloseIcon } from '@material-ui/icons';\r\nimport useStyles from './styles';\r\n\r\nimport Info from './Info';\r\nimport Media from './Media';\r\nimport Position from './Position';\r\nimport Source from './Source';\r\n\r\nconst steps = ['Информация', 'Медиафайлы', 'Местоположение', 'Источники', 'Готово'];\r\n\r\nfunction getContent(activeStep) {\r\n  switch(activeStep) {\r\n    case 0:\r\n      return <Info />;\r\n    case 1:\r\n      return <Media />;\r\n    case 2:\r\n      return <Position />;\r\n    case 3:\r\n      return <Source />;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nfunction CreateNews(props) {\r\n  const { isOpen, onClose } = props;\r\n  const classes = useStyles();\r\n  const [activeStep, setActiveStep] = useState(3);\r\n\r\n  const done = () => {\r\n    onClose();\r\n    setActiveStep(0);\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={isOpen}\r\n      onClose={onClose}\r\n      maxWidth=\"md\"\r\n      fullWidth\r\n    >\r\n      <DialogTitle className={classes.titleContainer}>\r\n        Создание новости\r\n        <IconButton onClick={onClose} className={classes.closeButton}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </DialogTitle>\r\n\r\n      <DialogContent dividers>\r\n        <Stepper activeStep={activeStep} alternativeLabel>\r\n          {\r\n            steps.map((step, i) => (\r\n              <Step key={i}>\r\n                <StepLabel>{step}</StepLabel>\r\n              </Step>\r\n            ))\r\n          }\r\n        </Stepper>\r\n        <div>\r\n          {getContent(activeStep)}\r\n        </div>\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        {\r\n          activeStep !== steps.length - 1 &&\r\n          <div className={classes.buttonsContainer}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={() => setActiveStep(activeStep - 1)}\r\n              disabled={!activeStep}\r\n            >\r\n              Назад\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={() => setActiveStep(activeStep + 1)}\r\n            >\r\n              Далее\r\n            </Button>\r\n          </div>\r\n        }\r\n\r\n        {\r\n          activeStep === steps.length - 1 &&\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            onClick={done}\r\n          >\r\n            Завершить\r\n          </Button>\r\n        }\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nCreateNews.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CreateNews;\r\n","import React, { useEffect, Fragment, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport {\r\n  Typography,\r\n  Paper,\r\n  IconButton,\r\n} from '@material-ui/core';\r\nimport {\r\n  Add as AddIcon,\r\n  Loop as LoopIcon,\r\n} from '@material-ui/icons';\r\nimport Header from '../../../components/Header';\r\nimport useStyles from './styles';\r\nimport { changeField } from '../../../store/AC/forms';\r\nimport { fetchAllIncidents } from '../../../store/AC/incidents';\r\n\r\nimport List from './List';\r\nimport CreateNews from './CreateNews';\r\n\r\nfunction News(props) {\r\n  const {\r\n    isLoading,\r\n    fetchAllIncidents,\r\n    selectedCityId,\r\n    news,\r\n  } = props;\r\n  const classes = useStyles();\r\n\r\n  const [isOpen, setOpen] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      fetchAllIncidents(selectedCityId);\r\n    }\r\n  }, [isLoading, fetchAllIncidents, selectedCityId]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header>\r\n        <Typography variant=\"subtitle1\">Новости</Typography>\r\n        <IconButton color=\"primary\" className={classes.addButton} onClick={() => setOpen(true)}>\r\n          <AddIcon />\r\n        </IconButton>\r\n      </Header>\r\n      <Paper className={classes.paper}>\r\n        {\r\n          isLoading &&\r\n            <Typography variant=\"h6\" color=\"textSecondary\" className={classes.loadingText}>\r\n              Загрузка списка новостей\r\n              <LoopIcon className={classes.rotate} />\r\n            </Typography>\r\n        }\r\n        {\r\n          !isLoading && news.lenght === 0 && \r\n            <Typography variant=\"h6\" color=\"textSecondary\" className={classes.loadingText}>\r\n              Список новостей пуст\r\n            </Typography>\r\n        }\r\n        { !isLoading && news.length > 0 && <List news={news} />}\r\n      </Paper>\r\n      <CreateNews\r\n        isOpen={isOpen}\r\n        onClose={() => setOpen(false)}\r\n      />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nNews.propTypes = {\r\n  isLoading:         PropTypes.bool.isRequired,\r\n  news:              PropTypes.array.isRequired,\r\n  selectedCityId:    PropTypes.number.isRequired,\r\n  fetchAllIncidents: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = ({ incidents, cities }) => ({\r\n  isLoading:      incidents.isLoading,\r\n  news:           incidents.data,\r\n  selectedCityId: cities.selectedCity, \r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  changeField,\r\n  fetchAllIncidents,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(News);\r\n","import React, { Fragment, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport Menu from '../../components/ResponsiveMenu';\r\nimport { UserMenu, ModeratorMenu, AdminMenu } from './getMenu';\r\nimport { ROLE_ADMIN, ROLE_MODERATOR, ROLE_USER } from '../../constants/user';\r\nimport useStyles from './styles';\r\n\r\nimport Profile from './Profile';\r\nimport News from './News';\r\n\r\nfunction Cabinet(props) {\r\n  const { role } = props;\r\n  const [isOpen, setOpen] = useState(false);\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Fragment>\r\n      <Menu\r\n        isOpenMobile={isOpen}\r\n        onClose={() => setOpen(false)}\r\n      >\r\n        {role === ROLE_ADMIN && <AdminMenu />}\r\n        {role === ROLE_MODERATOR && <ModeratorMenu />}\r\n        {role === ROLE_USER && <UserMenu />}\r\n      </Menu>\r\n      <div className={classes.content}>\r\n        <Switch>\r\n          <Route path=\"/cabinet\" exact component={Profile} />\r\n          <Route path=\"/cabinet/news\" component={News} />\r\n        </Switch>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nCabinet.propTypes = {\r\n  role: PropTypes.number,\r\n};\r\n\r\nCabinet.defaultProps = {\r\n  role: ROLE_USER,\r\n};\r\n\r\nconst mapStateToProps = ({ user }) => ({\r\n  role: user.role,\r\n}); \r\n\r\nexport default connect(mapStateToProps)(Cabinet);\r\n\r\n/* import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport {\r\n  List,\r\n  IconButton,\r\n  Toolbar,\r\n} from '@material-ui/core';\r\nimport {\r\n  Menu as MenuIcon,\r\n} from '@material-ui/icons';\r\nimport Header from '../../components/Header';\r\nimport Menu from '../../components/ResponsiveMenu';\r\nimport useStyles from './styles';\r\nimport {\r\n  ROLE_ADMIN,\r\n  ROLE_MODERATOR,\r\n  ROLE_USER,\r\n} from '../../constants/user';\r\nimport {\r\n  UserMenu,\r\n  ModeratorMenu,\r\n  AdminMenu,\r\n} from './getMenu';\r\nimport Profile from './Profile';\r\nimport CreateNews from './CreateNews';\r\n\r\nfunction Cabinet(props) {\r\n  const classes = useStyles();\r\n  const [isOpen, setOpen] = useState(false);\r\n  \r\n  const {\r\n    role,\r\n  } = props;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Header\r\n        title=\"Личный кабинет\"\r\n        className={classes.appBar}\r\n        leftContent={\r\n          <IconButton\r\n            className={classes.mobileMenuButton}\r\n            color=\"inherit\"\r\n            onClick={() => setOpen(true)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n        }\r\n        position=\"fixed\"\r\n      />\r\n      <Menu\r\n        isOpenMobile={isOpen}\r\n        onClose={() => setOpen(false)}\r\n        toolbar\r\n      >\r\n        <List component=\"nav\" aria-label=\"user menu actions\">\r\n          {role === ROLE_ADMIN && <AdminMenu />}\r\n          {role === ROLE_MODERATOR && <ModeratorMenu />}\r\n          {role === ROLE_USER && <UserMenu />}\r\n        </List>\r\n      </Menu>\r\n      <main className={classes.content}>\r\n        <Toolbar />\r\n        \r\n        <Switch>\r\n          <Route path=\"/cabinet\" exact component={Profile} />\r\n          <Route path=\"/cabinet/create-news\" component={CreateNews} />\r\n        </Switch>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nCabinet.propTypes = {\r\n  role: PropTypes.number,\r\n};\r\n\r\nCabinet.defaultProps = {\r\n  role: ROLE_USER,\r\n};\r\n\r\nconst mapStateToProps = ({ user }) => ({\r\n  role: user.role,\r\n}); \r\n\r\nexport default connect(mapStateToProps)(Cabinet);\r\n */","import { SET_LOCATION, SET_LOCATION_ERROR } from '../actions/geodata';\r\n\r\nexport const setLocation = data => ({ type: SET_LOCATION, data });\r\nexport const setLocationError = error => ({ type: SET_LOCATION_ERROR, error });\r\n","export const SET_LOCATION = 'SET_LOCATION';\r\nexport const SET_LOCATION_ERROR = 'SET_LOCATION_ERROR';\r\n","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { CssBaseline } from '@material-ui/core';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport cookie from 'js-cookie';\r\nimport Main from '../Main';\r\nimport SignIn from '../SignIn';\r\nimport SignUp from '../SignUp';\r\nimport Settings from '../Settings';\r\nimport Cabinet from '../Cabinet';\r\nimport { setLocation, setLocationError } from '../../store/AC/geodata';\r\nimport { checkUserAuth } from '../../store/AC/auth';\r\n\r\nfunction App(props) {\r\n  const {\r\n    setLocation,\r\n    setLocationError,\r\n    checkUserAuth,\r\n  } = props;\r\n\r\n  const token = cookie.get('token');\r\n  if (token) {\r\n    checkUserAuth();\r\n  }\r\n  \r\n  navigator.geolocation.getCurrentPosition(setLocation, setLocationError);\r\n  \r\n  return (\r\n    <Fragment>\r\n      <CssBaseline />\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Main} />\r\n        <Route path=\"/sign-in\" component={SignIn} />\r\n        <Route path=\"/sign-up\" component={SignUp} />\r\n        <Route path=\"/settings\" component={Settings} />\r\n        <Route path=\"/cabinet\" component={Cabinet} />\r\n      </Switch>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nApp.propTypes = {\r\n  setLocation:      PropTypes.func.isRequired,\r\n  setLocationError: PropTypes.func.isRequired,\r\n  checkUserAuth:    PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  setLocation,\r\n  setLocationError,\r\n  checkUserAuth,\r\n}, dispatch);\r\n\r\nexport default connect(null, mapDispatchToProps)(App);\r\n","import { CHANGE_SYSTEM_FIELD } from '../actions/system';\r\n\r\nconst initialState = {\r\n\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch(action.type) {\r\n    case CHANGE_SYSTEM_FIELD:\r\n      return { ...state, [action.name]: action.value };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { CHANGE_FIELD } from '../actions/forms';\r\n\r\nconst initialState = {};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case CHANGE_FIELD:\r\n      return { ...state, [action.name]: action.value };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ADD,\r\n  MODAL,\r\n  ERROR,\r\n  LOADING,\r\n  CHANGE_SELECTED_CITY,\r\n} from '../actions/cities';\r\n\r\nconst initialState = {\r\n  data: JSON.parse(localStorage.getItem('citiesList')) || [{ _id: '5e8f0f4f8883b725cc275bad', id: 1, title: 'novosibirsk', name: 'Новосибирск', lat: 55.0415, lng: 82.9346 }],\r\n  isSelectorOpen: false,\r\n  error: false,\r\n  loading: true,\r\n  selectedCity: +localStorage.getItem('selectedCity') || 1,\r\n};\r\n\r\nfunction cities(state = initialState, action) {\r\n  switch(action.type) {\r\n    case ADD:\r\n      return {...state, data: action.cities};\r\n    case MODAL:\r\n      return {...state, isSelectorOpen: action.isOpen};\r\n    case ERROR:\r\n      return {...state, error: action.error};\r\n    case LOADING:\r\n      return {...state, loading: action.loading};\r\n    case CHANGE_SELECTED_CITY:\r\n      return {...state, selectedCity: action.id};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default cities;\r\n","import {\r\n  CHANGE_COORDINATES,\r\n  SET_ZOOM,\r\n  INCREMENT_ZOOM,\r\n  DECREMENT_ZOOM,\r\n} from '../actions/map';\r\n\r\nconst selectedCity = +JSON.parse(localStorage.getItem('selectedCity'));\r\nconst savedCities = JSON.parse(localStorage.getItem('citiesList'));\r\nlet lat;\r\nlet lng;\r\n\r\nif (selectedCity && savedCities) {\r\n  const city = savedCities.find(city => city.id === selectedCity);\r\n  lat = city.lat;\r\n  lng = city.lng;\r\n} else {\r\n  lat = 55.0415;\r\n  lng = 82.9346;\r\n}\r\n\r\nconst initialState = {\r\n  lat,\r\n  lng,\r\n  zoom: 13,\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch(action.type) {\r\n    case CHANGE_COORDINATES:\r\n      return { ...state, lat: action.lat, lng: action.lng };\r\n    case SET_ZOOM:\r\n      return { ...state, zoom: action.zoom };\r\n    case INCREMENT_ZOOM:\r\n      return { ...state, zoom: ++state.zoom };\r\n    case DECREMENT_ZOOM:\r\n      return { ...state, zoom: --state.zoom };\r\n    default:\r\n      return state;\r\n  }\r\n}","import { SET_LOCATION, SET_LOCATION_ERROR } from '../actions/geodata';\r\n\r\nconst initialState = {\r\n  geodata: null,\r\n  error: false,\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_LOCATION:\r\n      return { ...state, geodata: action.data };\r\n    case SET_LOCATION_ERROR:\r\n      return { ...state, error: true };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  SET_LOADING,\r\n  SET_ERROR,\r\n  SET_INCIDENTS,\r\n} from '../actions/incidents';\r\n\r\nconst initialState = {\r\n  isLoading: true,\r\n  data: [],\r\n  error: false,\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch(action.type) {\r\n    case SET_INCIDENTS:\r\n      return { ...state, data: action.incidents };\r\n    case SET_LOADING:\r\n      return { ...state, isLoading: false };\r\n    case SET_ERROR:\r\n      return { ...state, error: action.error };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import cookie from 'js-cookie';\r\nimport axios from 'axios';\r\nimport { SET_USER, LOGOUT_USER, SET_USER_FIELD } from '../actions/user';\r\n\r\nconst token = cookie.get('token');\r\n\r\nconst initialState = {\r\n  isAuth: !!token,\r\n};\r\n\r\nif (token) {\r\n  axios.defaults.headers.common['Authorization'] = token;\r\n}\r\n\r\nexport default function(state = initialState, action) {\r\n  switch(action.type) {\r\n    case SET_USER:\r\n      return { ...action.user, isAuth: true };\r\n    case LOGOUT_USER:\r\n      return { isAuth: false };\r\n    case SET_USER_FIELD:\r\n      return { ...state, [action.field]: action.value };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport system from './system';\r\nimport forms from './forms';\r\nimport cities from './cities';\r\nimport map from './map';\r\nimport geodata from './geodata';\r\nimport incidents from './incidents';\r\nimport incident from './incident';\r\nimport user from './user';\r\n\r\nexport default combineReducers({\r\n  system,\r\n  forms,\r\n  cities,\r\n  map,\r\n  geodata,\r\n  incidents,\r\n  incident,\r\n  user,\r\n});\r\n","export const CHANGE_SYSTEM_FIELD = 'CHANGE_SYSTEM_FIELD';\r\n","import {\r\n  OPEN_INCIDENT,\r\n  CLOSE_INCIDENT,\r\n} from '../actions/incident';\r\n\r\nconst initialState = null;\r\n\r\nexport default function(state = initialState, action) {\r\n  switch(action.type) {\r\n    case OPEN_INCIDENT:\r\n      return { ...action.incident };\r\n    case CLOSE_INCIDENT:\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { takeLatest, call, put } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport { FETCH_CITIES, CHANGE_CITY } from '../actions/cities';\r\nimport { setCities, setError, setLoading, changeSelectedCity } from '../AC/cities';\r\nimport { fetchAllIncidents } from '../AC/incidents';\r\n\r\nfunction* fetchCities() {\r\n  try {\r\n    const { data } = yield call(axios.get, '/api/cities/');\r\n    localStorage.setItem('citiesList', JSON.stringify(data));\r\n    yield put(setCities(data));\r\n    yield put(setError(false));\r\n    yield put(setLoading(false));\r\n  } catch(error) {\r\n    console.error(error.message);\r\n    yield put(setError(true));\r\n  }\r\n}\r\n\r\nfunction* changeCity(props) {\r\n  try {\r\n    const { id } = props;\r\n    yield put(fetchAllIncidents(id));\r\n    yield put(changeSelectedCity(id));\r\n  } catch(error) {\r\n    console.error(error.message);\r\n  }\r\n}\r\n\r\nexport default function* () {\r\n  yield takeLatest(FETCH_CITIES, fetchCities);\r\n  yield takeLatest(CHANGE_CITY, changeCity);\r\n}\r\n","import { takeLatest, call, put, select } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport { FETCH_ALL_INCIDENTS } from '../actions/incidents';\r\nimport { setError, setLoading, setIncidents } from '../AC/incidents';\r\n\r\nfunction* fetchIncidents(props) {\r\n  const cityId = props.id;\r\n  try {\r\n    const { cities } = yield select(({ cities }) => ({\r\n      cities: cities.data,\r\n    }));\r\n    const { title: city } = cities.find(city => city.id === cityId);\r\n    const { data } = yield call(axios.get, `/api/incidents/${city}`);\r\n    \r\n    yield put(setError(false));\r\n    yield put(setLoading(false));\r\n    yield put(setIncidents(data));\r\n  } catch(e) {\r\n    console.error(e.message);\r\n    yield put(setError(true));\r\n  }\r\n}\r\n\r\nexport default function* () {\r\n  yield takeLatest(FETCH_ALL_INCIDENTS, fetchIncidents);\r\n};\r\n","export const ROUTE_SIGN_UP =    '/api/auth/sign-up';\r\nexport const ROUTE_SIGN_IN =    '/api/auth/sign-in';\r\nexport const ROUTE_CHECK_AUTH = '/api/auth/check';\r\nexport const ROUTE_LOGOUT =     '/api/auth/logout';\r\n","import { CHANGE_SYSTEM_FIELD } from '../actions/system';\r\n\r\nexport const changeSystemField = (name, value) => ({ type: CHANGE_SYSTEM_FIELD, name, value });\r\n","import { takeEvery, call, put, select, delay } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport cookie from 'js-cookie';\r\nimport {\r\n  ROUTE_SIGN_UP,\r\n  ROUTE_SIGN_IN,\r\n  ROUTE_CHECK_AUTH,\r\n  ROUTE_LOGOUT,\r\n} from '../../api/auth';\r\nimport {\r\n  SIGN_UP_REQUEST,\r\n  SIGN_UP_SUCCESS,\r\n  SIGN_UP_FAIL,\r\n  SIGN_IN_REQUEST,\r\n  SIGN_IN_SUCCESS,\r\n  SIGN_IN_FAIL,\r\n  CHECK_USER_AUTH,\r\n} from '../actions/auth';\r\nimport { LOGIN_USER, LOGOUT_USER_REQUEST } from '../actions/user';\r\nimport { changeSystemField } from '../AC/system';\r\nimport { changeField } from '../AC/forms';\r\nimport { loginUser, setUser, logoutUser, logout } from '../AC/user';\r\nimport {\r\n  signUpSuccess,\r\n  signUpFail,\r\n  signInSuccess,\r\n  signInFail,\r\n} from '../AC/auth';\r\n\r\nfunction* signUpRequestSaga() {\r\n  try {\r\n    const {\r\n      signUpName: name,\r\n      signUpEmail: email,\r\n      signUpPassword: password,\r\n    } = yield select(({ forms }) => forms);\r\n\r\n    yield put(changeSystemField('signUpSnackbar', 'Регистрация нового пользователя...'));\r\n    yield put(changeField('signUpButtonDisabled', true));\r\n\r\n    const result = yield call(axios.post, ROUTE_SIGN_UP, { name: name.trim(), email: email.trim(), password });\r\n\r\n    if (result.status === 201) {\r\n      yield put(signUpSuccess(result.data));\r\n    } else {\r\n      yield put(signUpFail(result.data));\r\n    }\r\n    \r\n  } catch(e) {\r\n    yield put(changeSystemField('signUpSnackbar', 'Произошла неизвестная ошибка, попробуйте еще раз.'));\r\n    yield delay(5000);\r\n    yield put(changeSystemField('signUpSnackbar', ''));\r\n  } finally {\r\n    yield put(changeField('signUpButtonDisabled', false));\r\n  }\r\n}\r\n\r\nfunction* signUpSuccessSaga({ data }) {\r\n  yield put(changeSystemField('signUpSnackbar', ''));\r\n  yield put(changeField('signUpName', ''));\r\n  yield put(changeField('signUpEmail', ''));\r\n  yield put(changeField('signUpPassword', ''));\r\n  yield put(loginUser(data));\r\n}\r\n\r\nfunction* signUpFailSaga({ data }) {\r\n  if (data === 'name: lenght')           yield put(changeField('signUpNameError', 'Имя должно содержать от 6 до 16 символов.'));\r\n  else if (data === 'name: invalid')     yield put(changeField('signUpNameError', 'Допустимы только латинские и кириллические символы, а так же числа.'));\r\n  else if (data === 'name: busy')        yield put(changeField('signUpNameError', 'Имя занято, попробуйте другое.'));\r\n  else if (data === 'email: invalid')    yield put(changeField('signUpEmailError', 'Введите корректный E-Mail.'));\r\n  else if (data === 'email: busy')       yield put(changeField('signUpEmailError', 'Указанный E-Mail уже есть в системе. Попробуйте авторизоваться.'));\r\n  else if (data === 'password: length')  yield put(changeField('signUpPasswordError', 'Пароль должен содержать от 6 до 16 символов.'));\r\n  else if (data === 'password: invalid') yield put(changeField('signUpPasswordError', 'Допустимы только латинские символы и числа.'));\r\n  yield put(changeSystemField('signUpSnackbar', ''));\r\n}\r\n\r\nfunction* signInRequestSaga() {\r\n  try {\r\n    const {\r\n      signInEmail: email,\r\n      signInPassword: password,\r\n    } = yield select(({ forms }) => forms);\r\n\r\n    yield put(changeSystemField('signInSnackbar', 'Пытаемся войти...'));\r\n    yield put(changeField('signInButtonDisabled', true));\r\n\r\n    const { data } = yield call(axios.post, ROUTE_SIGN_IN, { email: email.trim(), password });\r\n\r\n    if (data instanceof Object) {\r\n      yield put(signInSuccess(data));\r\n    } else {\r\n      yield put(changeSystemField('signInSnackbar', 'Вход не выполнен. Попробуйте еще раз.'));\r\n      yield put(signInFail(data));\r\n    }\r\n  } catch(e) {\r\n    yield put(changeField('signInButtonDisabled', false));\r\n    yield put(changeSystemField('signInSnackbar', 'Произошла неизвестная ошибка, попробуйте еще раз.'));\r\n    yield delay(5000);\r\n    yield put(changeSystemField('signInSnackbar', ''));\r\n  }\r\n}\r\n\r\nfunction* signInSuccessSaga({ data }) {\r\n  yield put(changeField('signInButtonDisabled', false));\r\n  yield put(changeSystemField('signInSnackbar', ''));\r\n  yield put(changeField('signInEmail', ''));\r\n  yield put(changeField('signInPassword', ''));\r\n  yield put(loginUser(data));\r\n}\r\n\r\nfunction* signInFailSaga({ data }) {\r\n  if (data === 'email: invalid')         yield put(changeField('signInEmailError', 'Введите корректный E-Mail.'));\r\n  else if (data === 'email: not found')  yield put(changeField('signInEmailError', 'Пользователь не найден.'));\r\n  else if (data === 'password: invalid') yield put(changeField('signInPasswordError', 'Введите корректный пароль.'));\r\n  else if (data === 'password: wrong')   yield put(changeField('signInPasswordError', 'Пароль неверный.'));\r\n  yield put(changeField('signInButtonDisabled', false));\r\n  yield delay(3000);\r\n  yield put(changeSystemField('signInSnackbar', ''));\r\n}\r\n\r\nfunction* login({ user }) {\r\n  const {\r\n    email,\r\n    id,\r\n    isBanned,\r\n    name,\r\n    role,\r\n  } = user;\r\n  const token = cookie.get('token');\r\n  axios.defaults.headers.common['Authorization'] = token;\r\n  yield put(setUser({ name, email, id, isBanned, role }));\r\n}\r\n\r\nfunction* logoutRequest() {\r\n  try {\r\n    yield call(axios.get, ROUTE_LOGOUT);\r\n    axios.defaults.headers.common['Authorization'] = '';\r\n    yield put(logoutUser());\r\n  } catch(e) {\r\n    console.error(e.message);\r\n  }\r\n}\r\n\r\nfunction* checkUserAuth() {\r\n  try {\r\n    const token = cookie.get('token');\r\n\r\n    if (!token) {\r\n      throw new Error();\r\n    }\r\n\r\n    axios.defaults.headers.common['Authorization'] = token;\r\n    const result = yield call(axios.get, ROUTE_CHECK_AUTH);\r\n    if (result.data) yield put(setUser(result.data));\r\n    else throw new Error();\r\n  } catch(e) {\r\n    yield put(logout());\r\n  }\r\n}\r\n\r\nexport default function* () {\r\n  yield takeEvery(SIGN_UP_REQUEST, signUpRequestSaga);\r\n  yield takeEvery(SIGN_UP_SUCCESS, signUpSuccessSaga);\r\n  yield takeEvery(SIGN_UP_FAIL, signUpFailSaga);\r\n  yield takeEvery(SIGN_IN_REQUEST, signInRequestSaga);\r\n  yield takeEvery(SIGN_IN_SUCCESS, signInSuccessSaga);\r\n  yield takeEvery(SIGN_IN_FAIL, signInFailSaga);\r\n  yield takeEvery(LOGIN_USER, login);\r\n  yield takeEvery(LOGOUT_USER_REQUEST, logoutRequest);\r\n  yield takeEvery(CHECK_USER_AUTH, checkUserAuth);\r\n};\r\n","export const ROUTE_SETTINGS_NAME = '/api/settings/account/name';\r\nexport const ROUTE_SETTINGS_EMAIL = '/api/settings/account/email';\r\nexport const ROUTE_SETTINGS_PASSWORD = '/api/settings/account/password';\r\n","import { takeEvery, select, put, call, delay } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport { changeSystemField } from '../../AC/system';\r\nimport { changeField } from '../../AC/forms';\r\nimport { setUserField } from '../../AC/user';\r\nimport {\r\n  requestNewName,\r\n  successNewName,\r\n  failNewName,\r\n} from '../../AC/settings';\r\nimport { NAME_TEMPLATE } from '../../../constants/forms';\r\nimport { ROUTE_SETTINGS_NAME } from '../../../api/settings';\r\nimport {\r\n  VALIDATE_NEW_NAME,\r\n  REQUEST_NEW_NAME,\r\n  SUCCESS_NEW_NAME,\r\n  FAIL_NEW_NAME,\r\n} from '../../actions/settings';\r\n\r\nfunction* validate() {\r\n  const { name, currentName } = yield select(({ forms, user }) => ({\r\n    name:        forms.settingsName,\r\n    currentName: user.name,\r\n  }));\r\n\r\n  let error = '';\r\n\r\n  if (!name) error = 'Введите новое имя.';\r\n  else if (name === currentName) error = 'Придумайте новое имя.';\r\n  else if (name.length < 6 || name.length > 16) error = 'Имя должно содержать от 6 до 16 символов.';\r\n  else if (!name.match(NAME_TEMPLATE)) error = 'Допустимы только латинские и кириллические символы, а так же числа.';\r\n\r\n  if (error) {\r\n    yield put(changeField('settingsNameError', error));\r\n  } else {\r\n    yield put(requestNewName(name));\r\n  }\r\n}\r\n\r\nfunction* request({ name }) {\r\n  const buttonDisabled = 'settingsNameButtonDisabled';\r\n  const requestBody = { name };\r\n\r\n  yield put(changeField(buttonDisabled, true));\r\n\r\n  try {\r\n    const { data } = yield call(axios.post, ROUTE_SETTINGS_NAME, requestBody);\r\n\r\n    if (data === 'OK') yield put(successNewName(name));\r\n    else yield put(failNewName(data));\r\n  } catch(e) {\r\n    console.error(e.message);\r\n    yield put(failNewName('Произошла ошибка. Перезагрузите страницу и попробуйте еще раз.'));\r\n  } finally {\r\n    yield put(changeField(buttonDisabled, false));\r\n  }\r\n}\r\n\r\nfunction* success({ name }) {\r\n  yield put(changeField('settingsName', ''));\r\n  yield put(setUserField('name', name));\r\n  yield put(changeSystemField('settingSnackbar', 'Новое имя сохранено!'));\r\n  yield delay(5000);\r\n  yield put(changeSystemField('settingSnackbar', ''));\r\n}\r\n\r\nfunction* fail({ message }) {\r\n  yield put(changeField('settingsNameError', message));\r\n}\r\n\r\nexport default function* () {\r\n  yield takeEvery(VALIDATE_NEW_NAME, validate);\r\n  yield takeEvery(REQUEST_NEW_NAME, request);\r\n  yield takeEvery(SUCCESS_NEW_NAME, success);\r\n  yield takeEvery(FAIL_NEW_NAME, fail);\r\n};\r\n","import { takeEvery, select, put, call, delay } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport emailValidator from 'email-validator';\r\nimport { changeSystemField } from '../../AC/system';\r\nimport { changeField } from '../../AC/forms';\r\nimport { setUserField } from '../../AC/user';\r\nimport {\r\n  requestNewEmail,\r\n  successNewEmail,\r\n  failNewEmail,\r\n} from '../../AC/settings';\r\nimport { ROUTE_SETTINGS_EMAIL } from '../../../api/settings';\r\nimport {\r\n  VALIDATE_NEW_EMAIL,\r\n  REQUEST_NEW_EMAIL,\r\n  SUCCESS_NEW_EMAIL,\r\n  FAIL_NEW_EMAIL,\r\n} from '../../actions/settings';\r\n\r\nfunction* validate() {\r\n  const { email, currentEmail } = yield select(({ forms, user }) => ({\r\n    email:        forms.settingsEmail,\r\n    currentEmail: user.email,\r\n  }));\r\n\r\n  let error = '';\r\n\r\n  if (!email) error = 'Введите новый E-Mail.';\r\n  else if (email === currentEmail) error = 'Придумайте новый E-Mail.';\r\n  else if (!emailValidator.validate(email)) error = 'Введите корректный E-Mail';\r\n\r\n  if (error) yield put(changeField('settingsEmailError', error));\r\n  else yield put(requestNewEmail(email));\r\n}\r\n\r\nfunction* request({ email }) {\r\n  const buttonDisabled = 'settingsEmailButtonDisabled';\r\n  const requestBody = { email };\r\n\r\n  yield put(changeField(buttonDisabled, true));\r\n\r\n  try {\r\n    const { data } = yield call(axios.post, ROUTE_SETTINGS_EMAIL, requestBody);\r\n\r\n    if (data === 'OK') yield put(successNewEmail(email));\r\n    else yield put(failNewEmail(data));\r\n  } catch(e) {\r\n    console.error(e.message);\r\n    yield put(failNewEmail('Произошла ошибка. Перезагрузите страницу и попробуйте еще раз.'));\r\n  } finally {\r\n    yield put(changeField(buttonDisabled, false));\r\n  }\r\n}\r\n\r\nfunction* success({ email }) {\r\n  yield put(changeField('settingsEmail', ''));\r\n  yield put(setUserField('email', email));\r\n  yield put(changeSystemField('settingSnackbar', 'Новый E-Mail сохранен!'));\r\n  yield delay(5000);\r\n  yield put(changeSystemField('settingSnackbar', ''));\r\n}\r\n\r\nfunction* fail({ message }) {\r\n  yield put(changeField('settingsEmailError', message));\r\n}\r\n\r\nexport default function* () {\r\n  yield takeEvery(VALIDATE_NEW_EMAIL, validate);\r\n  yield takeEvery(REQUEST_NEW_EMAIL, request);\r\n  yield takeEvery(SUCCESS_NEW_EMAIL, success);\r\n  yield takeEvery(FAIL_NEW_EMAIL, fail);\r\n};\r\n","import { takeEvery, select, put, call, delay } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport { changeSystemField } from '../../AC/system';\r\nimport { changeField } from '../../AC/forms';\r\nimport {\r\n  requestNewPassword,\r\n  successNewPassword,\r\n  failNewPassword,\r\n} from '../../AC/settings';\r\nimport { PASSWORD_TEMPLATE } from '../../../constants/forms';\r\nimport { ROUTE_SETTINGS_PASSWORD } from '../../../api/settings';\r\nimport {\r\n  VALIDATE_NEW_PASSWORD,\r\n  REQUEST_NEW_PASSWORD,\r\n  SUCCESS_NEW_PASSWORD,\r\n  FAIL_NEW_PASSWORD,\r\n} from '../../actions/settings';\r\n\r\nfunction* validate() {\r\n  const { oldPassword, newPassword } = yield select(({ forms }) => ({\r\n    oldPassword: forms.settingsOldPassword,\r\n    newPassword: forms.settingsNewPassword,\r\n  }));\r\n  \r\n  let oldPasswordError = '';\r\n  let newPasswordError = '';\r\n\r\n  if (!oldPassword) oldPasswordError = 'Введите текущий пароль.';\r\n  else if (oldPassword.length < 6 || oldPassword.length > 16 || !oldPassword.match(PASSWORD_TEMPLATE)) oldPasswordError = 'Введите корректный пароль.';\r\n\r\n  else if (!newPassword) newPasswordError = 'Введите новый пароль';\r\n  else if (oldPassword === newPassword) newPasswordError = 'Придумайте новый пароль';\r\n  else if (newPassword.length < 6 || newPassword.length > 16 || !newPassword.match(PASSWORD_TEMPLATE)) newPasswordError = 'Пароль должен содержать от 6 до 16 символов латинского алфавита или цифр.';\r\n\r\n  if (oldPasswordError) {\r\n    yield put(changeField('settingsOldPasswordError', oldPasswordError));\r\n  } else if (newPasswordError) {\r\n    yield put(changeField('settingsNewPasswordError', newPasswordError));\r\n  } else {\r\n    yield put(requestNewPassword(oldPassword, newPassword));\r\n  }\r\n}\r\n\r\nfunction* request({ oldPassword, newPassword }) {\r\n  const buttonDisabled = 'settingsPasswordButtonDisabled';\r\n  const requestBody = { oldPassword, newPassword };\r\n\r\n  yield put(changeField(buttonDisabled, true));\r\n\r\n  try {\r\n    const { data } = yield call(axios.post, ROUTE_SETTINGS_PASSWORD, requestBody);\r\n\r\n    if (data === 'OK') yield put(successNewPassword());\r\n    else yield put(failNewPassword(data));\r\n  } catch(e) {\r\n    console.error(e.message);\r\n    yield put(failNewPassword({ field: 'newPassword', message: 'Произошла ошибка. Перезагрузите страницу и попробуйте еще раз.' }));\r\n  } finally {\r\n    yield put(changeField(buttonDisabled, false));\r\n  }\r\n}\r\n\r\nfunction* success() {\r\n  yield put(changeField('settingsOldPassword', ''));\r\n  yield put(changeField('settingsNewPassword', ''));\r\n  yield put(changeSystemField('settingSnackbar', 'Пароль изменен!'));\r\n  yield delay(5000);\r\n  yield put(changeSystemField('settingSnackbar', ''));\r\n}\r\n\r\nfunction* fail({ data }) {\r\n  const { field, message } = data;\r\n\r\n  if (field === 'oldPassword') yield put(changeField('settingsOldPasswordError', message));\r\n  else yield put(changeField('settingsNewPasswordError', message));\r\n}\r\n\r\nexport default function* () {\r\n  yield takeEvery(VALIDATE_NEW_PASSWORD, validate);\r\n  yield takeEvery(REQUEST_NEW_PASSWORD, request);\r\n  yield takeEvery(SUCCESS_NEW_PASSWORD, success);\r\n  yield takeEvery(FAIL_NEW_PASSWORD, fail);\r\n};\r\n","import { all } from 'redux-saga/effects';\r\nimport cities from './cities';\r\nimport incidents from './incidents';\r\nimport auth from './auth';\r\nimport settingsName from './settings/name';\r\nimport settingsEmail from './settings/email';\r\nimport settingsPassword from './settings/password';\r\n\r\nfunction* rootSaga() {\r\n  yield all([\r\n    cities(),\r\n    incidents(),\r\n    auth(),\r\n    settingsName(),\r\n    settingsEmail(),\r\n    settingsPassword(),\r\n  ]);\r\n}\r\n\r\nexport default rootSaga;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootReducer from './reducers';\r\nimport rootSaga from './sagas';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(sagaMiddleware));\r\nwindow.getState = store.getState;\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core/styles'\r\nimport App from './containers/App';\r\nimport store from './store';\r\nimport './styles.css';\r\nimport { ORANGE, BLUE } from './constants/styles';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: ORANGE,\r\n    },\r\n    secondary: {\r\n      main: BLUE,\r\n    },\r\n  },\r\n});\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Provider store={store}>\r\n      <ThemeProvider theme={theme}>\r\n        <App />\r\n      </ThemeProvider>\r\n    </Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/logo_dark.6ea33164.svg\";"],"sourceRoot":""}