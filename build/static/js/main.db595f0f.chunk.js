(this["webpackJsonpcrime-maps"]=this["webpackJsonpcrime-maps"]||[]).push([[0],{117:function(e,t,a){e.exports=a.p+"static/media/novosibirsk.3223fede.jpg"},118:function(e,t,a){e.exports=a.p+"static/media/krasnoyarsk.aaf9cd5c.jpg"},119:function(e,t,a){e.exports=a.p+"static/media/novosibirsk.f2328259.svg"},120:function(e,t,a){e.exports=a.p+"static/media/krasnoyarsk.0bba5569.svg"},122:function(e,t,a){e.exports=a.p+"static/media/car_theft.b572941a.svg"},123:function(e,t,a){e.exports=a.p+"static/media/fire.547e02c8.svg"},124:function(e,t,a){e.exports=a.p+"static/media/accident.af983432.svg"},125:function(e,t,a){e.exports=a.p+"static/media/animal.78439bea.svg"},126:function(e,t,a){e.exports=a.p+"static/media/violence.b089ef0f.svg"},127:function(e,t,a){e.exports=a.p+"static/media/bad_services.0beafc4d.svg"},128:function(e,t,a){e.exports=a.p+"static/media/death.0e042142.svg"},129:function(e,t,a){e.exports=a.p+"static/media/dtp.430d3fe4.svg"},130:function(e,t,a){e.exports=a.p+"static/media/lost_man.44949d7e.svg"},131:function(e,t,a){e.exports=a.p+"static/media/protest.9ffcd5b2.svg"},132:function(e,t,a){e.exports=a.p+"static/media/theft.0e89d87b.svg"},133:function(e,t,a){e.exports=a.p+"static/media/disaster.e2168d84.svg"},135:function(e,t,a){e.exports=a.p+"static/media/user.ed058a81.svg"},136:function(e,t,a){e.exports=a.p+"static/media/car_theft.f15135e1.svg"},137:function(e,t,a){e.exports=a.p+"static/media/fire.4faaaf86.svg"},138:function(e,t,a){e.exports=a.p+"static/media/accident.75476a82.svg"},139:function(e,t,a){e.exports=a.p+"static/media/animal.80e28ec9.svg"},140:function(e,t,a){e.exports=a.p+"static/media/violence.4e158945.svg"},141:function(e,t,a){e.exports=a.p+"static/media/bad_services.78eacfc8.svg"},142:function(e,t,a){e.exports=a.p+"static/media/death.25eac115.svg"},143:function(e,t,a){e.exports=a.p+"static/media/dtp.741b1766.svg"},144:function(e,t,a){e.exports=a.p+"static/media/lost_man.9db9caf4.svg"},145:function(e,t,a){e.exports=a.p+"static/media/protest.a4a6d874.svg"},146:function(e,t,a){e.exports=a.p+"static/media/theft.2d127463.svg"},147:function(e,t,a){e.exports=a.p+"static/media/disaster.115fc0c5.svg"},148:function(e,t,a){e.exports=a.p+"static/media/default_avatar.4aae295a.png"},163:function(e,t,a){e.exports=a(192)},191:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),i=a.n(c),s=a(14),o=a(20),l=a(149),u=a(283),m=a(151),p=a(41),d=a(282),g=a(54),f=Object(n.createContext)(),b=function(e){return{type:"SET_LOCATION",data:e}},E=function(e){return{type:"SET_LOCATION_ERROR",error:e}},v=function(e,t){return{type:"CHANGE_COORDINATES",lat:e,lng:t}},h=function(e){return{type:"SET_ZOOM",zoom:e}},x=function(){return{type:"INCREMENT_ZOOM"}},O=function(){return{type:"DECREMENT_ZOOM"}},w=function(e){return{type:"CHANGE_NEWS_TYPES",typeNews:e}},j=function(e,t){return{type:"CHANGE_SYSTEM_FIELD",name:e,value:t}},k=function(e,t){return{type:"CHANGE_FIELD",name:e,value:t}},N=function(){return{type:"SIGN_IN_VALIDATE"}},y=function(e,t){return{type:"SIGN_IN_REQUEST",email:e,password:t}},C=function(e){return{type:"SIGN_IN_FAIL",message:e}},I=function(){return{type:"SIGN_UP_VALIDATE"}},S=function(e){return{type:"SIGN_UP_FAIL",message:e}},T=function(e){return{type:"SET_USER_DATA",data:e}},_=function(){return{type:"FETCH_USER_DATA"}},A=function(e){return{type:"SET_ACTIVE_NEWS",news:e}},U=function(){return{type:"FETCH_ALL_NEWS"}},L=function(e){return{type:"FETCH_NEWS",id:e}},D=function(){return{type:"FETCH_NEWS_FOR_CABINET"}},P=function(e){return{type:"SET_CITIES_LOADING",loading:e}},F=function(){return{type:"FETCH_CITIES"}},M=a(193),B=a(231),R="linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)",z=Object(B.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",background:R},link:{textDecoration:"none"}}}));var G=function(){var e=z();return r.a.createElement("div",{className:e.root},r.a.createElement(s.b,{to:"/map",className:e.link},r.a.createElement(M.a,{variant:"contained",color:"primary"},"\u041a \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e")))},H=a(254),W=a(256),Z=a(287),V=a(255),Y=a(257),J=a(258),Q=a(293),$=a(243),q=a(244),X=a(245),K=a(22),ee=a(15),te=a(117),ae=a.n(te),ne=a(118),re=a.n(ne),ce={novosibirsk:{backgroundImage:"url(".concat(ae.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"},krasnoyarsk:{backgroundImage:"url(".concat(re.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}},ie=Object(B.a)((function(e){return Object(K.a)({root:{display:"none"}},e.breakpoints.up("md"),Object(ee.a)({},ce,{root:{display:"block",width:330,flexShrink:0},rootPaper:{width:330},subscriptionsContainer:{marginTop:e.spacing(1)},subscriptionsLink:{display:"flex",alignItems:"center",marginLeft:e.spacing(2),paddingTop:e.spacing(1),paddingBottom:e.spacing(1),fontSize:e.typography.h6.fontSize,textDecoration:"none",color:e.palette.text.primary},subscriptionsIcon:{marginRight:e.spacing(1),fontSize:e.typography.h4.fontSize,color:"#f64b11"},authLink:{marginTop:"auto",textDecoration:"none",borderTop:"1px solid ".concat("#f64b11")},authButton:{color:"#f64b11"}}))})),se=a(154),oe=a(65),le=a.n(oe),ue=a(72),me=a(292),pe=a(236),de=a(237),ge=Object(B.a)((function(e){return Object(K.a)({root:{display:"flex",alignItems:"center",overflowX:"hidden",margin:e.spacing(1)},cityName:{marginLeft:e.spacing(1),color:e.palette.text},emblemContainer:{display:"none"},grow:{flexGrow:1},changeCityButton:{color:e.palette.text}},e.breakpoints.up("md"),{root:{margin:e.spacing(3)},cityName:{color:"#fff"},emblemContainer:{display:"flex",justifyContent:"center",alignItems:"center",width:40,height:40,background:"#fff",borderRadius:"50%"},emblem:{height:30},changeCityButton:{color:"#fff"}})})),fe=a(119),be=a.n(fe),Ee=a(120),ve=a.n(Ee),he={novosibirsk:be.a,krasnoyarsk:ve.a};var xe=Object(o.c)((function(e){return{loading:e.cities.loading}}))((function(e){var t=e.titleCity,a=e.city,n=ge();return r.a.createElement("div",{className:n.root},r.a.createElement("div",{className:n.emblemContainer},r.a.createElement("img",{className:n.emblem,src:he[t],alt:""})),r.a.createElement(ue.a,{variant:"h6",className:n.cityName},a),r.a.createElement("div",{className:n.grow}),r.a.createElement(me.a,{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434"},r.a.createElement(pe.a,null,r.a.createElement(de.a,{className:n.changeCityButton}))))})),Oe=Object(B.a)((function(e){return Object(ee.a)({},ce,{header:{position:"relative",height:200},blackout:{paddingTop:1,height:"100%",backgroundColor:"rgba(0, 0, 0, .5)"},searchContainer:{display:"flex",justifyContent:"space-between",margin:e.spacing(3),padding:"5px 10px",backgroundColor:"#fff",borderRadius:2*e.shape.borderRadius,border:"1px solid #ccc"},search:{width:"86%"}})})),we=a(48),je=a.n(we);var ke=Object(o.c)((function(e){var t=e.cities;return{selectedCityId:t.selectedCityId,citiesList:t.data}}))((function(e){var t=e.selectedCityId,a=e.citiesList,n=Oe(),c=a.find((function(e){return e.id===t}));return r.a.createElement("div",{className:le()(n.root,n[c.title])},r.a.createElement("div",{className:n.blackout},r.a.createElement("div",{className:n.searchContainer},r.a.createElement("img",{src:je.a,alt:"",height:"35px"}),r.a.createElement(se.a,{className:n.search,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e Crime Maps..."})),r.a.createElement(xe,{titleCity:c.title,city:c.name})))})),Ne=a(61),ye=a(122),Ce=a.n(ye),Ie=a(123),Se=a.n(Ie),Te=a(124),_e=a.n(Te),Ae=a(125),Ue=a.n(Ae),Le=a(126),De=a.n(Le),Pe=a(127),Fe=a.n(Pe),Me=a(128),Be=a.n(Me),Re=a(129),ze=a.n(Re),Ge=a(130),He=a.n(Ge),We=a(131),Ze=a.n(We),Ve=a(132),Ye=a.n(Ve),Je=a(133),Qe=a.n(Je),$e=[{type:9,name:"\u0410\u043a\u0446\u0438\u044f \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u0430"},{type:7,name:"\u0414\u0422\u041f"},{type:3,name:"\u0416\u0438\u0432\u043e\u0442\u043d\u044b\u0435"},{type:10,name:"\u041a\u0440\u0430\u0436\u0430"},{type:4,name:"\u041d\u0430\u0441\u0438\u043b\u0438\u0435"},{type:2,name:"\u041d\u0435\u0441\u0447\u0430\u0441\u0442\u043d\u044b\u0439 \u0441\u043b\u0443\u0447\u0430\u0439"},{type:0,name:"\u0423\u0433\u043e\u043d"},{type:1,name:"\u041f\u043e\u0436\u0430\u0440"},{type:5,name:"\u041f\u043b\u043e\u0445\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438"},{type:8,name:"\u041f\u0440\u043e\u043f\u0430\u043b \u0447\u0435\u043b\u043e\u0432\u0435\u043a"},{type:6,name:"\u0421\u043c\u0435\u0440\u0442\u044c"},{type:11,name:"\u0421\u0442\u0438\u0445\u0438\u0439\u043d\u043e\u0435 \u0431\u0435\u0434\u0441\u0442\u0432\u0438\u0435"}];var qe=function(e){switch(e){case 0:return Ce.a;case 1:return Se.a;case 2:return _e.a;case 3:return Ue.a;case 4:return De.a;case 5:return Fe.a;case 6:return Be.a;case 7:return ze.a;case 8:return He.a;case 9:return Ze.a;case 10:return Ye.a;case 11:return Qe.a;default:return!1}},Xe=Object(B.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",margin:e.spacing(1)},button:{display:"flex",flexDirection:"column",alignItems:"center",width:"24%",border:"none",background:"none",outline:"none",cursor:"pointer",transition:".3s","&:hover":{opacity:.7}},imageContainer:{padding:1.5*e.spacing(1),width:"100%",background:"#000",borderRadius:"50%"},label:{marginTop:e.spacing(1),fontSize:12},active:{background:"#f64b11"}}}));var Ke=Object(o.c)((function(e){return{types:e.map.showTypes}}))((function(e){var t=e.types,a=Xe(),c=Object(n.useContext)(f).changeNewsTypes,i=JSON.parse(localStorage.getItem("activeTypes"))||t;return r.a.createElement("div",{className:a.root},$e.map((function(e){return r.a.createElement("button",{className:a.button,key:e.name,onClick:function(){return function(e){var t,a=i.find((function(t){return t.type===e.type}));t=a?i.filter((function(e){return e.type!==a.type})):[].concat(Object(Ne.a)(i),[e]),localStorage.setItem("activeTypes",JSON.stringify(t)),c(e.type)}(e)}},r.a.createElement("div",{className:le()(a.imageContainer,Object(K.a)({},a.active,(t=e.type,!!i.find((function(e){return e.type===t})))))},r.a.createElement("img",{alt:e.name,src:qe(e.type),width:"100%"})),r.a.createElement("span",{className:a.label},e.name));var t})))})),et=a(238),tt=a(239),at=a(240),nt=a(241),rt=a(242),ct=Object(B.a)((function(e){return{root:{width:"100%",position:"absolute",bottom:0},buttonsContainer:{display:"flex",justifyContent:"space-between"},button:{minWidth:0},active:{color:"#f64b11"}}})),it=[{path:"/cabinet",icon:r.a.createElement(et.a,null)},{path:"/map/tape",icon:r.a.createElement(tt.a,null)},{path:"/map",icon:r.a.createElement(at.a,null)},{path:"/map/recommendations",icon:r.a.createElement(nt.a,null)},{path:"/cabinet/gossip",icon:r.a.createElement(rt.a,null)}];var st=function(e){var t=e.location,a=ct();return r.a.createElement("div",{className:a.root},r.a.createElement($.a,null),r.a.createElement("div",{className:a.buttonsContainer},it.map((function(e,n){return r.a.createElement(s.b,{key:n,to:e.path},r.a.createElement(pe.a,{className:le()(Object(K.a)({},a.active,t===e.path))},e.icon))}))))};var ot=Object(o.c)((function(e){return{isAuth:e.user.isAuth}}))((function(e){var t=e.location,a=e.isAuth,n=ie();return r.a.createElement(Q.a,{variant:"permanent",className:n.root,classes:{paper:n.rootPaper}},r.a.createElement(ke,null),r.a.createElement(Ke,null),a&&r.a.createElement("div",{className:n.subscriptionsContainer},r.a.createElement($.a,null),r.a.createElement(s.b,{to:"/map/subscriptions",className:n.subscriptionsLink},r.a.createElement(q.a,{className:n.subscriptionsIcon})," \u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"),r.a.createElement($.a,null)),a&&r.a.createElement(st,{location:t.pathname}),!a&&r.a.createElement(s.b,{to:"/sign-in",className:n.authLink},r.a.createElement(M.a,{className:n.authButton,fullWidth:!0},r.a.createElement(X.a,null),"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f")))})),lt=a(8),ut=a.n(lt),mt=a(134),pt=a(288),dt=a(294),gt=a(246),ft=a(30),bt=a.n(ft),Et=a(135),vt=a.n(Et),ht=a(136),xt=a.n(ht),Ot=a(137),wt=a.n(Ot),jt=a(138),kt=a.n(jt),Nt=a(139),yt=a.n(Nt),Ct=a(140),It=a.n(Ct),St=a(141),Tt=a.n(St),_t=a(142),At=a.n(_t),Ut=a(143),Lt=a.n(Ut),Dt=a(144),Pt=a.n(Dt),Ft=a(145),Mt=a.n(Ft),Bt=a(146),Rt=a.n(Bt),zt=a(147),Gt=a.n(zt);function Ht(e){var t;switch(e){case 0:t=xt.a;break;case 1:t=wt.a;break;case 2:t=kt.a;break;case 3:t=yt.a;break;case 4:t=It.a;break;case 5:t=Tt.a;break;case 6:t=At.a;break;case 7:t=Lt.a;break;case 8:t=Pt.a;break;case 9:t=Mt.a;break;case 10:t=Rt.a;break;case 11:t=Gt.a;break;default:t=vt.a}return new bt.a.Icon({iconUrl:t,iconSize:new bt.a.Point(36,60),iconAnchor:[18,60]})}var Wt=Object(o.c)((function(e){var t=e.map,a=e.news;return{lat:t.lat,lng:t.lng,zoom:t.zoom,geodata:t.geodata,showTypes:t.showTypes,news:a.allNews}}))((function(e){var t=e.lat,a=e.lng,c=e.zoom,i=e.geodata,s=e.news,o=e.showTypes,l=e.redirect,u=[];o.forEach((function(e){var t=e.type;return s.forEach((function(e){t===e.type&&u.push(e)}))}));var m=Object(n.useContext)(f),p=m.changeZoom,d=m.changeCoordinates,g=m.setActiveNews,b=function(){var e=Object(mt.a)(ut.a.mark((function e(t){return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:l("/map/news/".concat(t.id));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(pt.a,{center:[t,a],zoom:c,maxZoom:17,minZoom:5,attributionControl:!0,zoomControl:!1,doubleClickZoom:!0,scrollWheelZoom:!0,dragging:!0,animate:!0,easeLinearity:.35,onDragEnd:function(e){var t=e.target.getCenter(),a=t.lat,n=t.lng;d(a,n)},onZoomEnd:function(e){return p(e.target.getZoom())}},r.a.createElement(dt.a,{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),i&&r.a.createElement(gt.a,{position:[i.coords.latitude,i.coords.longitude],icon:Ht()}),u.map((function(e){return r.a.createElement(gt.a,{key:e.id,position:e.coords,icon:Ht(e.type),onClick:function(){return b(e)}})})))})),Zt=a(24),Vt=a(247),Yt=a(248),Jt=a(249),Qt=a(251),$t=a(253),qt=a(250),Xt=a(252),Kt=Object(B.a)((function(e){return Object(K.a)({root:{position:"relative"},titleContainer:{position:"relative",backgroundColor:"#eee",borderBottom:"1px solid #cecece"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},infoContainer:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(1)},date:{color:"#aaa",cursor:"pointer","&:hover":{textDecoration:"underline"}},views:{display:"flex",alignItems:"center",color:"#aaa"},viewsIcon:{marginLeft:e.spacing(1)},sourcesContainer:{display:"flex",flexDirection:"column",marginTop:e.spacing(2)},sourceBorder:{marginBottom:e.spacing(1),borderBottom:"1px solid #cecece"},container:{display:"flex",justifyContent:"center",alignItems:"center"}},e.breakpoints.up("md"),{container:{marginTop:e.spacing(5),marginBottom:e.spacing(5)}})}));var ea=Object(o.c)((function(e){return{news:e.news.activeNews}}))((function(e){var t=e.news,a=e.newsId,c=e.redirect,i=Object(n.useContext)(f),s=i.fetchNews,o=i.setActiveNews,l=Kt(),u=t instanceof Object?function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1,r=t.getFullYear(),c=t.getHours(),i=t.getMinutes();return a<10&&(a="0"+a),n<10&&(n="0"+n),c<10&&(c="0"+c),i<10&&(i="0"+i),"".concat(c,":").concat(i," ").concat(a,".").concat(n,".").concat(r)}(t.date):null,m=Object(Zt.a)(),p=Object(Vt.a)(m.breakpoints.down("sm"));Object(n.useEffect)((function(){t||s(a)}),[s,t,a]);var d=function(){c("/map"),o(null)};return r.a.createElement(Yt.a,{open:!0,onClose:d,maxWidth:"md",fullWidth:!0,fullScreen:p,className:l.root},t&&!t.error&&r.a.createElement(n.Fragment,null,r.a.createElement(Jt.a,{className:l.titleContainer},t.title,r.a.createElement(pe.a,{onClick:d,className:l.closeButton},r.a.createElement(qt.a,null))),r.a.createElement(Qt.a,null,r.a.createElement("div",{className:l.infoContainer},r.a.createElement(ue.a,{variant:"body1",className:l.date},u),r.a.createElement(ue.a,{variant:"body1",className:l.views},t.views," ",r.a.createElement(Xt.a,{className:l.viewsIcon}))),r.a.createElement(ue.a,{variant:"body1"},t.text),r.a.createElement("div",{className:l.sourcesContainer},r.a.createElement(ue.a,{variant:"h6"},"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0438:"),r.a.createElement("div",{className:l.sourceBorder}),t.sources.map((function(e,t){return r.a.createElement($t.a,{key:t,href:e.link},e.name)}))))),t&&t.error&&r.a.createElement(Qt.a,{className:l.container},r.a.createElement(pe.a,{onClick:d,className:l.closeButton},r.a.createElement(qt.a,null)),r.a.createElement(ue.a,{variant:"h6"},t.error)),!t&&r.a.createElement(Qt.a,{className:l.container},r.a.createElement(pe.a,{onClick:d,className:l.closeButton},r.a.createElement(qt.a,null)),r.a.createElement(ue.a,{variant:"h6"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430")))})),ta=Object(B.a)((function(e){return Object(K.a)({root:{display:"flex",height:"100%"},buttonUserPosition:{position:"absolute",bottom:e.spacing(1),right:e.spacing(1),zIndex:1e3},zoomButtonsContainer:{display:"flex",flexDirection:"column",position:"absolute",top:e.spacing(1),right:e.spacing(1),zIndex:1e3},buttonZoomOut:{marginTop:e.spacing(1)}},e.breakpoints.up("md"),{buttonUserPosition:{bottom:e.spacing(3),right:e.spacing(3)},zoomButtonsContainer:{top:e.spacing(3),right:e.spacing(3)},buttonZoomOut:{marginTop:e.spacing(1)}})}));function aa(e){var t=e.geodata,a=e.zoom,c=e.location,i=e.snackbar,s=e.history,l=ta(),u=Object(n.useContext)(f),m=u.changeCoordinates,p=u.changeZoom,d=u.incrementZoom,b=u.decrementZoom,E=u.fetchAllNews;return Object(n.useEffect)((function(){E()}),[E]),r.a.createElement("div",{className:l.root},r.a.createElement(ot,{location:c}),r.a.createElement(H.a,{color:"primary",size:"large",className:l.buttonUserPosition,disabled:null===t,onClick:function(){return Object(o.b)((function(){m(t.coords.latitude,t.coords.longitude),p(16)}))}},r.a.createElement(V.a,null)),r.a.createElement("div",{className:l.zoomButtonsContainer},r.a.createElement(W.a,{orientation:"vertical"},r.a.createElement(M.a,{variant:"contained",onClick:function(){17!==a&&d()}},r.a.createElement(Y.a,null)),r.a.createElement(M.a,{variant:"contained",onClick:function(){5!==a&&b()}},r.a.createElement(J.a,null)))),r.a.createElement(Wt,{redirect:s.push}),r.a.createElement(Z.a,{open:!!i,message:i,anchorOrigin:{vertical:"top",horizontal:"center"}}),r.a.createElement(g.b,{path:"/map/news/:newsId",render:function(e){var t=e.match;return r.a.createElement(ea,{newsId:t.params.newsId,redirect:s.push})}}))}aa.defaultProps={snackbar:""};var na=Object(o.c)((function(e){var t=e.map,a=e.system;return{geodata:t.geodata,zoom:t.zoom,snackbar:a.newsFetchSnackbar}}))(aa),ra=a(152),ca=a(290),ia=Object(B.a)((function(e){return Object(K.a)({root:{display:"flex",flexDirection:"column",minHeight:"100%",background:R},logoContainer:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:e.spacing(3),color:"#fff",textTransform:"uppercase"},logo:{marginLeft:e.spacing(1),height:30},paper:{marginTop:e.spacing(3),marginLeft:e.spacing(1),marginRight:e.spacing(1),paddingTop:e.spacing(1),paddingBottom:e.spacing(3)},title:{textAlign:"center",textTransform:"uppercase"},form:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},textField:{marginTop:e.spacing(1),width:"100%"},button:{marginTop:e.spacing(3)},grayText:{marginTop:e.spacing(1),textAlign:"center",color:"#999"},link:{textDecoration:"none"},linkButton:{marginTop:e.spacing(1)},underContainer:{display:"flex",justifyContent:"center",marginTop:e.spacing(1)},backButton:{color:"#fff"}},e.breakpoints.up("sm"),{root:{alignItems:"center"},paper:{marginTop:e.spacing(10),width:e.breakpoints.width("sm")},form:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},underContainer:{justifyContent:"flex-end",width:e.breakpoints.width("sm")}})}));function sa(e){var t=e.isAuth,a=e.snackbar,c=e.email,i=e.emailError,l=e.password,u=e.passwordError,m=e.isDisabled,p=Object(n.useContext)(f),d=p.changeField,b=p.signInValidate,E=ia(),v=function(e){var t=e.target;return Object(o.b)((function(){d(t.name,t.value),d(t.name+"Error","")}))};return t?r.a.createElement(g.a,{to:"/map"}):r.a.createElement("div",{className:E.root},r.a.createElement("div",{className:E.logoContainer},r.a.createElement(ue.a,{variant:"h5"},"Crime Maps"),r.a.createElement("img",{src:je.a,alt:"",className:E.logo})),r.a.createElement(ra.a,{className:E.paper},r.a.createElement(ue.a,{variant:"h6",className:E.title},"\u0412\u0445\u043e\u0434"),r.a.createElement("div",{className:E.form},r.a.createElement(ca.a,{name:"signInEmail",value:c,error:!!i,helperText:i,onChange:v,className:E.textField,label:"E-Mail"}),r.a.createElement(ca.a,{name:"signInPassword",value:l,error:!!u,helperText:u,type:"password",onChange:v,className:E.textField,label:"\u041f\u0430\u0440\u043e\u043b\u044c"}),r.a.createElement(M.a,{color:"primary",variant:"contained",size:"large",className:E.button,fullWidth:!0,onClick:b,disabled:m},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement(ue.a,{variant:"body2",className:E.grayText},"\u0438\u043b\u0438"),r.a.createElement(s.b,{to:"/sign-up",className:E.link},r.a.createElement(M.a,{color:"secondary",variant:"contained",className:E.linkButton,fullWidth:!0},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))),r.a.createElement("div",{className:E.underContainer},r.a.createElement(s.b,{to:"/map",className:E.link},r.a.createElement(M.a,{className:E.backButton},"\u041d\u0430\u0437\u0430\u0434 \u043d\u0430 \u0441\u0430\u0439\u0442"))),r.a.createElement(Z.a,{open:!!a,message:a,anchorOrigin:{vertical:"bottom",horizontal:"left"}}))}sa.defaultProps={snackbar:"",email:"",emailError:"",password:"",passwordError:"",isDisabled:!1};var oa=Object(o.c)((function(e){var t=e.user,a=e.forms,n=e.system;return{isAuth:t.isAuth,email:a.signInEmail,emailError:a.signInEmailError,password:a.signInPassword,passwordError:a.signInPasswordError,isDisabled:a.signInButtonDisabled,snackbar:n.signInSnackbar}}))(sa),la=Object(B.a)((function(e){return Object(K.a)({root:{display:"flex",flexDirection:"column",minHeight:"100%",background:"linear-gradient(45deg, #f64b11 30%, #ffbc00 90%)"},logoContainer:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:e.spacing(3),color:"#fff",textTransform:"uppercase"},logo:{marginLeft:e.spacing(1),height:30},paper:{marginTop:e.spacing(3),marginLeft:e.spacing(1),marginRight:e.spacing(1),paddingTop:e.spacing(1),paddingBottom:e.spacing(3)},title:{textAlign:"center",textTransform:"uppercase"},form:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},textField:{marginTop:e.spacing(1),width:"100%"},button:{marginTop:e.spacing(3)},grayText:{marginTop:e.spacing(1),textAlign:"center",color:"#999"},link:{textDecoration:"none"},linkButton:{marginTop:e.spacing(1)},underContainer:{display:"flex",justifyContent:"center",marginTop:e.spacing(1)},backButton:{color:"#fff"}},e.breakpoints.up("sm"),{root:{alignItems:"center"},paper:{marginTop:e.spacing(10),width:e.breakpoints.width("sm")},form:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},underContainer:{justifyContent:"flex-end",width:e.breakpoints.width("sm")}})}));function ua(e){var t=e.snackbar,a=e.isButtonDisabled,c=e.name,i=e.nameError,l=e.email,u=e.emailError,m=e.password,p=e.passwordError,d=e.isAuth,b=Object(n.useContext)(f),E=b.changeField,v=b.signUpValidate,h=la(),x=function(e){var t=e.target;return Object(o.b)((function(){E(t.name,t.value),E(t.name+"Error","")}))};return d?r.a.createElement(g.a,{to:"/map"}):r.a.createElement("div",{className:h.root},r.a.createElement("div",{className:h.logoContainer},r.a.createElement(ue.a,{variant:"h5"},"Crime Maps"),r.a.createElement("img",{src:je.a,alt:"",className:h.logo})),r.a.createElement(ra.a,{className:h.paper},r.a.createElement(ue.a,{variant:"h6",className:h.title},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("div",{className:h.form},r.a.createElement(ca.a,{name:"signUpName",value:c,onChange:x,error:!!i,helperText:i,className:h.textField,label:"\u0418\u043c\u044f \u043d\u0430 \u0441\u0430\u0439\u0442\u0435"}),r.a.createElement(ca.a,{name:"signUpEmail",value:l,onChange:x,error:!!u,helperText:u,className:h.textField,label:"E-Mail"}),r.a.createElement(ca.a,{name:"signUpPassword",value:m,type:"password",onChange:x,error:!!p,helperText:p,className:h.textField,label:"\u041f\u0430\u0440\u043e\u043b\u044c"}),r.a.createElement(M.a,{color:"primary",variant:"contained",size:"large",className:h.button,fullWidth:!0,onClick:v,disabled:a},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),r.a.createElement(ue.a,{variant:"body2",className:h.grayText},"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"),r.a.createElement(s.b,{to:"/sign-in",className:h.link},r.a.createElement(M.a,{color:"secondary",variant:"contained",className:h.linkButton,fullWidth:!0},"\u0412\u043e\u0439\u0442\u0438")))),r.a.createElement("div",{className:h.underContainer},r.a.createElement(s.b,{to:"/map",className:h.link},r.a.createElement(M.a,{className:h.backButton},"\u041d\u0430\u0437\u0430\u0434 \u043d\u0430 \u0441\u0430\u0439\u0442"))),r.a.createElement(Z.a,{open:!!t,message:t,anchorOrigin:{vertical:"bottom",horizontal:"left"}}))}ua.defaultProps={name:"",nameError:"",email:"",emailError:"",password:"",passwordError:"",isButtonDisabled:!1};var ma=Object(o.c)((function(e){var t=e.system,a=e.forms,n=e.user;return{snackbar:t.signUpSnackbar,name:a.signUpName,nameError:a.signUpNameError,email:a.signUpEmail,emailError:a.signUpEmailError,password:a.signUpPassword,passwordError:a.signUpPasswordError,isButtonDisabled:a.signUpButtonDisabled,isAuth:n.isAuth}}))(ua),pa=a(60),da=a(286),ga=a(263),fa=Object(B.a)((function(e){return{drawer:Object(K.a)({},e.breakpoints.up("sm"),{width:250}),drawerPaper:{width:250},logo:{width:25},logoTextContainer:{marginLeft:e.spacing(3),display:"flex",flexDirection:"column"},logoText:{fontWeight:"bold"}}}));var ba=function(e){var t=e.isOpenMobile,a=e.onClose,n=e.children,c=fa();return r.a.createElement("nav",{className:c.drawer},r.a.createElement(da.a,{smUp:!0,implementation:"css"},r.a.createElement(Q.a,{variant:"temporary",open:t,onClose:a,ModalProps:{keepMounted:!0},classes:{paper:c.drawerPaper}},r.a.createElement(ga.a,null,r.a.createElement("img",{alt:"Logo",src:je.a,className:c.logo}),r.a.createElement("div",{className:c.logoTextContainer},r.a.createElement(ue.a,{className:c.logoText},"CRIME"),r.a.createElement(ue.a,{className:c.logoText},"MAPS"))),n)),r.a.createElement(da.a,{xsDown:!0,implementation:"css"},r.a.createElement(Q.a,{classes:{paper:c.drawerPaper},variant:"permanent",open:!0},r.a.createElement(ga.a,null,r.a.createElement("img",{alt:"Logo",src:je.a,className:c.logo}),r.a.createElement("div",{className:c.logoTextContainer},r.a.createElement(ue.a,{className:c.logoText},"CRIME"),r.a.createElement(ue.a,{className:c.logoText},"MAPS"))),r.a.createElement($.a,null),n)))},Ea=a(262),va=a(196),ha=a(264),xa=a(266),Oa=a(265),wa=a(267),ja=a(268),ka=a(269),Na=a(270),ya=a(271),Ca=Object(B.a)((function(e){var t;return t={linkMenu:{color:e.palette.text.primary,textDecoration:"none"}},Object(K.a)(t,e.breakpoints.up("md"),{content:{marginLeft:250}}),Object(K.a)(t,"loader",{display:"flex",alignItems:"center",justifyContent:"center",marginTop:e.spacing(2),fontSize:"1.5em",color:"#888"}),t}));function Ia(){var e=Ca();return r.a.createElement(Ea.a,null,r.a.createElement(s.b,{to:"/map",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(Oa.a,null)),r.a.createElement(xa.a,null,"\u041a\u0430\u0440\u0442\u0430"))),r.a.createElement($.a,null),r.a.createElement(s.b,{to:"/cabinet",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(et.a,null)),r.a.createElement(xa.a,null,"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"))),r.a.createElement(s.b,{to:"/cabinet/gossip",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(wa.a,null)),r.a.createElement(xa.a,null,"\u0421\u043b\u0443\u0445\u0438"))),r.a.createElement($.a,null),r.a.createElement(s.b,{to:"/cabinet/settings",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(ja.a,null)),r.a.createElement(xa.a,null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))))}function Sa(){var e=Ca();return r.a.createElement(Ea.a,null,r.a.createElement(s.b,{to:"/map",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(Oa.a,null)),r.a.createElement(xa.a,null,"\u041a\u0430\u0440\u0442\u0430"))),r.a.createElement(s.b,{to:"/cabinet",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(et.a,null)),r.a.createElement(xa.a,null,"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"))),r.a.createElement($.a,null),r.a.createElement(s.b,{to:"/cabinet/news",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(ka.a,null)),r.a.createElement(xa.a,null,"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"))),r.a.createElement(s.b,{to:"/cabinet/gossip",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(wa.a,null)),r.a.createElement(xa.a,null,"\u0421\u043b\u0443\u0445\u0438"))),r.a.createElement($.a,null),r.a.createElement(s.b,{to:"/cabinet/cities",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(Na.a,null)),r.a.createElement(xa.a,null,"\u0413\u043e\u0440\u043e\u0434\u0430"))),r.a.createElement(s.b,{to:"/cabinet/users",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(ya.a,null)),r.a.createElement(xa.a,null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"))),r.a.createElement($.a,null),r.a.createElement(s.b,{to:"/cabinet/settings",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(ja.a,null)),r.a.createElement(xa.a,null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))))}function Ta(){var e=Ca();return r.a.createElement(Ea.a,null,r.a.createElement(s.b,{to:"/map",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(Oa.a,null)),r.a.createElement(xa.a,null,"\u041a\u0430\u0440\u0442\u0430"))),r.a.createElement(s.b,{to:"/cabinet",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(et.a,null)),r.a.createElement(xa.a,null,"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"))),r.a.createElement($.a,null),r.a.createElement(s.b,{to:"/cabinet/news",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(ka.a,null)),r.a.createElement(xa.a,null,"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"))),r.a.createElement(s.b,{to:"/cabinet/gossip",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(wa.a,null)),r.a.createElement(xa.a,null,"\u0421\u043b\u0443\u0445\u0438"))),r.a.createElement($.a,null),r.a.createElement(s.b,{to:"/cabinet/cities",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(Na.a,null)),r.a.createElement(xa.a,null,"\u0413\u043e\u0440\u043e\u0434\u0430"))),r.a.createElement(s.b,{to:"/cabinet/users",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(ya.a,null)),r.a.createElement(xa.a,null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"))),r.a.createElement($.a,null),r.a.createElement(s.b,{to:"/cabinet/settings",className:e.linkMenu},r.a.createElement(va.a,{button:!0},r.a.createElement(ha.a,null,r.a.createElement(ja.a,null)),r.a.createElement(xa.a,null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))))}var _a=a(272),Aa=Object(B.a)((function(e){return{rotate:{animation:"$rotate 1s infinite"},"@keyframes rotate":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(-360deg)"}}}}));var Ua=function(){var e=Aa();return r.a.createElement(_a.a,{className:e.rotate})},La=a(291),Da=a(273),Pa=Object(B.a)((function(e){return{root:{display:"flex"},title:{marginLeft:e.spacing(1),fontSize:18,color:"#fff"}}}));function Fa(e){var t=Pa(),a=e.children;return r.a.createElement(Da.a,{color:"default",className:t.root,position:"static"},r.a.createElement(ga.a,null,a))}Fa.defaultProps={children:null};var Ma=Fa,Ba=Object(B.a)((function(e){return Object(K.a)({paper:{display:"flex",flexDirection:"column",alignItems:"center",margin:e.spacing(1)},avatar:{marginTop:e.spacing(1),width:e.spacing(16),height:e.spacing(16)},name:{marginTop:e.spacing(1),fontSize:"2rem"},email:{marginBottom:e.spacing(1),color:"#888"},loading:{display:"flex",alignItems:"center",marginTop:e.spacing(1),fontSize:"1.5rem",color:"#888"}},e.breakpoints.up("md"),{paper:{marginTop:e.spacing(3),marginLeft:"auto",marginRight:"auto",width:e.breakpoints.values.sm}})})),Ra=a(148),za=a.n(Ra);function Ga(e){var t=Ba(),a=e.name,c=e.email,i=a&&c;return e.isAuth?r.a.createElement(n.Fragment,null,r.a.createElement(Ma,null,r.a.createElement(ue.a,{variant:"subtitle1"},"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442")),r.a.createElement(ra.a,{className:t.paper},r.a.createElement(La.a,{alt:"Avatar",src:za.a,className:t.avatar}),i?r.a.createElement(n.Fragment,null,r.a.createElement(ue.a,{className:t.name},a),r.a.createElement(ue.a,{className:t.email},c)):r.a.createElement(ue.a,{className:t.loading},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",r.a.createElement(Ua,null)))):r.a.createElement(g.a,{to:"/map"})}Ga.defaultProps={name:"",email:""};var Ha=Object(o.c)((function(e){var t=e.user;return{isAuth:t.isAuth,name:t.name,email:t.email}}))(Ga),Wa=a(261),Za=a(295),Va=a(284),Ya=a(274);var Ja=function(e){var t=e.cities,a=e.isLoading,n=e.value,c=e.onChange,i=e.defaultValue;return a?r.a.createElement(ue.a,{variant:"subtitle1"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043f\u0438\u0441\u043a\u0430 \u0433\u043e\u0440\u043e\u0434\u043e\u0432..."):r.a.createElement(Wa.a,{variant:"outlined"},r.a.createElement(Za.a,{id:"cabinet-city-select"},"\u0413\u043e\u0440\u043e\u0434"),r.a.createElement(Va.a,{labelId:"cabinet-city-select",label:"\u0413\u043e\u0440\u043e\u0434",defaultValue:i,value:n,onChange:function(e){return c(e.target.value)}},t.map((function(e){return r.a.createElement(Ya.a,{key:e.id,value:e.id},e.name)}))))},Qa=a(275),$a=a(276),qa=a(277),Xa=a(278),Ka=a(279),en=a(281),tn=a(285),an=a(280);var nn=function(e){var t=e.list,a=Object(n.useState)(0),c=Object(pa.a)(a,2),i=c[0],s=c[1],o=Object(n.useState)(10),l=Object(pa.a)(o,2),u=l[0],m=l[1];return t.reverse(),r.a.createElement(Qa.a,{size:"small"},r.a.createElement($a.a,null,r.a.createElement(qa.a,null,r.a.createElement(Xa.a,null,"ID \u041d\u043e\u0432\u043e\u0441\u0442\u0438"),r.a.createElement(Xa.a,null,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),r.a.createElement(Xa.a,{align:"right"},"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))),r.a.createElement(Ka.a,null,(u>0?t.slice(i*u,i*u+u):t).map((function(e){return r.a.createElement(qa.a,{key:e.id},r.a.createElement(Xa.a,{component:"th",scope:"row"},e.id),r.a.createElement(Xa.a,null,e.title),r.a.createElement(Xa.a,{align:"right"},r.a.createElement(pe.a,null,r.a.createElement(de.a,null)),r.a.createElement(pe.a,null,r.a.createElement(an.a,null))))}))),r.a.createElement(en.a,null,r.a.createElement(qa.a,null,r.a.createElement(tn.a,{rowsPerPageOptions:[10,25,{label:"\u0412\u0441\u0435",value:-1}],colSpan:3,count:t.length,rowsPerPage:u,page:i,SelectProps:{inputProps:{"aria-label":"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435"},native:!0},onChangePage:function(e,t){s(t)},onChangeRowsPerPage:function(e){m(parseInt(e.target.value,10)),s(0)}}))))},rn=Object(B.a)((function(e){return{grow:{flexGrow:1},newsContainer:{margin:e.spacing(2)},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(2)},selectContainer:{"& > div":{width:300}},loadingText:{display:"flex",justifyContent:"center",alignItems:"center",padding:e.spacing(3),color:"#999"}}}));function cn(e){var t=e.news,a=e.isCityLoading,c=e.cities,i=e.citiesLoading,s=e.selectedCityId,o=Object(n.useState)(s),l=Object(pa.a)(o,2),u=l[0],m=l[1],p=rn(),d=Object(n.useContext)(f),g=d.fetchNewsForCabinet,b=d.fetchCities,E=d.fetchAllNews;return Object(n.useEffect)((function(){g()}),[g]),Object(n.useEffect)((function(){a&&b()}),[a,b]),Object(n.useEffect)((function(){E()}),[E]),r.a.createElement(n.Fragment,null,r.a.createElement(Ma,null,r.a.createElement(ue.a,{variant:"subtitle1"},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"),r.a.createElement("div",{className:p.grow}),r.a.createElement(M.a,{variant:"contained",color:"primary"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")),r.a.createElement(ra.a,{className:p.newsContainer},r.a.createElement("div",{className:p.header},r.a.createElement(ue.a,{variant:"h6"},"\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439"),r.a.createElement("div",{className:p.selectContainer},r.a.createElement(Ja,{isLoading:i,cities:c,value:u,onChange:m,defaultValue:s}))),r.a.createElement($.a,null),t.length?r.a.createElement(nn,{list:t}):r.a.createElement(ue.a,{variant:"subtitle1",className:p.loadingText},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043f\u0438\u0441\u043a\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439",r.a.createElement(Ua,null))))}cn.defaultProps={isCityLoading:!0};var sn=Object(o.c)((function(e){var t=e.news,a=e.system,n=e.cities;return{news:t.allNews,isCityLoading:a.cabinetNewsLoading,cities:n.data,citiesLoading:n.loading,selectedCityId:n.selectedCityId}}))(cn);function on(e){var t=e.role,a=Object(n.useState)(!1),c=Object(pa.a)(a,2),i=c[0],s=c[1],o=Ca();return r.a.createElement(n.Fragment,null,r.a.createElement(ba,{isOpenMobile:i,onClose:function(){return s(!1)}},null===t&&r.a.createElement(ue.a,{className:o.loader},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043c\u0435\u043d\u044e ",r.a.createElement(Ua,null)),0===t&&r.a.createElement(Ta,null),1===t&&r.a.createElement(Sa,null),2===t&&r.a.createElement(Ia,null)),r.a.createElement("div",{className:o.content},r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/cabinet",component:Ha}),r.a.createElement(g.b,{path:"/cabinet/news",component:sn}))))}on.defaultProps={role:null};var ln=Object(o.c)((function(e){return{role:e.user.role}}))(on);var un,mn,pn=Object(o.c)((function(e){return{isAuth:e.user.isAuth}}),(function(e){return Object(p.b)({fetchUserData:_,signInValidate:N,signUpValidate:I,setLocation:b,setLocationError:E,changeCoordinates:v,changeZoom:h,incrementZoom:x,decrementZoom:O,changeNewsTypes:w,changeSystemField:j,changeField:k,fetchAllNews:U,fetchNews:L,setActiveNews:A,fetchNewsForCabinet:D,fetchCities:F},e)}))((function(e){var t=e.isAuth,a=e.fetchUserData,c=e.setLocation,i=e.setLocationError,s=Object(m.a)(e,["isAuth","fetchUserData","setLocation","setLocationError"]);return navigator.geolocation.getCurrentPosition(c,i),Object(n.useEffect)((function(){t&&a()}),[t,a]),r.a.createElement(f.Provider,{value:s},r.a.createElement(d.a,null),r.a.createElement(g.d,null,r.a.createElement(g.b,{path:"/",exact:!0,component:G}),r.a.createElement(g.b,{path:"/map",component:na}),r.a.createElement(g.b,{path:"/sign-in",exact:!0,component:oa}),r.a.createElement(g.b,{path:"/sign-up",exact:!0,component:ma}),r.a.createElement(g.b,{path:"/cabinet",component:ln})))})),dn=a(150),gn=+JSON.parse(localStorage.getItem("selectedCity")),fn=JSON.parse(localStorage.getItem("citiesList"));if(gn&&fn){var bn=fn.find((function(e){return e.id===gn}));un=bn.lat,mn=bn.lng}else un=55.0415,mn=82.9346;var En={geodata:null,geodataError:!1,lat:un,lng:mn,zoom:13,showTypes:Object(Ne.a)($e)},vn={data:JSON.parse(localStorage.getItem("citiesList"))||[{_id:"5e8f0f4f8883b725cc275bad",id:1,title:"novosibirsk",name:"\u041d\u043e\u0432\u043e\u0441\u0438\u0431\u0438\u0440\u0441\u043a",lat:55.0415,lng:82.9346}],isSelectorOpen:!1,error:!1,loading:!0,selectedCityId:+localStorage.getItem("selectedCity")||1};var hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CITIES":return Object(ee.a)({},e,{data:t.cities});case"MODAL":return Object(ee.a)({},e,{isSelectorOpen:t.isOpen});case"SET_CITY_ERROR":return Object(ee.a)({},e,{error:t.error});case"SET_CITIES_LOADING":return Object(ee.a)({},e,{loading:t.loading});case"CHANGE_SELECTED_CITY":return Object(ee.a)({},e,{selectedCityId:t.id});default:return e}},xn=a(52),On=a.n(xn),wn={isAuth:!!On.a.get("token")},jn={},kn={},Nn={allNews:[],activeNews:null},yn=Object(p.c)({map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOCATION":return Object(ee.a)({},e,{geodata:t.data});case"SET_LOCATION_ERROR":return Object(ee.a)({},e,{error:!0});case"CHANGE_COORDINATES":return Object(ee.a)({},e,{lat:t.lat,lng:t.lng});case"SET_ZOOM":return Object(ee.a)({},e,{zoom:t.zoom});case"INCREMENT_ZOOM":return Object(ee.a)({},e,{zoom:e.zoom+1});case"DECREMENT_ZOOM":return Object(ee.a)({},e,{zoom:e.zoom-1});case"CHANGE_NEWS_TYPES":var a=e.showTypes.find((function(e){return e.type===t.typeNews}));if(a)return Object(ee.a)({},e,{showTypes:e.showTypes.filter((function(e){return e.type!==t.typeNews}))});var n=$e.find((function(e){return e.type===t.typeNews}));return Object(ee.a)({},e,{showTypes:[].concat(Object(Ne.a)(e.showTypes),[n])});default:return e}},cities:hn,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(ee.a)({},e,{},t.data,{isAuth:!0});default:return e}},system:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SYSTEM_FIELD":return Object(ee.a)({},e,Object(K.a)({},t.name,t.value));default:return e}},forms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_FIELD":return Object(ee.a)({},e,Object(K.a)({},t.name,t.value));default:return e}},news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NEWS":return Object(ee.a)({},e,{allNews:Object(Ne.a)(t.news)});case"SET_ACTIVE_NEWS":return Object(ee.a)({},e,{activeNews:t.news});default:return e}}}),Cn=a(5),In=a(86),Sn=a.n(In),Tn=/^\s*([0-9a-zA-Z\u0430-\u044f\u0410-\u042f]*)\s*$/,_n=/^\s*([0-9a-zA-Z]*)\s*$/,An=ut.a.mark(Un);function Un(){var e,t,a,n,r,c;return ut.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(Cn.f)((function(e){var t=e.forms;return{email:t.signInEmail,emailError:t.signInEmailError,password:t.signInPassword,passwordError:t.signInPasswordError}}));case 2:if(e=i.sent,t=e.email,a=e.emailError,n=e.password,r=e.passwordError,c=!1,!a&&!r){i.next=11;break}return i.next=11,Object(Cn.c)();case 11:return i.next=13,Object(Cn.e)(k("signInButtonDisabled",!0));case 13:if(Sn.a.validate(t)){i.next=17;break}return i.next=16,Object(Cn.e)(k("signInEmailError","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 E-Mail."));case 16:c=!0;case 17:if(!(!n||!n.match(_n)||n.length<6||n.length>16)){i.next=21;break}return i.next=20,Object(Cn.e)(k("signInPasswordError","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c."));case 20:c=!0;case 21:if(!c){i.next=26;break}return i.next=24,Object(Cn.e)(C("\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"));case 24:i.next=28;break;case 26:return i.next=28,Object(Cn.e)(y(t,n));case 28:case"end":return i.stop()}}),An)}var Ln=Un,Dn=a(68),Pn=a(69),Fn=a(31),Mn=a.n(Fn),Bn=function(){function e(){Object(Dn.a)(this,e)}return Object(Pn.a)(e,null,[{key:"signIn",value:function(e){return Mn.a.post("/api/auth/sign-in",e).then((function(e){return e})).catch((function(e){var t=e.response;return Object(ee.a)({},t)}))}},{key:"signUp",value:function(e){return Mn.a.post("/api/auth/sign-up",e).then((function(e){return e})).catch((function(e){var t=e.response;return Object(ee.a)({},t)}))}},{key:"fetchUserData",value:function(){return Mn.a.get("/api/auth/user").then((function(e){return e})).catch((function(e){var t=e.response;return Object(ee.a)({},t)}))}}]),e}(),Rn=ut.a.mark(zn);function zn(e){var t,a,n,r;return ut.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.email,a=e.password,n={email:t,password:a},c.prev=2,c.next=5,Object(Cn.b)(Bn.signIn,n);case 5:if(200!==(r=c.sent).status){c.next=11;break}return c.next=9,Object(Cn.e)({type:"SIGN_IN_SUCCESS",data:r.data});case 9:c.next=13;break;case 11:return c.next=13,Object(Cn.e)(C(r.data));case 13:c.next=18;break;case 15:c.prev=15,c.t0=c.catch(2),console.error(c.t0);case 18:case"end":return c.stop()}}),Rn,null,[[2,15]])}var Gn=zn,Hn=ut.a.mark(Wn);function Wn(e){var t,a;return ut.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.data,a=On.a.get("token"),Mn.a.defaults.headers.common.Authorization=a,n.next=5,Object(Cn.e)(k("signInButtonDisabled",!1));case 5:return n.next=7,Object(Cn.e)(j("signInSnackbar",""));case 7:return n.next=9,Object(Cn.e)(k("signInEmail",""));case 9:return n.next=11,Object(Cn.e)(k("signInPassword",""));case 11:return n.next=13,Object(Cn.e)(T(t));case 13:case"end":return n.stop()}}),Hn)}var Zn=Wn,Vn=ut.a.mark(Yn);function Yn(e){var t;return ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.message,a.next=3,Object(Cn.e)(k("signInButtonDisabled",!1));case 3:return a.next=5,Object(Cn.e)(j("signInSnackbar",t));case 5:return a.next=7,Object(Cn.d)(4e3);case 7:return a.next=9,Object(Cn.e)(j("signInSnackbar",""));case 9:case"end":return a.stop()}}),Vn)}var Jn=Yn,Qn=ut.a.mark($n);function $n(){return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Cn.g)("SIGN_IN_VALIDATE",Ln);case 2:return e.next=4,Object(Cn.g)("SIGN_IN_REQUEST",Gn);case 4:return e.next=6,Object(Cn.g)("SIGN_IN_SUCCESS",Zn);case 6:return e.next=8,Object(Cn.g)("SIGN_IN_FAIL",Jn);case 8:case"end":return e.stop()}}),Qn)}var qn=ut.a.mark(Xn);function Xn(){var e,t,a,n,r,c,i,s;return ut.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(Cn.f)((function(e){var t=e.forms;return{name:t.signUpName,nameError:t.signUpNameError,email:t.signUpEmail,emailError:t.signUpEmailError,password:t.signUpPassword,passwordError:t.signUpPasswordError}}));case 2:if(e=o.sent,t=e.name,a=e.nameError,n=e.email,r=e.emailError,c=e.password,i=e.passwordError,s=!1,!(a||r||i)){o.next=13;break}return o.next=13,Object(Cn.c)();case 13:return o.next=15,Object(Cn.e)(k("signUpButtonDisabled",!0));case 15:if(t){o.next=21;break}return o.next=18,Object(Cn.e)(k("signUpNameError","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f."));case 18:s=!0,o.next=31;break;case 21:if(!(t<4||t>16)){o.next=27;break}return o.next=24,Object(Cn.e)(k("signUpNameError","\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 6 \u0434\u043e 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."));case 24:s=!0,o.next=31;break;case 27:if(t.match(Tn)){o.next=31;break}return o.next=30,Object(Cn.e)(k("signUpNameError","\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0438 \u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b, \u0430 \u0442\u0430\u043a \u0436\u0435 \u0447\u0438\u0441\u043b\u0430."));case 30:s=!0;case 31:if(n){o.next=37;break}return o.next=34,Object(Cn.e)(k("signUpEmailError","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 E-Mail."));case 34:s=!0,o.next=41;break;case 37:if(Sn.a.validate(n)){o.next=41;break}return o.next=40,Object(Cn.e)(k("signUpEmailError","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 E-Mail."));case 40:s=!0;case 41:if(c){o.next=47;break}return o.next=44,Object(Cn.e)(k("signUpPasswordError","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c."));case 44:s=!0,o.next=57;break;case 47:if(c.match(_n)){o.next=53;break}return o.next=50,Object(Cn.e)(k("signUpPasswordError","\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b \u0438 \u0447\u0438\u0441\u043b\u0430."));case 50:s=!0,o.next=57;break;case 53:if(!(!c||c.length<6||c.length>16)){o.next=57;break}return o.next=56,Object(Cn.e)(k("signUpPasswordError","\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 6 \u0434\u043e 16 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."));case 56:s=!0;case 57:if(!s){o.next=62;break}return o.next=60,Object(Cn.e)(S("\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"));case 60:o.next=64;break;case 62:return o.next=64,Object(Cn.e)({type:"SIGN_UP_REQUEST",requestBody:{name:t,email:n,password:c}});case 64:case"end":return o.stop()}}),qn)}var Kn=Xn,er=ut.a.mark(tr);function tr(e){var t,a;return ut.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.requestBody,n.prev=1,n.next=4,Object(Cn.b)(Bn.signUp,t);case 4:if(201!==(a=n.sent).status){n.next=10;break}return n.next=8,Object(Cn.e)({type:"SIGN_UP_SUCCESS",data:a.data});case 8:n.next=12;break;case 10:return n.next=12,Object(Cn.e)(S(a.data));case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(1),console.error(n.t0);case 17:case"end":return n.stop()}}),er,null,[[1,14]])}var ar=tr,nr=ut.a.mark(rr);function rr(e){var t,a;return ut.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.data,a=On.a.get("token"),Mn.a.defaults.headers.common.Authorization=a,n.next=5,Object(Cn.e)(k("signUpButtonDisabled",!1));case 5:return n.next=7,Object(Cn.e)(j("signUpSnackbar",""));case 7:return n.next=9,Object(Cn.e)(k("signUpName",""));case 9:return n.next=11,Object(Cn.e)(k("signUpEmail",""));case 11:return n.next=13,Object(Cn.e)(k("signUpPassword",""));case 13:return n.next=15,Object(Cn.e)(T(t));case 15:case"end":return n.stop()}}),nr)}var cr=rr,ir=ut.a.mark(sr);function sr(e){var t;return ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.message,a.next=3,Object(Cn.e)(k("signUpButtonDisabled",!1));case 3:return a.next=5,Object(Cn.e)(j("signUpSnackbar",t));case 5:return a.next=7,Object(Cn.d)(4e3);case 7:return a.next=9,Object(Cn.e)(j("signUpSnackbar",""));case 9:case"end":return a.stop()}}),ir)}var or=sr,lr=ut.a.mark(ur);function ur(){return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Cn.g)("SIGN_UP_VALIDATE",Kn);case 2:return e.next=4,Object(Cn.g)("SIGN_UP_REQUEST",ar);case 4:return e.next=6,Object(Cn.g)("SIGN_UP_SUCCESS",cr);case 6:return e.next=8,Object(Cn.g)("SIGN_UP_FAIL",or);case 8:case"end":return e.stop()}}),lr)}var mr=function(){function e(){Object(Dn.a)(this,e)}return Object(Pn.a)(e,null,[{key:"fetchAll",value:function(e){return Mn.a.get("/api/news/city/".concat(e)).then((function(e){return e})).catch((function(e){var t=e.response;return Object(ee.a)({},t)}))}},{key:"fetch",value:function(e){return Mn.a.get("/api/news/".concat(e)).then((function(e){return e})).catch((function(e){var t=e.response;return Object(ee.a)({},t)}))}}]),e}(),pr=ut.a.mark(dr);function dr(){var e,t,a,n,r;return ut.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(Cn.e)(j("newsFetchSnackbar","\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439..."));case 2:return c.next=4,Object(Cn.f)((function(e){var t=e.cities;return{cityId:t.selectedCityId,cities:t.data}}));case 4:return e=c.sent,t=e.cityId,a=e.cities,n=a.find((function(e){var a=e.id;return t===a})),c.prev=8,c.next=11,Object(Cn.b)(mr.fetchAll,n.title);case 11:if(200!==(r=c.sent).status){c.next=17;break}return c.next=15,Object(Cn.e)({type:"SET_NEWS",news:r.data});case 15:c.next=21;break;case 17:return c.next=19,Object(Cn.e)(j("newsFetchSnackbar","\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439."));case 19:return c.next=21,Object(Cn.d)(3e3);case 21:c.next=30;break;case 23:return c.prev=23,c.t0=c.catch(8),console.error(c.t0),c.next=28,Object(Cn.e)(j("newsFetchSnackbar","\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430! \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443."));case 28:return c.next=30,Object(Cn.d)(3e3);case 30:return c.prev=30,c.next=33,Object(Cn.e)(j("newsFetchSnackbar",""));case 33:return c.finish(30);case 34:case"end":return c.stop()}}),pr,null,[[8,23,30,34]])}var gr=dr,fr=ut.a.mark(br);function br(e){var t,a;return ut.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.id,n.prev=1,n.next=4,Object(Cn.b)(mr.fetch,t);case 4:if(200!==(a=n.sent).status){n.next=8;break}return n.next=8,Object(Cn.e)(A(a.data));case 8:if(404!==a.status){n.next=11;break}return n.next=11,Object(Cn.e)(A({error:"\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430."}));case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.error(n.t0);case 16:case"end":return n.stop()}}),fr,null,[[1,13]])}var Er=br,vr=ut.a.mark(hr);function hr(){return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Cn.g)("FETCH_ALL_NEWS",gr);case 2:return e.next=4,Object(Cn.g)("FETCH_NEWS",Er);case 4:case"end":return e.stop()}}),vr)}var xr=ut.a.mark(Or);function Or(){var e,t;return ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=On.a.get("token"),Mn.a.defaults.headers.common.Authorization=e,a.prev=2,a.next=5,Object(Cn.b)(Bn.fetchUserData);case 5:if(200!==(t=a.sent).status){a.next=11;break}return a.next=9,Object(Cn.e)({type:"FETCH_USER_DATA_SUCCESS",data:t.data});case 9:a.next=14;break;case 11:return Mn.a.defaults.headers.common.Authorization="",a.next=14,Object(Cn.e)({type:"LOGOUT_USER"});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(2),console.error(a.t0.message);case 19:case"end":return a.stop()}}),xr,null,[[2,16]])}var wr=Or,jr=ut.a.mark(kr);function kr(e){var t;return ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.data,a.next=3,Object(Cn.e)(T(t));case 3:case"end":return a.stop()}}),jr)}var Nr=kr,yr=ut.a.mark(Cr);function Cr(){return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Cn.g)("FETCH_USER_DATA",wr);case 2:return e.next=4,Object(Cn.g)("FETCH_USER_DATA_SUCCESS",Nr);case 4:case"end":return e.stop()}}),yr)}var Ir=ut.a.mark(Sr);function Sr(){return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Cn.e)(j("cabinetNewsLoading",!1));case 2:case"end":return e.stop()}}),Ir)}var Tr=Sr,_r=ut.a.mark(Ar);function Ar(){return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Cn.g)("FETCH_NEWS_FOR_CABINET",Tr);case 2:case"end":return e.stop()}}),_r)}var Ur=function(){function e(){Object(Dn.a)(this,e)}return Object(Pn.a)(e,null,[{key:"fetch",value:function(){return Mn.a.get("/api/cities").then((function(e){return e})).catch((function(e){var t=e.response;return Object(ee.a)({},t)}))}}]),e}(),Lr=ut.a.mark(Dr);function Dr(){var e;return ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Cn.b)(Ur.fetch);case 3:if(200!==(e=t.sent).status){t.next=9;break}return t.next=7,Object(Cn.e)({type:"FETCH_CITIES_SUCCESS",data:e.data});case 7:t.next=11;break;case 9:return t.next=11,Object(Cn.e)({type:"FETCH_CITIES_FAIL"});case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0.message);case 16:case"end":return t.stop()}}),Lr,null,[[0,13]])}var Pr=Dr,Fr=ut.a.mark(Mr);function Mr(e){var t;return ut.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.data,a.next=3,Object(Cn.e)({type:"SET_CITIES",cities:t});case 3:return a.next=5,Object(Cn.e)(P(!1));case 5:case"end":return a.stop()}}),Fr)}var Br=Mr,Rr=ut.a.mark(zr);function zr(){return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Cn.e)({type:"SET_CITY_ERROR",error:!0});case 2:return e.next=4,Object(Cn.e)(P(!1));case 4:return e.next=6,Object(Cn.e)(j("cabinetNewsSnackbar","\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0433\u043e\u0440\u043e\u0434\u043e\u0432."));case 6:return e.next=8,Object(Cn.d)(5e3);case 8:return e.next=10,Object(Cn.e)(j("cabinetNewsSnackbar",""));case 10:case"end":return e.stop()}}),Rr)}var Gr=zr,Hr=ut.a.mark(Wr);function Wr(){return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Cn.g)("FETCH_CITIES",Pr);case 2:return e.next=4,Object(Cn.g)("FETCH_CITIES_SUCCESS",Br);case 4:return e.next=6,Object(Cn.g)("FETCH_CITIES_FAIL",Gr);case 6:case"end":return e.stop()}}),Hr)}var Zr=ut.a.mark(Vr);function Vr(){return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Cn.a)([$n(),ur(),hr(),Cr(),Ar(),Wr()]);case 2:case"end":return e.stop()}}),Zr)}var Yr=Vr,Jr=Object(dn.a)(),Qr=Object(p.e)(yn,Object(p.a)(Jr));window.getState=Qr.getState,Jr.run(Yr);var $r=Qr,qr=(a(191),Object(l.a)({palette:{primary:{main:"#f64b11"},secondary:{main:"#2196F3"}}}));i.a.render(r.a.createElement(s.a,null,r.a.createElement(o.a,{store:$r},r.a.createElement(u.a,{theme:qr},r.a.createElement(pn,null)))),document.getElementById("root"))},48:function(e,t,a){e.exports=a.p+"static/media/logo_dark.6ea33164.svg"}},[[163,1,2]]]);
//# sourceMappingURL=main.db595f0f.chunk.js.map