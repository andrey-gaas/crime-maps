{"version":3,"sources":["images/citiesBG/novosibirsk.jpg","images/citiesBG/krasnoyarsk.jpg","images/emblems/novosibirsk.svg","images/emblems/krasnoyarsk.svg","images/pins/user.svg","images/pins/car_theft.svg","images/pins/fire.svg","images/pins/accident.svg","images/pins/animal.svg","images/pins/violence.svg","images/pins/bad_services.svg","images/pins/death.svg","images/pins/dtp.svg","images/pins/lost_man.svg","images/pins/protest.svg","images/pins/theft.svg","components/Menu/cityBackgrounds.js","components/Menu/Desctop/styles.js","components/Menu/Geo/styles.js","components/Menu/Geo/emblems.js","components/Menu/Geo/index.js","constants/styles.js","components/Menu/Auth/styles.js","store/AC/user.js","store/actions/user.js","components/Menu/Auth/index.js","components/Menu/Desctop/index.js","components/Menu/Mobile/styles.js","components/Menu/Mobile/index.js","store/AC/cities.js","store/actions/cities.js","components/Menu/index.js","store/AC/map.js","store/actions/map.js","store/AC/incident.js","store/actions/incident.js","components/Map/getIcon.js","constants/incidents.js","components/Map/index.js","constants/map.js","components/CitiesSelector/styles.js","components/CitiesSelector/index.js","components/Incident/styles.js","components/Incident/index.js","containers/Main/styles.js","store/AC/incidents.js","store/actions/incidents.js","containers/Main/index.js","containers/SignIn/styles.js","store/AC/forms.js","store/actions/forms.js","store/AC/auth.js","store/actions/auth.js","constants/forms.js","containers/SignIn/index.js","containers/SignUp/styles.js","containers/SignUp/index.js","store/AC/geodata.js","store/actions/geodata.js","containers/App/index.js","store/reducers/system.js","store/reducers/forms.js","store/reducers/cities.js","store/reducers/map.js","store/reducers/geodata.js","store/reducers/incidents.js","store/reducers/user.js","store/reducers/index.js","store/actions/system.js","store/reducers/incident.js","store/sagas/cities.js","store/sagas/incidents.js","api/auth.js","store/AC/system.js","store/sagas/auth.js","store/sagas/index.js","store/index.js","index.js","images/logo_dark.svg"],"names":["module","exports","novosibirsk","backgroundImage","backgroundSize","backgroundRepeat","krasnoyarsk","makeStyles","theme","backgrounds","root","width","flexShrink","rootPaper","header","position","height","searchContainer","display","justifyContent","margin","spacing","padding","backgroundColor","borderRadius","shape","border","search","darkBG","paddingTop","alignItems","overflowX","cityName","marginLeft","color","palette","text","emblemContainer","grow","flexGrow","changeCityButton","breakpoints","up","background","emblem","Geo","props","fetchCities","setModal","loading","city","titleCity","classes","useStyles","useEffect","className","src","emblems","alt","Typography","variant","Tooltip","title","IconButton","onClick","Edit","ORANGE_GRADIENT","marginTop","link","textDecoration","button","borderColor","borderLeft","borderRight","userContainer","borderTop","avatar","marginRight","userButtons","loginUser","user","type","logout","setUser","Auth","isAuth","name","to","Button","size","fullWidth","startIcon","AccountCircle","Avatar","Settings","ExitToApp","defaultProps","id","connect","dispatch","bindActionCreators","DesctopMenu","selectedCity","Hidden","smDown","implementation","Drawer","paper","cn","LogoDark","InputBase","placeholder","openButton","top","left","zIndex","index","paddingRight","logo","closeMenuButton","MobileMenu","useState","isOpen","setOpen","toggleMenu","value","mdUp","Fab","Menu","SwipeableDrawer","open","onOpen","onClose","setError","error","changeCity","changeSelectedCity","cities","selectedCityId","citiesList","data","find","Desctop","Mobile","changeCoordinates","lat","lng","changeZoom","zoom","incrementZoom","decrementZoom","openIncident","incident","closeIncident","getIcon","iconUrl","carTheftIcon","fireIcon","accidentIcon","animalIcon","violenceIcon","badServicesIcon","deathIcon","dtpIcon","lostManIcon","protestIcon","theftIcon","userIcon","L","Icon","iconSize","Point","iconAnchor","map","geodata","incidents","center","maxZoom","minZoom","attributionControl","zoomControl","doubleClickZoom","scrollWheelZoom","dragging","animate","easeLinearity","onDragEnd","target","getCenter","onZoomEnd","test","getZoom","TileLayer","url","Marker","coords","latitude","longitude","icon","key","borderBottom","closeButton","right","loadingText","rotate","animation","transform","actions","isSelectorOpen","setSelectedCityId","Dialog","maxWidth","DialogTitle","Close","DialogContent","Loop","List","component","ListItem","selected","ListItemText","ListItemSecondaryAction","Check","DialogActions","localStorage","setItem","batch","handleClick","disabled","titleContainer","infoContainer","marginBottom","date","cursor","views","viewsIcon","sourcesContainer","flexDirection","sourceBorder","Incident","close","timestamp","sources","Date","day","getDate","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","useTheme","fullScreen","useMediaQuery","down","Visibility","source","i","Link","href","buttonUserPosition","bottom","zoomButtonsContainer","buttonZoomOut","fetchAllIncidents","isLoading","selectedCityid","NearMe","ButtonGroup","orientation","ZoomIn","ZoomOut","minHeight","logoContainer","textTransform","paddingBottom","textAlign","form","paddingLeft","textField","grayText","linkButton","underContainer","backButton","changeField","requestSignUp","signInRequest","signInFail","checkUserAuth","NAME_TEMPLATE","PASSWORD_TEMPLATE","SignIn","snackbar","email","emailError","password","passwordError","isDisabled","handleChange","Paper","TextField","helperText","onChange","label","emailValidator","validate","length","match","Snackbar","message","anchorOrigin","vertical","horizontal","system","forms","signInSnackbar","redirect","signInRedirectToMain","signInEmail","signInEmailError","signInPassword","signInPasswordError","signInButtonDisabled","SignUp","isButtonDisabled","nameError","signUpSnackbar","signUpRedirectToSignIn","signUpName","signUpNameError","signUpEmail","signUpEmailError","signUpPassword","signUpPasswordError","signUpButtonDisabled","setLocation","setLocationError","navigator","geolocation","getCurrentPosition","cookie","get","CssBaseline","exact","path","Main","initialState","JSON","parse","getItem","_id","state","action","savedCities","combineReducers","call","axios","stringify","put","console","takeLatest","fetchIncidents","cityId","select","changeSystemField","signUpRequestSaga","signUpSuccessSaga","signUpFailSaga","signInRequestSaga","signInSuccessSaga","signInFailSaga","login","logoutRequest","post","trim","result","status","delay","token","defaults","headers","common","undefined","Error","takeEvery","rootSaga","all","auth","sagaMiddleware","createSagaMiddleware","store","createStore","rootReducer","applyMiddleware","window","getState","run","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5432176f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/novosibirsk.3223fede.jpg\";","module.exports = __webpack_public_path__ + \"static/media/krasnoyarsk.aaf9cd5c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/novosibirsk.f2328259.svg\";","module.exports = __webpack_public_path__ + \"static/media/krasnoyarsk.0bba5569.svg\";","module.exports = __webpack_public_path__ + \"static/media/user.ed058a81.svg\";","module.exports = __webpack_public_path__ + \"static/media/car_theft.f15135e1.svg\";","module.exports = __webpack_public_path__ + \"static/media/fire.4faaaf86.svg\";","module.exports = __webpack_public_path__ + \"static/media/accident.75476a82.svg\";","module.exports = __webpack_public_path__ + \"static/media/animal.80e28ec9.svg\";","module.exports = __webpack_public_path__ + \"static/media/violence.4e158945.svg\";","module.exports = __webpack_public_path__ + \"static/media/bad_services.78eacfc8.svg\";","module.exports = __webpack_public_path__ + \"static/media/death.25eac115.svg\";","module.exports = __webpack_public_path__ + \"static/media/dtp.741b1766.svg\";","module.exports = __webpack_public_path__ + \"static/media/lost_man.9db9caf4.svg\";","module.exports = __webpack_public_path__ + \"static/media/protest.a4a6d874.svg\";","module.exports = __webpack_public_path__ + \"static/media/theft.2d127463.svg\";","import novosibirsk from '../../images/citiesBG/novosibirsk.jpg';\r\nimport krasnoyarsk from '../../images/citiesBG/krasnoyarsk.jpg';\r\n\r\nexport default {\r\n  novosibirsk: {\r\n    backgroundImage: `url(${novosibirsk})`,\r\n    backgroundSize: 'cover',\r\n    backgroundRepeat: 'no-repeat',\r\n  },\r\n  krasnoyarsk: {\r\n    backgroundImage: `url(${krasnoyarsk})`,\r\n    backgroundSize: 'cover',\r\n    backgroundRepeat: 'no-repeat',\r\n  }\r\n};\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport backgrounds from '../cityBackgrounds';\r\n\r\nconst drawerWidth = 360;\r\n\r\nexport default makeStyles(theme => ({\r\n  ...backgrounds,\r\n  root: {\r\n    width: drawerWidth,\r\n    flexShrink: 0\r\n  },\r\n  rootPaper: {\r\n    width: drawerWidth\r\n  },\r\n  header: {\r\n    position: 'relative',\r\n    height: 200,\r\n  },\r\n  searchContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    margin: theme.spacing(3),\r\n    padding: '5px 10px',\r\n    backgroundColor: '#fff',\r\n    borderRadius: theme.shape.borderRadius * 2,\r\n    border: '1px solid #ccc',\r\n  },\r\n  search: {\r\n    width: '86%'\r\n  },\r\n  darkBG: {\r\n    paddingTop: 1,\r\n    height: '100%',\r\n    backgroundColor: 'rgba(0, 0, 0, .5)',\r\n  },\r\n}));\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    overflowX: 'hidden',\r\n    margin: theme.spacing(1),\r\n  },\r\n  cityName: {\r\n    marginLeft: theme.spacing(1),\r\n    color: theme.palette.text,\r\n  },\r\n  emblemContainer: {\r\n    display: 'none',\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  changeCityButton: {\r\n    color: theme.palette.text,\r\n  },\r\n\r\n  [theme.breakpoints.up('md')]: {\r\n    root: {\r\n      margin: theme.spacing(3),\r\n    },\r\n    cityName: {\r\n      color: '#fff',\r\n    },\r\n    emblemContainer: {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      width: 40,\r\n      height: 40,\r\n      background: '#fff',\r\n      borderRadius: '50%',\r\n    },\r\n    emblem: {\r\n      height: 30,\r\n    },\r\n    changeCityButton: {\r\n      color: '#fff',\r\n    }\r\n  },\r\n}));\r\n","import novosibirsk from '../../../images/emblems/novosibirsk.svg';\r\nimport krasnoyarsk from '../../../images/emblems/krasnoyarsk.svg';\r\n\r\nexport default {\r\n  novosibirsk,\r\n  krasnoyarsk,\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Typography,\r\n  IconButton,\r\n  Tooltip,\r\n} from '@material-ui/core';\r\nimport { Edit as EditIcon } from '@material-ui/icons';\r\nimport useStyles from './styles';\r\nimport emblems from './emblems';\r\n\r\nfunction Geo(props) {\r\n  const {\r\n    fetchCities,\r\n    setModal,\r\n    loading,\r\n    city,\r\n    titleCity,\r\n  } = props;\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    if (loading) fetchCities();\r\n  }, [loading, fetchCities]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.emblemContainer}>\r\n        <img className={classes.emblem} src={emblems[titleCity]} alt=\"\" />\r\n      </div>\r\n      <Typography variant=\"h6\" className={classes.cityName}>{city}</Typography>\r\n      <div className={classes.grow} />\r\n      <Tooltip title=\"Изменить город\">\r\n        <IconButton onClick={() => setModal(true)}>\r\n          <EditIcon className={classes.changeCityButton} />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </div>\r\n  );\r\n}\r\n\r\nGeo.propTypes = {\r\n  fetchCities: PropTypes.func.isRequired,\r\n  setModal:    PropTypes.func.isRequired,\r\n  loading:     PropTypes.bool.isRequired,\r\n  titleCity:   PropTypes.string.isRequired,\r\n  city:        PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Geo;\r\n","export const WIDTH_MENU = 330;\r\nexport const BLUE_GRADIENT = 'linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)';\r\nexport const ORANGE_GRADIENT = 'linear-gradient(45deg, #f64b11 30%, #ffbc00 90%)';\r\n\r\nexport const ORANGE = '#f64b11';\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { ORANGE } from '../../../constants/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  root: {\r\n    marginTop: 'auto',\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  button: {\r\n    borderRadius: 0,\r\n    color: ORANGE,\r\n    borderColor: ORANGE,\r\n    borderLeft: 'none',\r\n    borderRight: 'none',\r\n  },\r\n  userContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(1),\r\n    borderTop: `1px solid #ccc`,\r\n  },\r\n  avatar: {\r\n    marginRight: theme.spacing(1),\r\n    width: theme.spacing(4),\r\n    height: theme.spacing(4),\r\n    backgroundColor: ORANGE,\r\n  },\r\n  userButtons: {\r\n    marginLeft: 'auto',\r\n  },\r\n}));\r\n","import {\r\n  LOGIN_USER,\r\n  LOGOUT_USER,\r\n  SET_USER,\r\n  LOGOUT_USER_REQUEST,\r\n} from '../actions/user';\r\n\r\nexport const loginUser = user => ({ type: LOGIN_USER, user });\r\nexport const logout = () => ({ type: LOGOUT_USER_REQUEST });\r\nexport const logoutUser = () => ({ type: LOGOUT_USER });\r\nexport const setUser = user => ({ type: SET_USER, user });\r\n","export const SET_USER = 'SET_USER';\r\nexport const LOGIN_USER = 'LOGIN_USER';\r\nexport const LOGOUT_USER = 'LOGOUT_USER';\r\nexport const LOGOUT_USER_REQUEST = 'LOGOUT_USER_REQUEST';\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  Button,\r\n  Typography,\r\n  Tooltip,\r\n  IconButton,\r\n  Avatar,\r\n} from '@material-ui/core';\r\nimport {\r\n  AccountCircle as AccountCircleIcon,\r\n  Settings as SettingsIcon,\r\n  ExitToApp as ExitToAppIcon,\r\n} from '@material-ui/icons';\r\nimport useStyles from './styles';\r\nimport { logout } from '../../../store/AC/user';\r\n\r\nfunction Auth(props) {\r\n  const {\r\n    isAuth,\r\n    name,\r\n    // id,\r\n    avatar,\r\n    logout,\r\n  } = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {\r\n        !isAuth &&\r\n          <Link to=\"/sign-in\" className={classes.link}>\r\n            <Button\r\n              variant=\"outlined\"\r\n              size=\"large\"\r\n              fullWidth\r\n              className={classes.button}\r\n              startIcon={<AccountCircleIcon />}\r\n            >\r\n              Авторизация\r\n            </Button>\r\n          </Link>\r\n      }\r\n      {\r\n        isAuth &&\r\n          <div className={classes.userContainer}>\r\n            <Avatar\r\n              alt={name}\r\n              src={avatar ? avatar : null}\r\n              className={classes.avatar}\r\n            >\r\n              {name[0]}\r\n            </Avatar>\r\n            <Typography variant=\"subtitle1\">{name}</Typography>\r\n            <div className={classes.userButtons}>\r\n              <Tooltip title=\"Настройки\">\r\n                <IconButton size=\"small\">\r\n                  <SettingsIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n              <Tooltip title=\"Выход\">\r\n                <IconButton size=\"small\" onClick={logout}>\r\n                  <ExitToAppIcon />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </div>\r\n          </div>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nAuth.propTypes = {\r\n  isAuth: PropTypes.bool.isRequired,\r\n  name:   PropTypes.string,\r\n  id:     PropTypes.number,\r\n  avatar: PropTypes.string,\r\n  logout: PropTypes.func.isRequired,\r\n};\r\n\r\nAuth.defaultProps = {\r\n  name: null,\r\n  id: null,\r\n  avatar: null,\r\n};\r\n\r\nconst mapStateToProps = ({ user }) => ({\r\n  isAuth: user.isAuth,\r\n  name:   user.name,\r\n  id:     user.id,\r\n  avatar: user.avatar,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  logout,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Auth);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Drawer,\r\n  Hidden,\r\n  InputBase\r\n} from '@material-ui/core';\r\nimport cn from 'classnames';\r\nimport makeStyles from './styles';\r\nimport LogoDark from '../../../images/logo_dark.svg';\r\nimport Geo from '../Geo';\r\nimport Auth from '../Auth';\r\n\r\nfunction DesctopMenu(props) {\r\n  const {\r\n    selectedCity,\r\n    loading,\r\n    fetchCities,\r\n    setModal,\r\n  } = props;\r\n  const classes = makeStyles();\r\n\r\n  return (\r\n    <Hidden smDown implementation=\"css\">\r\n      <Drawer\r\n          variant=\"permanent\"\r\n          className={classes.root}\r\n          classes={{\r\n            paper: classes.rootPaper\r\n          }}\r\n        >\r\n          <div className={cn(classes.header, classes[selectedCity.title])}>\r\n            <div className={classes.darkBG}>\r\n              <div className={classes.searchContainer}>\r\n                <img src={LogoDark} alt=\"\" height=\"35px\" />\r\n                <InputBase\r\n                  className={classes.search}\r\n                  placeholder=\"Поиск по Crime Maps...\"\r\n                />\r\n              </div>\r\n              <Geo\r\n                loading={loading}\r\n                fetchCities={fetchCities}\r\n                setModal={setModal}\r\n                titleCity={selectedCity.title}\r\n                city={selectedCity.name}\r\n              />\r\n            </div>\r\n          </div>\r\n          <Auth />\r\n        </Drawer>\r\n    </Hidden>\r\n  );\r\n}\r\n\r\nDesctopMenu.propTypes = {\r\n  selectedCity: PropTypes.object.isRequired,\r\n  loading: PropTypes.bool.isRequired,\r\n  fetchCities: PropTypes.func.isRequired,\r\n  setModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default DesctopMenu;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { ORANGE_GRADIENT } from '../../../constants/styles';\r\n\r\nconst width = \"80%\";\r\nconst index = 1000;\r\n\r\nexport default makeStyles(theme => ({\r\n  openButton: {\r\n    position: 'absolute',\r\n    top: theme.spacing(1),\r\n    left: theme.spacing(1),\r\n    zIndex: index,\r\n  },\r\n  root: {\r\n    width,\r\n    zIndex: index + 1\r\n  },\r\n  header: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(2),\r\n    paddingRight: theme.spacing(0),\r\n    background: ORANGE_GRADIENT,\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(1),\r\n    color: '#fff'\r\n  },\r\n  logo: {\r\n    height: 30\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  closeMenuButton: {\r\n    color: '#fff'\r\n  }\r\n}));\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Hidden,\r\n  SwipeableDrawer,\r\n  Fab,\r\n  Typography,\r\n  IconButton,\r\n} from '@material-ui/core';\r\nimport {\r\n  Menu as MenuIcon,\r\n  ArrowBackIos as ArrowIcon,\r\n} from '@material-ui/icons';\r\nimport useStyles from './styles';\r\nimport LogoDark from '../../../images/logo_dark.svg';\r\nimport Geo from '../Geo';\r\nimport Auth from '../Auth';\r\n\r\nfunction MobileMenu(props) {\r\n  const {\r\n    loading,\r\n    fetchCities,\r\n    setModal,\r\n    selectedCity,\r\n  } = props;\r\n  const classes = useStyles();\r\n  const [isOpen, setOpen] = useState(false);\r\n  const toggleMenu = value => setOpen(value);\r\n\r\n  return (\r\n    <Hidden mdUp implementation=\"css\">\r\n      <Fab className={classes.openButton} onClick={() => toggleMenu(true)}>\r\n        <MenuIcon />\r\n      </Fab>\r\n\r\n      <SwipeableDrawer\r\n        open={isOpen}\r\n        onOpen={() => toggleMenu(true)}\r\n        onClose={() => toggleMenu(false)}\r\n        className={classes.root}\r\n        classes={{ paper: classes.root }}\r\n      >\r\n        <div className={classes.header}>\r\n          <img src={LogoDark} alt=\"\" className={classes.logo} />\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Crime Maps\r\n          </Typography>\r\n          <div className={classes.grow} />\r\n          <IconButton className={classes.closeMenuButton} onClick={() => toggleMenu(false)}>\r\n            <ArrowIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Geo\r\n          loading={loading}\r\n          fetchCities={fetchCities}\r\n          setModal={setModal}\r\n          titleCity={selectedCity.title}\r\n          city={selectedCity.name}\r\n        />\r\n        <Auth />\r\n      </SwipeableDrawer>\r\n    </Hidden>\r\n  );\r\n}\r\n\r\nMobileMenu.propTypes = {\r\n  fetchCities: PropTypes.func.isRequired,\r\n  setModal: PropTypes.func.isRequired,\r\n  loading: PropTypes.bool.isRequired,\r\n  selectedCity: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default MobileMenu;\r\n","import {\r\n  ADD,\r\n  FETCH_CITIES,\r\n  MODAL,\r\n  ERROR,\r\n  LOADING,\r\n  CHANGE_CITY,\r\n  CHANGE_SELECTED_CITY,\r\n} from '../actions/cities';\r\n\r\nexport const setCities = cities => ({ type: ADD, cities });\r\nexport const fetchCities = () => ({ type: FETCH_CITIES });\r\nexport const setModal = isOpen => ({ type: MODAL, isOpen});\r\nexport const setError = error => ({ type: ERROR, error });\r\nexport const setLoading = loading => ({ type: LOADING, loading });\r\nexport const changeCity = id => ({ type: CHANGE_CITY, id });\r\nexport const changeSelectedCity = id => ({ type: CHANGE_SELECTED_CITY, id });\r\n","export const ADD = 'ADD';\r\nexport const FETCH_CITIES = 'FETCH_CITIES';\r\nexport const MODAL = 'MODAL';\r\nexport const ERROR = 'ERROR';\r\nexport const LOADING = 'LOADING';\r\nexport const CHANGE_CITY = 'CHANGE_CITY';\r\nexport const CHANGE_SELECTED_CITY = 'CHANGE_SELECTED_CITY';\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport DesctopMenu from './Desctop';\r\nimport Mobile from './Mobile';\r\nimport { fetchCities, setModal } from '../../store/AC/cities';\r\n\r\nfunction Menu(props) {\r\n  const {\r\n    fetchCities,\r\n    setModal,\r\n    selectedCityId,\r\n    citiesList,\r\n    loading,\r\n  } = props;\r\n\r\n  const selectedCity = citiesList.find(city => city.id === selectedCityId);\r\n\r\n  return (\r\n    <nav>\r\n      <DesctopMenu\r\n        selectedCity={selectedCity}\r\n        loading={loading}\r\n        fetchCities={fetchCities}\r\n        setModal={setModal}\r\n      />\r\n      <Mobile\r\n        selectedCity={selectedCity}\r\n        loading={loading}\r\n        fetchCities={fetchCities}\r\n        setModal={setModal}\r\n      />\r\n    </nav>\r\n  );\r\n}\r\n\r\nMenu.propTypes = {\r\n  fetchCities: PropTypes.func.isRequired,\r\n  setModal: PropTypes.func.isRequired,\r\n  selectedCityId: PropTypes.number.isRequired,\r\n  citiesList: PropTypes.array.isRequired,\r\n  loading: PropTypes.bool.isRequired,\r\n};\r\n\r\nconst mapStateToProps = ({ cities: { selectedCity, data, loading } }) => ({\r\n  selectedCityId: selectedCity,\r\n  citiesList: data,\r\n  loading,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  fetchCities,\r\n  setModal,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);\r\n","import {\r\n  CHANGE_COORDINATES,\r\n  SET_ZOOM,\r\n  INCREMENT_ZOOM,\r\n  DECREMENT_ZOOM,\r\n} from '../actions/map';\r\n\r\nexport const changeCoordinates = (lat, lng) => ({ type: CHANGE_COORDINATES, lat, lng });\r\nexport const changeZoom = zoom => ({ type: SET_ZOOM, zoom });\r\nexport const incrementZoom = () => ({ type: INCREMENT_ZOOM });\r\nexport const decrementZoom = () => ({ type: DECREMENT_ZOOM });\r\n","export const CHANGE_COORDINATES = 'CHANGE_COORDINATES';\r\nexport const SET_ZOOM = 'SET_ZOOM';\r\nexport const INCREMENT_ZOOM = 'INCREMENT_ZOOM';\r\nexport const DECREMENT_ZOOM = 'DECREMENT_ZOOM';\r\n","import {\r\n  OPEN_INCIDENT,\r\n  CLOSE_INCIDENT,\r\n} from '../actions/incident';\r\n\r\nexport const openIncident = incident => ({ type: OPEN_INCIDENT, incident });\r\nexport const closeIncident = () => ({ type: CLOSE_INCIDENT });\r\n","export const OPEN_INCIDENT = 'OPEN_INCIDENT';\r\nexport const CLOSE_INCIDENT = 'CLOSE_INCIDENT';\r\n","import L from 'leaflet';\r\nimport userIcon from '../../images/pins/user.svg';\r\nimport carTheftIcon from '../../images/pins/car_theft.svg';\r\nimport fireIcon from '../../images/pins/fire.svg';\r\nimport accidentIcon from '../../images/pins/accident.svg';\r\nimport animalIcon from '../../images/pins/animal.svg';\r\nimport violenceIcon from '../../images/pins/violence.svg';\r\nimport badServicesIcon from '../../images/pins/bad_services.svg';\r\nimport deathIcon from '../../images/pins/death.svg';\r\nimport dtpIcon from '../../images/pins/dtp.svg';\r\nimport lostManIcon from '../../images/pins/lost_man.svg';\r\nimport protestIcon from '../../images/pins/protest.svg';\r\nimport theftIcon from '../../images/pins/theft.svg';\r\nimport {\r\n  CAR_THEFT,\r\n  FIRE,\r\n  ACCIDENT,\r\n  ANIMAL,\r\n  VIOLENCE,\r\n  BAD_SERVICES,\r\n  DEATH,\r\n  DTP,\r\n  LOST_MAN,\r\n  PROTEST,\r\n  THEFT,\r\n} from '../../constants/incidents';\r\n\r\nexport default function getIcon(type) {\r\n  let iconUrl;\r\n  switch (type) {\r\n    case CAR_THEFT:\r\n      iconUrl = carTheftIcon; break;\r\n    case FIRE:\r\n      iconUrl = fireIcon; break;\r\n    case ACCIDENT:\r\n      iconUrl = accidentIcon; break;\r\n    case ANIMAL:\r\n      iconUrl = animalIcon; break;\r\n    case VIOLENCE:\r\n      iconUrl = violenceIcon; break;\r\n    case BAD_SERVICES:\r\n      iconUrl = badServicesIcon; break;\r\n    case DEATH:\r\n      iconUrl = deathIcon; break;\r\n    case DTP:\r\n      iconUrl = dtpIcon; break;\r\n    case LOST_MAN:\r\n      iconUrl = lostManIcon; break;\r\n    case PROTEST:\r\n      iconUrl = protestIcon; break;\r\n    case THEFT:\r\n      iconUrl = theftIcon; break;\r\n    default:\r\n      iconUrl = userIcon;\r\n  }\r\n\r\n  return new L.Icon({\r\n    iconUrl,\r\n    iconSize: new L.Point(40, 60),\r\n    iconAnchor: [20, 60]\r\n  });\r\n};\r\n","export const CAR_THEFT = 0;\r\nexport const FIRE = 1;\r\nexport const ACCIDENT = 2;\r\nexport const ANIMAL = 3;\r\nexport const VIOLENCE = 4;\r\nexport const BAD_SERVICES = 5;\r\nexport const DEATH = 6;\r\nexport const DTP = 7;\r\nexport const LOST_MAN = 8;\r\nexport const PROTEST = 9;\r\nexport const THEFT = 10;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { Map as LeafletMap, TileLayer, Marker } from 'react-leaflet';\r\nimport { changeCoordinates, changeZoom } from '../../store/AC/map';\r\nimport { openIncident } from '../../store/AC/incident';\r\nimport { MAX_ZOOM, MIN_ZOOM } from '../../constants/map';\r\nimport getIcon from './getIcon';\r\n\r\nfunction Map(props) {\r\n  const {\r\n    lat,\r\n    lng,\r\n    zoom,\r\n    geodata,\r\n    changeCoordinates,\r\n    changeZoom,\r\n    incidents,\r\n    openIncident,\r\n  } = props;\r\n\r\n  const handleDrag = ({ target }) => {\r\n    const { lat, lng } = target.getCenter();\r\n    changeCoordinates(lat, lng);\r\n  };\r\n\r\n  return (\r\n    <LeafletMap\r\n        center={[lat, lng]}\r\n        zoom={zoom}\r\n        maxZoom={MAX_ZOOM}\r\n        minZoom={MIN_ZOOM}\r\n        attributionControl={true}\r\n        zoomControl={false}\r\n        doubleClickZoom={true}\r\n        scrollWheelZoom={true}\r\n        dragging={true}\r\n        animate={true}\r\n        easeLinearity={0.35}\r\n        onDragEnd={handleDrag}\r\n        onZoomEnd={test => changeZoom(test.target.getZoom())}\r\n      >\r\n        <TileLayer\r\n          url='http://{s}.tile.osm.org/{z}/{x}/{y}.png'\r\n        />\r\n        {\r\n          geodata ?\r\n            <Marker\r\n              position={[geodata.coords.latitude, geodata.coords.longitude]}\r\n              icon={getIcon()}\r\n            >\r\n              \r\n            </Marker>\r\n            : null\r\n        }\r\n        {\r\n          incidents.map(\r\n            incident =>\r\n              <Marker\r\n                key={incident.id}\r\n                position={incident.coords}\r\n                icon={getIcon(incident.type)}\r\n                onClick={() => openIncident(incident)}\r\n              />\r\n          )\r\n        }\r\n      </LeafletMap>\r\n  );\r\n}\r\n\r\nMap.propTypes = {\r\n  lat: PropTypes.number.isRequired,\r\n  lng: PropTypes.number.isRequired,\r\n  geodata: PropTypes.object,\r\n  changeCoordinates: PropTypes.func.isRequired,\r\n  zoom: PropTypes.number.isRequired,\r\n  changeZoom: PropTypes.func.isRequired,\r\n  incidents: PropTypes.array.isRequired,\r\n  openIncident: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = ({ map, geodata, incidents }) => ({\r\n  lat: map.lat,\r\n  lng: map.lng,\r\n  zoom: map.zoom,\r\n  geodata: geodata.geodata,\r\n  incidents: incidents.data,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  changeCoordinates,\r\n  changeZoom,\r\n  openIncident,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Map);\r\n","export const MAX_ZOOM = 17;\r\nexport const MIN_ZOOM = 5;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  title: {\r\n    position: 'relative',\r\n    backgroundColor: '#eee',\r\n    borderBottom: '1px solid #cecece',\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n  },\r\n  loadingText: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  rotate: {\r\n    animation: '$rotate 1s infinite',\r\n  },\r\n  '@keyframes rotate': {\r\n    '0%': {\r\n      transform: 'rotate(0deg)',\r\n    },\r\n    '100%': {\r\n      transform: 'rotate(-360deg)',\r\n    },\r\n  },\r\n  actions: {\r\n    backgroundColor: '#eee',\r\n    borderTop: '1px solid #cecece',\r\n  },\r\n}));\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect, batch } from 'react-redux';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  IconButton,\r\n  Typography,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemSecondaryAction,\r\n  Button,\r\n} from '@material-ui/core';\r\nimport {\r\n  Close as CloseIcon,\r\n  Loop as LoopIcon,\r\n  Check as CheckIcon,\r\n} from '@material-ui/icons';\r\nimport { setModal, changeCity } from '../../store/AC/cities';\r\nimport { changeCoordinates } from '../../store/AC/map';\r\nimport useStyles from './styles';\r\n\r\nfunction CitiesSelector(props) {\r\n  const [selectedCityId, setSelectedCityId] = useState(null);\r\n  const handleClick = id => {\r\n    const city = cities.find(city => city.id === id);\r\n    localStorage.setItem('selectedCity', id);\r\n    batch(() => {\r\n      changeCity(id);\r\n      setModal(false);\r\n      changeCoordinates(city.lat, city.lng);\r\n    });\r\n  };\r\n  const classes = useStyles();\r\n  const {\r\n    isOpen,\r\n    loading,\r\n    setModal,\r\n    cities,\r\n    changeCity,\r\n    changeCoordinates,\r\n  } = props;\r\n\r\n  return (\r\n    <Dialog\r\n      open={isOpen}\r\n      onClose={() => setModal(false)}\r\n      maxWidth=\"sm\"\r\n      fullWidth\r\n    >\r\n      <DialogTitle className={classes.title}>\r\n        Выберите город\r\n        <IconButton onClick={() => setModal(false)} className={classes.closeButton}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        {\r\n          loading && (\r\n            <Typography variant=\"h6\" color=\"textSecondary\" className={classes.loadingText}>\r\n              Загрузка списка городов\r\n              <LoopIcon className={classes.rotate} />\r\n            </Typography>\r\n          )\r\n        }\r\n        {\r\n          !loading && (\r\n            <List component=\"nav\">\r\n              {\r\n                cities.map(city =>\r\n                  <ListItem\r\n                    button\r\n                    key={city.id}\r\n                    selected={city.id === selectedCityId}\r\n                    onClick={() => setSelectedCityId(city.id)}\r\n                  >\r\n                    <ListItemText>{city.name}</ListItemText>\r\n                    {\r\n                      city.id === selectedCityId &&\r\n                        <ListItemSecondaryAction>\r\n                          <IconButton>\r\n                            <CheckIcon />\r\n                          </IconButton>\r\n                        </ListItemSecondaryAction>\r\n                    }\r\n                  </ListItem>\r\n                )\r\n              }\r\n            </List>\r\n          )\r\n        }\r\n      </DialogContent>\r\n      <DialogActions className={classes.actions}>\r\n        <Button onClick={() => handleClick(selectedCityId)} disabled={selectedCityId === null}>Подтвердить</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nCitiesSelector.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  cities: PropTypes.array.isRequired,\r\n  loading: PropTypes.bool.isRequired,\r\n  error: PropTypes.bool.isRequired,\r\n  setModal: PropTypes.func.isRequired,\r\n  changeCity: PropTypes.func.isRequired,\r\n  changeCoordinates: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = ({ cities: {\r\n  isSelectorOpen,\r\n  data,\r\n  loading,\r\n  error,\r\n}}) => ({\r\n  isOpen: isSelectorOpen,\r\n  cities: data,\r\n  loading,\r\n  error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  setModal,\r\n  changeCity,\r\n  changeCoordinates,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CitiesSelector);\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  titleContainer: {\r\n    position: 'relative',\r\n    backgroundColor: '#eee',\r\n    borderBottom: '1px solid #cecece',\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n  },\r\n  infoContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  date: {\r\n    color: '#aaa',\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      textDecoration: 'underline',\r\n    },\r\n  },\r\n  views: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    color: '#aaa',\r\n  },\r\n  viewsIcon: {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  sourcesContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  sourceBorder: {\r\n    marginBottom: theme.spacing(1),\r\n    borderBottom: '1px solid #cecece',\r\n  }\r\n}));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  IconButton,\r\n  Typography,\r\n  Link,\r\n  useTheme,\r\n  useMediaQuery,\r\n} from '@material-ui/core';\r\nimport {\r\n  Close as CloseIcon,\r\n  Visibility as VisibilityIcon,\r\n} from '@material-ui/icons';\r\nimport useStyles from './styles';\r\n\r\nfunction getDate(timestamp) {\r\n  const date = new Date(timestamp);\r\n  let day = date.getDate();\r\n  let month = date.getMonth() + 1;\r\n  const year = date.getFullYear();\r\n  let hours = date.getHours();\r\n  let minutes = date.getMinutes();\r\n\r\n  if (day < 10) day = '0' + day;\r\n  if (month < 10) month = '0' + month;\r\n  if (hours < 10) hours = '0' + hours;\r\n  if (minutes < 10) minutes = '0' + minutes;\r\n\r\n  return `${hours}:${minutes} ${day}.${month}.${year}`;\r\n}\r\n\r\nfunction Incident(props) {\r\n  const {\r\n    close,\r\n    incident: {\r\n      title,\r\n      text,\r\n      date: timestamp,\r\n      views,\r\n      sources,\r\n    },\r\n  } = props;\r\n\r\n  const classes = useStyles();\r\n  const date = getDate(timestamp);\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n  return (\r\n    <Dialog\r\n      open\r\n      onClose={close}\r\n      maxWidth=\"md\"\r\n      fullWidth\r\n      fullScreen={fullScreen}\r\n    >\r\n      <DialogTitle className={classes.titleContainer}>\r\n        {title}\r\n        <IconButton onClick={close} className={classes.closeButton}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </DialogTitle>\r\n\r\n      <DialogContent>\r\n        <div className={classes.infoContainer}>\r\n          <Typography variant=\"body1\" className={classes.date}>{date}</Typography>\r\n          <Typography variant=\"body1\" className={classes.views}>{views} <VisibilityIcon className={classes.viewsIcon} /></Typography>\r\n        </div>\r\n        <Typography variant=\"body1\">{text}</Typography>\r\n        <div className={classes.sourcesContainer}>\r\n          <Typography variant=\"h6\">Источники:</Typography>\r\n          <div className={classes.sourceBorder} />\r\n          {\r\n            sources.map((source, i) => <Link key={i} href={source.link}>{source.name}</Link>)\r\n          }\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nIncident.propTypes = {\r\n  incident: PropTypes.shape({\r\n    id: PropTypes.number.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    text: PropTypes.string.isRequired,\r\n    type: PropTypes.number.isRequired,\r\n    views: PropTypes.number.isRequired,\r\n    date: PropTypes.number.isRequired,\r\n    city: PropTypes.string.isRequired,\r\n    coords: PropTypes.array.isRequired,\r\n    media: PropTypes.array.isRequired,\r\n    sources: PropTypes.array.isRequired,\r\n  }).isRequired,\r\n  close: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Incident;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    height: '100%'\r\n  },\r\n  buttonUserPosition: {\r\n    position: 'absolute',\r\n    bottom: theme.spacing(1),\r\n    right: theme.spacing(1),\r\n    zIndex: 1000,\r\n  },\r\n  zoomButtonsContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    position: 'absolute',\r\n    top: theme.spacing(1),\r\n    right: theme.spacing(1),\r\n    zIndex: 1000,\r\n  },\r\n  buttonZoomOut: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  [theme.breakpoints.up('md')]: {\r\n    buttonUserPosition: {\r\n      bottom: theme.spacing(3),\r\n      right: theme.spacing(3),\r\n    },\r\n    zoomButtonsContainer: {\r\n      top: theme.spacing(3),\r\n      right: theme.spacing(3),\r\n    },\r\n    buttonZoomOut: {\r\n      marginTop: theme.spacing(1),\r\n    },\r\n  },\r\n}));\r\n","import {\r\n  FETCH_ALL_INCIDENTS,\r\n  FETCH_INCIDENT,\r\n  SET_LOADING,\r\n  SET_ERROR,\r\n  SET_INCIDENTS,\r\n} from '../actions/incidents';\r\n\r\nexport const fetchAllIncidents = id => ({ type: FETCH_ALL_INCIDENTS, id });\r\nexport const fetchIncident = id => ({ type: FETCH_INCIDENT, id });\r\nexport const setLoading = value => ({ type: SET_LOADING, value });\r\nexport const setError = error => ({ type: SET_ERROR, error });\r\nexport const setIncidents = incidents => ({ type: SET_INCIDENTS, incidents })","export const FETCH_ALL_INCIDENTS = 'FETCH_ALL_INCIDENTS';\r\nexport const FETCH_INCIDENT = 'FETCH_INCIDENT';\r\nexport const SET_LOADING = 'SET_LOADING';\r\nexport const SET_ERROR = 'SET_ERROR';\r\nexport const SET_INCIDENTS = 'SET_INCIDENTS';\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect, batch } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport {\r\n  Fab,\r\n  ButtonGroup,\r\n  Button,\r\n} from '@material-ui/core';\r\nimport {\r\n  NearMe as NearMeIcon,\r\n  ZoomIn as ZoomInIcon,\r\n  ZoomOut as ZoomOutIcon,\r\n} from '@material-ui/icons';\r\nimport Menu from '../../components/Menu';\r\nimport Map from '../../components/Map';\r\nimport CitiesSelector from '../../components/CitiesSelector';\r\nimport Incident from '../../components/Incident';\r\nimport useStyles from './styles';\r\nimport {\r\n  changeCoordinates,\r\n  incrementZoom,\r\n  decrementZoom,\r\n  changeZoom,\r\n} from '../../store/AC/map';\r\nimport { fetchAllIncidents } from '../../store/AC/incidents';\r\nimport { closeIncident } from '../../store/AC/incident';\r\nimport { MAX_ZOOM, MIN_ZOOM } from '../../constants/map';\r\n\r\nfunction Main(props) {\r\n  const {\r\n    changeCoordinates,\r\n    geodata,\r\n    incrementZoom,\r\n    decrementZoom,\r\n    zoom,\r\n    fetchAllIncidents,\r\n    loading,\r\n    selectedCityid,\r\n    incident,\r\n    closeIncident,\r\n    changeZoom,\r\n  } = props;\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    if (loading) {\r\n      fetchAllIncidents(selectedCityid);\r\n    }\r\n  }, [loading, fetchAllIncidents, selectedCityid]);\r\n\r\n  const zoomIn = () => {\r\n    if (zoom === MAX_ZOOM) return;\r\n    incrementZoom();\r\n  };\r\n\r\n  const zoomOut = () => {\r\n    if (zoom === MIN_ZOOM) return;\r\n    decrementZoom();\r\n  };\r\n\r\n  const viewMe = () => batch(() => {\r\n    changeCoordinates(geodata.coords.latitude, geodata.coords.longitude);\r\n    changeZoom(16);\r\n  });\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Menu />\r\n      <Map />\r\n      <CitiesSelector />\r\n      <Fab\r\n        color=\"primary\"\r\n        size=\"large\"\r\n        className={classes.buttonUserPosition}\r\n        onClick={viewMe}\r\n        disabled={geodata === null}\r\n      >\r\n        <NearMeIcon />\r\n      </Fab>\r\n      <div className={classes.zoomButtonsContainer}>\r\n        <ButtonGroup orientation=\"vertical\">\r\n          <Button variant=\"contained\" onClick={zoomIn}>\r\n            <ZoomInIcon />\r\n          </Button>\r\n          <Button variant=\"contained\" onClick={zoomOut}>\r\n            <ZoomOutIcon />\r\n          </Button>\r\n        </ButtonGroup>\r\n      </div>\r\n      { incident && <Incident incident={incident} close={closeIncident} /> }\r\n    </div>\r\n  );\r\n}\r\n\r\nMain.propTypes = {\r\n  changeCoordinates: PropTypes.func.isRequired,\r\n  geodata:           PropTypes.object,\r\n  incrementZoom:     PropTypes.func.isRequired,\r\n  decrementZoom:     PropTypes.func.isRequired,\r\n  zoom:              PropTypes.number.isRequired,\r\n  fetchAllIncidents: PropTypes.func.isRequired,\r\n  loading:           PropTypes.bool.isRequired,\r\n  selectedCityid:    PropTypes.number.isRequired,\r\n  incident:          PropTypes.object,\r\n  closeIncident:     PropTypes.func.isRequired,\r\n  changeZoom:        PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = ({ geodata, map, incidents, cities, incident }) => ({\r\n  geodata:        geodata.geodata,\r\n  zoom:           map.zoom,\r\n  loading:        incidents.isLoading,\r\n  selectedCityid: cities.selectedCity,\r\n  incident,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  changeCoordinates,\r\n  incrementZoom,\r\n  decrementZoom,\r\n  fetchAllIncidents,\r\n  closeIncident,\r\n  changeZoom,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { BLUE_GRADIENT } from '../../constants/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    minHeight: '100%',\r\n    background: BLUE_GRADIENT,\r\n  },\r\n  logoContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingTop: theme.spacing(3),\r\n    color: '#fff',\r\n    textTransform: 'uppercase',\r\n  },\r\n  logo: {\r\n    marginLeft: theme.spacing(1),\r\n    height: 30,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.spacing(3),\r\n  },\r\n  title: {\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  form: {\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginTop: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  grayText: {\r\n    marginTop: theme.spacing(1),\r\n    textAlign: 'center',\r\n    color: '#999',\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  linkButton: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  underContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  backButton: {\r\n    color: '#fff',\r\n  },\r\n\r\n  [theme.breakpoints.up('sm')]: {\r\n    root: {\r\n      alignItems: 'center',\r\n    },\r\n    paper: {\r\n      marginTop: theme.spacing(10),\r\n      width: theme.breakpoints.width('sm'),\r\n    },\r\n    form: {\r\n      paddingLeft: theme.spacing(3),\r\n      paddingRight: theme.spacing(3),\r\n    },\r\n    underContainer: {\r\n      justifyContent: 'flex-end',\r\n      width: theme.breakpoints.width('sm'),\r\n    },\r\n  },\r\n}));\r\n","import { CHANGE_FIELD } from '../actions/forms';\r\n\r\nexport const changeField = (name, value) => ({ type: CHANGE_FIELD, name, value});\r\n","export const CHANGE_FIELD = 'CHANGE_FIELD';\r\n","import {\r\n  SIGN_UP_REQUEST,\r\n  SIGN_UP_SUCCESS,\r\n  SIGN_UP_FAIL,\r\n  SIGN_IN_REQUEST,\r\n  SIGN_IN_SUCCESS,\r\n  SIGN_IN_FAIL,\r\n  CHECK_USER_AUTH,\r\n} from '../actions/auth';\r\n\r\nexport const requestSignUp = () => ({ type: SIGN_UP_REQUEST });\r\nexport const signUpSuccess = () => ({ type: SIGN_UP_SUCCESS });\r\nexport const signUpFail = data => ({ type: SIGN_UP_FAIL, data });\r\n\r\nexport const signInRequest = () => ({ type: SIGN_IN_REQUEST });\r\nexport const signInSuccess = () => ({ type: SIGN_IN_SUCCESS });\r\nexport const signInFail = data => ({ type: SIGN_IN_FAIL, data });\r\n\r\nexport const checkUserAuth = () => ({ type: CHECK_USER_AUTH });\r\n","export const SIGN_UP_REQUEST = 'SIGN_UP_REQUEST';\r\nexport const SIGN_UP_SUCCESS = 'SIGN_UP_SUCCESS';\r\nexport const SIGN_UP_FAIL = 'SIGN_UP_FAIL';\r\n\r\nexport const SIGN_IN_REQUEST = 'SIGN_IN_REQUEST';\r\nexport const SIGN_IN_SUCCESS = 'SIGN_IN_SUCCESS';\r\nexport const SIGN_IN_FAIL = 'SIGN_IN_FAIL';\r\n\r\nexport const CHECK_USER_AUTH = 'CHECK_USER_AUTH';\r\n","export const NAME_TEMPLATE = /^\\s*([0-9a-zA-Zа-яА-Я]*)\\s*$/;\r\nexport const PASSWORD_TEMPLATE = /^\\s*([0-9a-zA-Z]*)\\s*$/;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect, batch } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport {\r\n  Paper,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Snackbar,\r\n} from '@material-ui/core';\r\nimport emailValidator from 'email-validator';\r\nimport useStyles from './styles';\r\nimport logo from '../../images/logo_dark.svg';\r\nimport { changeField } from '../../store/AC/forms';\r\nimport { signInRequest } from '../../store/AC/auth';\r\nimport { PASSWORD_TEMPLATE } from '../../constants/forms';\r\n\r\nfunction SignIn(props) {\r\n  const {\r\n    snackbar,\r\n    email,\r\n    emailError,\r\n    password,\r\n    passwordError,\r\n    isDisabled,\r\n    changeField,\r\n    signInRequest,\r\n    isAuth,\r\n  } = props;\r\n  const classes = useStyles();\r\n\r\n  const handleChange = ({ target }) => batch(() => {\r\n    changeField(target.name, target.value);\r\n    changeField(target.name + 'Error', '');\r\n  });\r\n\r\n  const handleClick = () => {\r\n    let emailError = '';\r\n    let passwordError = '';\r\n\r\n    if (!emailValidator.validate(email)) emailError = 'Введите корректный E-Mail.';\r\n    if (!password || password.length < 6 || password.length > 16) passwordError = 'Введите корректный пароль.';\r\n    if (!password.match(PASSWORD_TEMPLATE)) passwordError = 'Введите корректный пароль.';\r\n\r\n    if (emailError || passwordError) {\r\n      batch(() => {\r\n        changeField('signInEmailError', emailError);\r\n        changeField('signInPasswordError', passwordError);\r\n      });\r\n      return;\r\n    }\r\n\r\n    signInRequest();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      { isAuth && <Redirect to=\"/\" /> }\r\n      <div className={classes.logoContainer}>\r\n        <Typography variant=\"h5\">Crime Maps</Typography>\r\n        <img src={logo} alt=\"\" className={classes.logo} />\r\n      </div>\r\n\r\n      <Paper className={classes.paper}>\r\n        <Typography variant=\"h6\" className={classes.title}>\r\n          Вход\r\n        </Typography>\r\n\r\n        <div className={classes.form}>\r\n          <TextField\r\n            name=\"signInEmail\"\r\n            value={email}\r\n            error={!!emailError}\r\n            helperText={emailError}\r\n            onChange={handleChange}\r\n            className={classes.textField}\r\n            label=\"E-Mail\"\r\n          />\r\n\r\n          <TextField\r\n            name=\"signInPassword\"\r\n            value={password}\r\n            error={!!passwordError}\r\n            helperText={passwordError}\r\n            type=\"password\"\r\n            onChange={handleChange}\r\n            className={classes.textField}\r\n            label=\"Пароль\"\r\n          />\r\n\r\n          <Button \r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n            size=\"large\"\r\n            className={classes.button}\r\n            fullWidth\r\n            onClick={handleClick}\r\n            disabled={isDisabled}\r\n          >\r\n            Войти\r\n          </Button>\r\n          <Typography variant=\"body2\" className={classes.grayText}>или</Typography>\r\n          <Link to='/sign-up' className={classes.link}>\r\n            <Button\r\n              color=\"secondary\"\r\n              variant=\"contained\"\r\n              className={classes.linkButton}\r\n              fullWidth\r\n            >\r\n              Зарегистрироваться\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </Paper>\r\n      <div className={classes.underContainer}>\r\n        <Link to=\"/\" className={classes.link}>\r\n          <Button className={classes.backButton}>\r\n            Назад на сайт\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n      <Snackbar\r\n        open={!!snackbar}\r\n        message={snackbar}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left',\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nSignIn.propTypes = {\r\n  snackbar:      PropTypes.string,\r\n  email:         PropTypes.string,\r\n  emailError:    PropTypes.string,\r\n  password:      PropTypes.string,\r\n  passwordError: PropTypes.string,\r\n  isDisabled:    PropTypes.bool,\r\n  isAuth:        PropTypes.bool.isRequired,\r\n  changeField:   PropTypes.func.isRequired,\r\n  signInRequest: PropTypes.func.isRequired,\r\n};\r\n\r\nSignIn.defaultProps = {\r\n  snackbar:      '',\r\n  email:         '',\r\n  emailError:    '',\r\n  password:      '',\r\n  passwordError: '',\r\n  isDisabled:    false,\r\n};\r\n\r\nconst mapStateToProps = ({ system, forms, user }) => ({\r\n  snackbar:      system.signInSnackbar,\r\n  redirect:      system.signInRedirectToMain,\r\n  email:         forms.signInEmail,\r\n  emailError:    forms.signInEmailError,\r\n  password:      forms.signInPassword,\r\n  passwordError: forms.signInPasswordError,\r\n  isDisabled:    forms.signInButtonDisabled,\r\n  isAuth:        user.isAuth,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  changeField,\r\n  signInRequest,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { ORANGE_GRADIENT } from '../../constants/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    minHeight: '100%',\r\n    background: ORANGE_GRADIENT,\r\n  },\r\n  logoContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingTop: theme.spacing(3),\r\n    color: '#fff',\r\n    textTransform: 'uppercase',\r\n  },\r\n  logo: {\r\n    marginLeft: theme.spacing(1),\r\n    height: 30,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.spacing(3),\r\n  },\r\n  title: {\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  form: {\r\n    paddingLeft: theme.spacing(1),\r\n    paddingRight: theme.spacing(1),\r\n  },\r\n  textField: {\r\n    marginTop: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  grayText: {\r\n    marginTop: theme.spacing(1),\r\n    textAlign: 'center',\r\n    color: '#999',\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n  },\r\n  linkButton: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  underContainer: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  backButton: {\r\n    color: '#fff',\r\n  },\r\n\r\n  [theme.breakpoints.up('sm')]: {\r\n    root: {\r\n      alignItems: 'center',\r\n    },\r\n    paper: {\r\n      marginTop: theme.spacing(10),\r\n      width: theme.breakpoints.width('sm'),\r\n    },\r\n    form: {\r\n      paddingLeft: theme.spacing(3),\r\n      paddingRight: theme.spacing(3),\r\n    },\r\n    underContainer: {\r\n      justifyContent: 'flex-end',\r\n      width: theme.breakpoints.width('sm'),\r\n    },\r\n  },\r\n}));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect, batch } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport {\r\n  Paper,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Snackbar,\r\n} from '@material-ui/core';\r\nimport emailValidator from 'email-validator';\r\nimport useStyles from './styles';\r\nimport logo from '../../images/logo_dark.svg';\r\nimport { requestSignUp } from '../../store/AC/auth';\r\nimport { changeField } from '../../store/AC/forms';\r\nimport { NAME_TEMPLATE, PASSWORD_TEMPLATE } from '../../constants/forms';\r\n\r\nfunction SignUp(props) {\r\n  const {\r\n    snackbar,\r\n    isButtonDisabled,\r\n    requestSignUp,\r\n    changeField,\r\n    name,\r\n    nameError,\r\n    email,\r\n    emailError,\r\n    password,\r\n    passwordError,\r\n    isAuth,\r\n  } = props;\r\n  const classes = useStyles();\r\n\r\n  const handleChange = ({ target }) => batch(() => {\r\n    changeField(target.name, target.value);\r\n    changeField(target.name + 'Error', '');\r\n  });\r\n\r\n  const handleClick = () => {\r\n    let nameError = '';\r\n    let emailError = '';\r\n    let passwordError = '';\r\n\r\n    if (!name || name.length < 6 || name.length > 16) nameError = 'Имя должно содержать от 6 до 16 символов.';\r\n    if (!name.match(NAME_TEMPLATE)) nameError = 'Допустимы только латинские и кириллические символы, а так же числа.';\r\n\r\n    if (!emailValidator.validate(email)) emailError = 'Введите корректный E-Mail.';\r\n\r\n    if (!password || password.length < 6 || password.length > 16) passwordError = 'Пароль должен содержать от 6 до 16 символов.';\r\n    if (!password.match(PASSWORD_TEMPLATE)) passwordError = 'Допустимы только латинские символы и числа.';\r\n\r\n    if (nameError || emailError || passwordError) {\r\n      batch(() => {\r\n        changeField('signUpNameError', nameError);\r\n        changeField('signUpEmailError', emailError);\r\n        changeField('signUpPasswordError', passwordError);\r\n      });\r\n      return;\r\n    }\r\n\r\n    requestSignUp({ name, email, password });\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      { isAuth && <Redirect to=\"/\" /> }\r\n      <div className={classes.logoContainer}>\r\n        <Typography variant=\"h5\">Crime Maps</Typography>\r\n        <img src={logo} alt=\"\" className={classes.logo} />\r\n      </div>\r\n\r\n      <Paper className={classes.paper}>\r\n        <Typography variant=\"h6\" className={classes.title}>\r\n          Регистрация\r\n        </Typography>\r\n        \r\n        <div className={classes.form}>\r\n          <TextField\r\n            name=\"signUpName\"\r\n            value={name}\r\n            onChange={handleChange}\r\n            error={!!nameError}\r\n            helperText={nameError}\r\n            className={classes.textField}\r\n            label=\"Имя на сайте\"\r\n          />\r\n\r\n          <TextField\r\n            name=\"signUpEmail\"\r\n            value={email}\r\n            onChange={handleChange}\r\n            error={!!emailError}\r\n            helperText={emailError}\r\n            className={classes.textField}\r\n            label=\"E-Mail\"\r\n          />\r\n\r\n          <TextField\r\n            name=\"signUpPassword\"\r\n            value={password}\r\n            type=\"password\"\r\n            onChange={handleChange}\r\n            error={!!passwordError}\r\n            helperText={passwordError}\r\n            className={classes.textField}\r\n            label=\"Пароль\"\r\n          />\r\n\r\n          <Button \r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n            size=\"large\"\r\n            className={classes.button}\r\n            fullWidth\r\n            onClick={handleClick}\r\n            disabled={isButtonDisabled}\r\n          >\r\n            Зарегистрироваться\r\n          </Button>\r\n          <Typography variant=\"body2\" className={classes.grayText}>Уже есть аккаунт?</Typography>\r\n          <Link to='/sign-in' className={classes.link}>\r\n            <Button\r\n              color=\"secondary\"\r\n              variant=\"contained\"\r\n              className={classes.linkButton}\r\n              fullWidth\r\n            >\r\n              Войти\r\n            </Button>\r\n          </Link>\r\n        </div>\r\n      </Paper>\r\n\r\n      <div className={classes.underContainer}>\r\n        <Link to=\"/\" className={classes.link}>\r\n          <Button className={classes.backButton}>\r\n            Назад на сайт\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n\r\n      <Snackbar\r\n        open={!!snackbar}\r\n        message={snackbar}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left',\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nSignUp.propTypes = {\r\n  snackbar:         PropTypes.string,\r\n  requestSignUp:    PropTypes.func.isRequired,\r\n  changeField:      PropTypes.func.isRequired,\r\n  name:             PropTypes.string,\r\n  nameError:        PropTypes.string,\r\n  email:            PropTypes.string,\r\n  emailError:       PropTypes.string,\r\n  password:         PropTypes.string,\r\n  passwordError:    PropTypes.string,\r\n  isButtonDisabled: PropTypes.bool,\r\n  isAuth:           PropTypes.bool.isRequired,\r\n};\r\n\r\nSignUp.defaultProps = {\r\n  name:             '',\r\n  nameError:        '',\r\n  email:            '',\r\n  emailError:       '',\r\n  password:         '',\r\n  passwordError:    '',\r\n  isButtonDisabled: false,\r\n};\r\n\r\nconst mapStateToProps = ({ system, forms, user }) => ({\r\n  snackbar:         system.signUpSnackbar,\r\n  redirect:         system.signUpRedirectToSignIn,\r\n  name:             forms.signUpName,\r\n  nameError:        forms.signUpNameError,\r\n  email:            forms.signUpEmail,\r\n  emailError:       forms.signUpEmailError,\r\n  password:         forms.signUpPassword,\r\n  passwordError:    forms.signUpPasswordError,\r\n  isButtonDisabled: forms.signUpButtonDisabled,\r\n  isAuth:           user.isAuth,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  requestSignUp,\r\n  changeField,\r\n}, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\r\n","import { SET_LOCATION, SET_LOCATION_ERROR } from '../actions/geodata';\r\n\r\nexport const setLocation = data => ({ type: SET_LOCATION, data });\r\nexport const setLocationError = error => ({ type: SET_LOCATION_ERROR, error });\r\n","export const SET_LOCATION = 'SET_LOCATION';\r\nexport const SET_LOCATION_ERROR = 'SET_LOCATION_ERROR';\r\n","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { CssBaseline } from '@material-ui/core';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport cookie from 'js-cookie';\r\nimport Main from '../Main';\r\nimport SignIn from '../SignIn';\r\nimport SignUp from '../SignUp';\r\nimport { setLocation, setLocationError } from '../../store/AC/geodata';\r\nimport { checkUserAuth } from '../../store/AC/auth';\r\n\r\nfunction App(props) {\r\n  const {\r\n    setLocation,\r\n    setLocationError,\r\n    checkUserAuth,\r\n  } = props;\r\n  \r\n  navigator.geolocation.getCurrentPosition(setLocation, setLocationError);\r\n\r\n  if(cookie.get('token')) checkUserAuth();\r\n  \r\n  return (\r\n    <Fragment>\r\n      <CssBaseline />\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Main} />\r\n        <Route path=\"/sign-in\" component={SignIn} />\r\n        <Route path=\"/sign-up\" component={SignUp} />\r\n      </Switch>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nApp.propTypes = {\r\n  setLocation:      PropTypes.func.isRequired,\r\n  setLocationError: PropTypes.func.isRequired,\r\n  checkUserAuth:    PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  setLocation,\r\n  setLocationError,\r\n  checkUserAuth,\r\n}, dispatch);\r\n\r\nexport default connect(null, mapDispatchToProps)(App);\r\n","import { CHANGE_SYSTEM_FIELD } from '../actions/system';\r\n\r\nconst initialState = {\r\n\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch(action.type) {\r\n    case CHANGE_SYSTEM_FIELD:\r\n      return { ...state, [action.name]: action.value };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { CHANGE_FIELD } from '../actions/forms';\r\n\r\nconst initialState = {};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case CHANGE_FIELD:\r\n      return { ...state, [action.name]: action.value };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ADD,\r\n  MODAL,\r\n  ERROR,\r\n  LOADING,\r\n  CHANGE_SELECTED_CITY,\r\n} from '../actions/cities';\r\n\r\nconst initialState = {\r\n  data: JSON.parse(localStorage.getItem('citiesList')) || [{ _id: '5e8f0f4f8883b725cc275bad', id: 1, title: 'novosibirsk', name: 'Новосибирск', lat: 55.0415, lng: 82.9346 }],\r\n  isSelectorOpen: false,\r\n  error: false,\r\n  loading: true,\r\n  selectedCity: +localStorage.getItem('selectedCity') || 1,\r\n};\r\n\r\nfunction cities(state = initialState, action) {\r\n  switch(action.type) {\r\n    case ADD:\r\n      return {...state, data: action.cities};\r\n    case MODAL:\r\n      return {...state, isSelectorOpen: action.isOpen};\r\n    case ERROR:\r\n      return {...state, error: action.error};\r\n    case LOADING:\r\n      return {...state, loading: action.loading};\r\n    case CHANGE_SELECTED_CITY:\r\n      return {...state, selectedCity: action.id};\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default cities;\r\n","import {\r\n  CHANGE_COORDINATES,\r\n  SET_ZOOM,\r\n  INCREMENT_ZOOM,\r\n  DECREMENT_ZOOM,\r\n} from '../actions/map';\r\n\r\nconst selectedCity = +JSON.parse(localStorage.getItem('selectedCity'));\r\nconst savedCities = JSON.parse(localStorage.getItem('citiesList'));\r\nlet lat;\r\nlet lng;\r\n\r\nif (selectedCity && savedCities) {\r\n  const city = savedCities.find(city => city.id === selectedCity);\r\n  lat = city.lat;\r\n  lng = city.lng;\r\n} else {\r\n  lat = 55.0415;\r\n  lng = 82.9346;\r\n}\r\n\r\nconst initialState = {\r\n  lat,\r\n  lng,\r\n  zoom: 13,\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch(action.type) {\r\n    case CHANGE_COORDINATES:\r\n      return { ...state, lat: action.lat, lng: action.lng };\r\n    case SET_ZOOM:\r\n      return { ...state, zoom: action.zoom };\r\n    case INCREMENT_ZOOM:\r\n      return { ...state, zoom: ++state.zoom };\r\n    case DECREMENT_ZOOM:\r\n      return { ...state, zoom: --state.zoom };\r\n    default:\r\n      return state;\r\n  }\r\n}","import { SET_LOCATION, SET_LOCATION_ERROR } from '../actions/geodata';\r\n\r\nconst initialState = {\r\n  geodata: null,\r\n  error: false,\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_LOCATION:\r\n      return { ...state, geodata: action.data };\r\n    case SET_LOCATION_ERROR:\r\n      return { ...state, error: true };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  SET_LOADING,\r\n  SET_ERROR,\r\n  SET_INCIDENTS,\r\n} from '../actions/incidents';\r\n\r\nconst initialState = {\r\n  isLoading: true,\r\n  data: [],\r\n  error: false,\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch(action.type) {\r\n    case SET_INCIDENTS:\r\n      return { ...state, data: action.incidents };\r\n    case SET_LOADING:\r\n      return { ...state, isLoading: false };\r\n    case SET_ERROR:\r\n      return { ...state, error: action.error };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { SET_USER, LOGOUT_USER } from '../actions/user';\r\n\r\nconst initialState = {\r\n  isAuth: false,\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch(action.type) {\r\n    case SET_USER:\r\n      return { ...action.user, isAuth: true };\r\n    case LOGOUT_USER:\r\n      return { isAuth: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport system from './system';\r\nimport forms from './forms';\r\nimport cities from './cities';\r\nimport map from './map';\r\nimport geodata from './geodata';\r\nimport incidents from './incidents';\r\nimport incident from './incident';\r\nimport user from './user';\r\n\r\nexport default combineReducers({\r\n  system,\r\n  forms,\r\n  cities,\r\n  map,\r\n  geodata,\r\n  incidents,\r\n  incident,\r\n  user,\r\n});\r\n","export const CHANGE_SYSTEM_FIELD = 'CHANGE_SYSTEM_FIELD';\r\n","import {\r\n  OPEN_INCIDENT,\r\n  CLOSE_INCIDENT,\r\n} from '../actions/incident';\r\n\r\nconst initialState = null;\r\n\r\nexport default function(state = initialState, action) {\r\n  switch(action.type) {\r\n    case OPEN_INCIDENT:\r\n      return { ...action.incident };\r\n    case CLOSE_INCIDENT:\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { takeLatest, call, put } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport { FETCH_CITIES, CHANGE_CITY } from '../actions/cities';\r\nimport { setCities, setError, setLoading, changeSelectedCity } from '../AC/cities';\r\nimport { fetchAllIncidents } from '../AC/incidents';\r\n\r\nfunction* fetchCities() {\r\n  try {\r\n    const { data } = yield call(axios.get, '/api/cities/');\r\n    localStorage.setItem('citiesList', JSON.stringify(data));\r\n    yield put(setCities(data));\r\n    yield put(setError(false));\r\n    yield put(setLoading(false));\r\n  } catch(error) {\r\n    console.error(error.message);\r\n    yield put(setError(true));\r\n  }\r\n}\r\n\r\nfunction* changeCity(props) {\r\n  try {\r\n    const { id } = props;\r\n    yield put(fetchAllIncidents(id));\r\n    yield put(changeSelectedCity(id));\r\n  } catch(error) {\r\n    console.error(error.message);\r\n  }\r\n}\r\n\r\nexport default function* () {\r\n  yield takeLatest(FETCH_CITIES, fetchCities);\r\n  yield takeLatest(CHANGE_CITY, changeCity);\r\n}\r\n","import { takeLatest, call, put, select } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport { FETCH_ALL_INCIDENTS } from '../actions/incidents';\r\nimport { setError, setLoading, setIncidents } from '../AC/incidents';\r\n\r\nfunction* fetchIncidents(props) {\r\n  const cityId = props.id;\r\n  try {\r\n    const { cities } = yield select(({ cities }) => ({\r\n      cities: cities.data,\r\n    }));\r\n    const { title: city } = cities.find(city => city.id === cityId);\r\n    const { data } = yield call(axios.get, `/api/incidents/${city}`);\r\n    \r\n    yield put(setError(false));\r\n    yield put(setLoading(false));\r\n    yield put(setIncidents(data));\r\n  } catch(e) {\r\n    console.error(e.message);\r\n    yield put(setError(true));\r\n  }\r\n}\r\n\r\nexport default function* () {\r\n  yield takeLatest(FETCH_ALL_INCIDENTS, fetchIncidents);\r\n};\r\n","export const ROUTE_SIGN_UP =    '/api/auth/sign-up';\r\nexport const ROUTE_SIGN_IN =    '/api/auth/sign-in';\r\nexport const ROUTE_CHECK_AUTH = '/api/auth/check';\r\nexport const ROUTE_LOGOUT =     '/api/auth/logout';\r\n","import { CHANGE_SYSTEM_FIELD } from '../actions/system';\r\n\r\nexport const changeSystemField = (name, value) => ({ type: CHANGE_SYSTEM_FIELD, name, value });\r\n","import { takeEvery, call, put, select, delay } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport cookie from 'js-cookie';\r\nimport {\r\n  ROUTE_SIGN_UP,\r\n  ROUTE_SIGN_IN,\r\n  ROUTE_CHECK_AUTH,\r\n  ROUTE_LOGOUT,\r\n} from '../../api/auth';\r\nimport {\r\n  SIGN_UP_REQUEST,\r\n  SIGN_UP_SUCCESS,\r\n  SIGN_UP_FAIL,\r\n  SIGN_IN_REQUEST,\r\n  SIGN_IN_SUCCESS,\r\n  SIGN_IN_FAIL,\r\n  CHECK_USER_AUTH,\r\n} from '../actions/auth';\r\nimport { LOGIN_USER, LOGOUT_USER_REQUEST } from '../actions/user';\r\nimport { changeSystemField } from '../AC/system';\r\nimport { changeField } from '../AC/forms';\r\nimport { loginUser, setUser, logoutUser, logout } from '../AC/user';\r\nimport {\r\n  signUpSuccess,\r\n  signUpFail,\r\n  signInSuccess,\r\n  signInFail,\r\n} from '../AC/auth';\r\n\r\nfunction* signUpRequestSaga() {\r\n  try {\r\n    const {\r\n      signUpName: name,\r\n      signUpEmail: email,\r\n      signUpPassword: password,\r\n    } = yield select(({ forms }) => forms);\r\n\r\n    yield put(changeSystemField('signUpSnackbar', 'Регистрация нового пользователя...'));\r\n    yield put(changeField('signUpButtonDisabled', true));\r\n\r\n    const result = yield call(axios.post, ROUTE_SIGN_UP, { name: name.trim(), email: email.trim(), password });\r\n\r\n    if (result.status === 201) {\r\n      yield put(signUpSuccess());\r\n    } else {\r\n      yield put(signUpFail(result.data));\r\n    }\r\n    \r\n  } catch(e) {\r\n    yield put(changeSystemField('signUpSnackbar', 'Произошла неизвестная ошибка, попробуйте еще раз.'));\r\n    yield delay(5000);\r\n    yield put(changeSystemField('signUpSnackbar', ''));\r\n  } finally {\r\n    yield put(changeField('signUpButtonDisabled', false));\r\n  }\r\n}\r\n\r\nfunction* signUpSuccessSaga() {\r\n  yield put(changeSystemField('signUpSnackbar', ''));\r\n  yield put(changeField('signUpName', ''));\r\n  yield put(changeField('signUpEmail', ''));\r\n  yield put(changeField('signUpPassword', ''));\r\n  yield put(loginUser());\r\n}\r\n\r\nfunction* signUpFailSaga({ data }) {\r\n  if (data === 'name: lenght')           yield put(changeField('signUpNameError', 'Имя должно содержать от 6 до 16 символов.'));\r\n  else if (data === 'name: invalid')     yield put(changeField('signUpNameError', 'Допустимы только латинские и кириллические символы, а так же числа.'));\r\n  else if (data === 'name: busy')        yield put(changeField('signUpNameError', 'Имя занято, попробуйте другое.'));\r\n  else if (data === 'email: invalid')    yield put(changeField('signUpEmailError', 'Введите корректный E-Mail.'));\r\n  else if (data === 'email: busy')       yield put(changeField('signUpEmailError', 'Указанный E-Mail уже есть в системе. Попробуйте авторизоваться.'));\r\n  else if (data === 'password: length')  yield put(changeField('signUpPasswordError', 'Пароль должен содержать от 6 до 16 символов.'));\r\n  else if (data === 'password: invalid') yield put(changeField('signUpPasswordError', 'Допустимы только латинские символы и числа.'));\r\n  yield put(changeSystemField('signUpSnackbar', ''));\r\n}\r\n\r\nfunction* signInRequestSaga() {\r\n  try {\r\n    const {\r\n      signInEmail: email,\r\n      signInPassword: password,\r\n    } = yield select(({ forms }) => forms);\r\n\r\n    yield put(changeSystemField('signInSnackbar', 'Пытаемся войти...'));\r\n    yield put(changeField('signInButtonDisabled', true));\r\n\r\n    const { data } = yield call(axios.post, ROUTE_SIGN_IN, { email: email.trim(), password });\r\n\r\n    if (data === 'OK') {\r\n      yield put(signInSuccess());\r\n    } else {\r\n      yield put(changeSystemField('signInSnackbar', 'Вход не выполнен. Попробуйте еще раз.'));\r\n      yield put(signInFail(data));\r\n    }\r\n  } catch(e) {\r\n    yield put(changeField('signInButtonDisabled', false));\r\n    yield put(changeSystemField('signInSnackbar', 'Произошла неизвестная ошибка, попробуйте еще раз.'));\r\n    yield delay(5000);\r\n    yield put(changeSystemField('signInSnackbar', ''));\r\n  }\r\n}\r\n\r\nfunction* signInSuccessSaga() {\r\n  yield put(changeField('signInButtonDisabled', false));\r\n  yield put(changeSystemField('signInSnackbar', ''));\r\n  yield put(changeField('signInEmail', ''));\r\n  yield put(changeField('signInPassword', ''));\r\n  yield put(loginUser());\r\n}\r\n\r\nfunction* signInFailSaga({ data }) {\r\n  if (data === 'email: invalid')         yield put(changeField('signInEmailError', 'Введите корректный E-Mail.'));\r\n  else if (data === 'email: not found')  yield put(changeField('signInEmailError', 'Пользователь не найден.'));\r\n  else if (data === 'password: invalid') yield put(changeField('signInEmailError', 'Введите корректный пароль.'));\r\n  else if (data === 'password: wrong')   yield put(changeField('signInEmailError', 'Пароль не верный.'));\r\n  yield put(changeField('signInButtonDisabled', false));\r\n  yield delay(3000);\r\n  yield put(changeSystemField('signInSnackbar', ''));\r\n}\r\n\r\nfunction* login() {\r\n  const token = cookie.get('token');\r\n  const name = cookie.get('user-name');\r\n  const email = cookie.get('user-email');\r\n  const id = +cookie.get('user-id');\r\n  axios.defaults.headers.common['Authorization'] = token;\r\n  yield put(setUser({ name, email, id }));\r\n}\r\n\r\nfunction* logoutRequest() {\r\n  try {\r\n    yield call(axios.get, ROUTE_LOGOUT);\r\n    axios.defaults.headers.common['Authorization'] = '';\r\n    yield put(logoutUser());\r\n  } catch(e) {\r\n    console.error(e.message);\r\n  }\r\n}\r\n\r\nfunction* checkUserAuth() {\r\n  try {\r\n    const token = cookie.get('token');\r\n    const name = cookie.get('user-name');\r\n    const email = cookie.get('user-email');\r\n    const id = +cookie.get('user-id');\r\n\r\n    if (!token || !name || !email || id === undefined) {\r\n      throw new Error();\r\n    }\r\n\r\n    axios.defaults.headers.common['Authorization'] = token;\r\n    const result = yield call(axios.get, ROUTE_CHECK_AUTH);\r\n    if (result.data === 'OK') yield put(setUser({ name, email, id }));\r\n    else throw new Error();\r\n  } catch(e) {\r\n    yield put(logout());\r\n  }\r\n}\r\n\r\nexport default function* () {\r\n  yield takeEvery(SIGN_UP_REQUEST, signUpRequestSaga);\r\n  yield takeEvery(SIGN_UP_SUCCESS, signUpSuccessSaga);\r\n  yield takeEvery(SIGN_UP_FAIL, signUpFailSaga);\r\n  yield takeEvery(SIGN_IN_REQUEST, signInRequestSaga);\r\n  yield takeEvery(SIGN_IN_SUCCESS, signInSuccessSaga);\r\n  yield takeEvery(SIGN_IN_FAIL, signInFailSaga);\r\n  yield takeEvery(LOGIN_USER, login);\r\n  yield takeEvery(LOGOUT_USER_REQUEST, logoutRequest);\r\n  yield takeEvery(CHECK_USER_AUTH, checkUserAuth);\r\n};\r\n","import { all } from 'redux-saga/effects';\r\nimport cities from './cities';\r\nimport incidents from './incidents';\r\nimport auth from './auth';\r\n\r\nfunction* rootSaga() {\r\n  yield all([\r\n    cities(),\r\n    incidents(),\r\n    auth(),\r\n  ]);\r\n}\r\n\r\nexport default rootSaga;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport rootReducer from './reducers';\r\nimport rootSaga from './sagas';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(sagaMiddleware));\r\nwindow.getState = store.getState;\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './containers/App';\r\nimport store from './store';\r\nimport './styles.css';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/logo_dark.6ea33164.svg\";"],"sourceRoot":""}